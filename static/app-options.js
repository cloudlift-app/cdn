parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"zY0S":[function(require,module,exports) {
"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function o(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var i=function(){function n(){t(this,n)}return o(n,null,[{key:"merge",value:function(e,t,o){for(var r in t)!t.hasOwnProperty(r)||null!=o&&-1===o.indexOf(r)||("[object Object]"===Object.prototype.toString.call(t[r])?e[r]=n.merge(e[r],t[r]):void 0!==t[r]&&(e[r]=t[r]));return e}},{key:"extend",value:function(){for(var e={},t=function(t){for(var o in t)t.hasOwnProperty(o)&&("[object Object]"===Object.prototype.toString.call(t[o])?e[o]=n.extend(e[o],t[o]):void 0!==t[o]&&(e[o]=t[o]))},o=0;o<arguments.length;o++){t(arguments[o])}return e}},{key:"isElement",value:function(t){return"object"===e(t)&&void 0!==t.nodeType}},{key:"isNodeList",value:function(t){var o=Object.prototype.toString.call(t),r="object"===e(t)&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(o)&&"number"==typeof t.length&&(0===t.length||"object"===e(t[0])&&t[0].nodeType>0);return!r&&Array.isArray(t)&&t.length>0?n.isElement(t[0]):r}},{key:"isInPage",value:function(e){return e!==document.body&&document.body.contains(e)}},{key:"isHidden",value:function(e){return 0===e.offsetHeight||0===e.offsetWidth||null===e.offsetParent||"none"===window.getComputedStyle(e).display}},{key:"isScrolledIntoView",value:function(e){var t=e.getBoundingClientRect(),n=t.top,o=t.bottom;return n>=0&&o<=window.innerHeight}},{key:"matches",value:function(e,t){return Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=t.length;--n>=0&&t.item(n)!==this;);return n>-1}),e.matches(t)}},{key:"findParent",value:function(e,t){if("function"==typeof e.closest)return e.closest(t)||null;for(;e;){if(n.matches(e,t))return e;e=e.parentElement}return null}},{key:"findElementContainsText",value:function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document;return n.findElementContainsRegex(e,new RegExp(t),o)}},{key:"findElementContainsRegex",value:function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:document).querySelectorAll(e);return Array.prototype.filter.call(n,function(e){return t.test(e.textContent)})}},{key:"escapeRegex",value:function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}},{key:"readCookie",value:function(e){e+="=";for(var t=document.cookie.split(/;\s*/),n=t.length-1;n>=0;n--)if(!t[n].indexOf(e))return t[n].replace(e,"")}},{key:"writeCookie",value:function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"/",r=new Date;r.setDate(r.getDate()+n);var i=null==n?"":"; expires="+r.toUTCString();document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+i+(o?"; path="+o:"")+";"}},{key:"removeCookie",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/";document.cookie=e+"=; Path="+t+"; Expires=Thu, 01 Jan 1970 00:00:01 GMT;"}},{key:"addStyleElement",value:function(e,t){t&&"head"!=t||(t=document.head||document.getElementsByTagName("head")[0]);var n=document.createElement("style");return n.appendChild(document.createTextNode(e)),t.appendChild(n),n}},{key:"objectKeys",value:function(e){if(!Object.keys){var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push(t);return n}return Object.keys(e)}},{key:"hasQueryParam",value:function(e,t){return-1!==e.indexOf(t)}},{key:"getQueryParam",value:function(e,t){var n=new RegExp("[?&]"+t+"=([^&#]*)","i").exec(e);return n?n[1]:null}},{key:"getQueryParams",value:function(e){var t={},n=document.createElement("a");n.href=e;for(var o=n.search.substring(1).split("&"),r=0;r<o.length;r++){var i=o[r].split("=");t[i[0]]=decodeURIComponent(i[1])}return t}},{key:"buildQueryParams",value:function(e){return Object.keys(e).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&")}},{key:"debounced",value:function(e,t){var n;return function(){for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];n&&clearTimeout(n),n=setTimeout(function(){t.apply(void 0,r),n=null},e)}}},{key:"throttled",value:function(e,t){var n=0;return function(){var o=(new Date).getTime();if(!(o-n<e))return n=o,t.apply(void 0,arguments)}}},{key:"decodeHtml",value:function(e){var t=document.createElement("textarea");return t.innerHTML=e,t.value}},{key:"getAgent",value:function(){return navigator.userAgent||navigator.vendor||window.opera}},{key:"isInApp",value:function(e){return e.indexOf("FBAN")>-1||e.indexOf("FBAV")>-1||e.indexOf("Instagram")>-1}},{key:"isFacebook",value:function(e){return e.indexOf("FBAN")>-1||e.indexOf("FBAV")>-1}},{key:"isInstagram",value:function(e){return e.indexOf("Instagram")>-1}},{key:"isIOS",value:function(e){return(e=e.toLowerCase()).indexOf("iphone")>-1||e.indexOf("ipad")>-1}},{key:"isAndroid",value:function(e){return(e=e.toLowerCase()).indexOf("android")>-1}},{key:"isMobile",value:function(e){return this.isAndroid(e)||this.isIOS(e)}}]),n}();r(i,"findInnerDimensions",function(e){var t=getComputedStyle(e),n=e.clientWidth,o=e.clientHeight;return{height:o-=parseFloat(t.paddingTop)+parseFloat(t.paddingBottom),width:n-=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight)}});var u=i;exports.default=u;
},{}],"IkY8":[function(require,module,exports) {
"use strict";function e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function n(e,n){for(var r=0;r<n.length;r++){var t=n[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function r(e,r,t){return r&&n(e.prototype,r),t&&n(e,t),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=function(){function n(){e(this,n)}return r(n,null,[{key:"get",value:function(e,r){var t=n.translations[e]||e;if(r)for(var a in r)r.hasOwnProperty(a)&&(t=t.replace(new RegExp("{"+a+"}","g"),r[a]));return t}}]),n}();t.translations={};var a=t;exports.default=a;
},{}],"mx8w":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("./util"));function e(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var s=0;s<e.length;s++){var r=e[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function n(t,e,s){return e&&r(t.prototype,e),s&&r(t,s),t}var o=function(){function e(r,n){s(this,e);if(!this.supports())throw"This browser is not supported";return this.settings=t.default.extend({method:"GET",username:null,password:null,data:{},queryParams:{},headers:{"Content-type":"application/x-www-form-urlencoded"},responseType:"text",timeout:null,withCredentials:!1,onProgress:null},n||{}),this.xhr(r)}return n(e,[{key:"supports",value:function(){return"XMLHttpRequest"in window&&"JSON"in window&&"Promise"in window}},{key:"parse",value:function(t){var e;if("text"!==this.settings.responseType&&""!==this.settings.responseType){var s=t.response;if("json"===this.settings.responseType&&"string"==typeof s)try{s=JSON.parse(s)}catch(r){}return{data:s,xhr:t}}try{e=JSON.parse(t.responseText)}catch(r){e=t.responseText}return{data:e,xhr:t}}},{key:"param",value:function(t){if("string"==typeof t||"[object FormData]"===Object.prototype.toString.call(t)||"[object File]"===Object.prototype.toString.call(t)||"[object Blob]"===Object.prototype.toString.call(t))return t;if(/application\/json/i.test(this.settings.headers["Content-type"])||"[object Array]"===Object.prototype.toString.call(t))return JSON.stringify(t);var e=[];for(var s in t)t.hasOwnProperty(s)&&e.push(encodeURIComponent(s)+"="+encodeURIComponent(t[s]));return e.join("&")}},{key:"addQueryParams",value:function(t){if(this.settings.queryParams){var e=[];for(var s in this.settings.queryParams)this.settings.queryParams.hasOwnProperty(s)&&e.push(s+"="+this.settings.queryParams[s]);if(e.length>0){var r=e.join("&");return-1===t.indexOf("?")?t+"?"+r:t+"&"+r}}return t}},{key:"xhr",value:function(t){var e=this,s=new XMLHttpRequest,r=new Promise(function(r,n){for(var o in s.onreadystatechange=function(){if(4===s.readyState){var t=e.parse(s);s.status>=200&&s.status<300?r(t):n(t)}},t=e.addQueryParams(t),s.open(e.settings.method,t,!0,e.settings.username,e.settings.password),s.responseType=e.settings.responseType,e.settings.headers)e.settings.headers.hasOwnProperty(o)&&s.setRequestHeader(o,e.settings.headers[o]);e.settings.timeout&&(s.timeout=e.settings.timeout,s.ontimeout=function(t){n({status:408,statusText:"Request timeout"})}),e.settings.withCredentials&&(s.withCredentials=!0),e.settings.onProgress&&(s.upload.onprogress=e.settings.onProgress),s.send(e.param(e.settings.data))});return r.cancel=function(){s.abort()},r}}]),e}(),i=o;exports.default=i;
},{"./util":"zY0S"}],"ohSP":[function(require,module,exports) {
var define;
var e;!function(o,t){"use strict";"function"==typeof e&&e.amd?e(t):"object"==typeof module&&module.exports?module.exports=t():o.log=t()}(this,function(){"use strict";var e=function(){},o="undefined",t=typeof window!==o&&typeof window.navigator!==o&&/Trident\/|MSIE /.test(window.navigator.userAgent),n=["trace","debug","info","warn","error"];function l(e,o){var t=e[o];if("function"==typeof t.bind)return t.bind(e);try{return Function.prototype.bind.call(t,e)}catch(n){return function(){return Function.prototype.apply.apply(t,[e,arguments])}}}function i(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function r(o,t){for(var l=0;l<n.length;l++){var i=n[l];this[i]=l<o?e:this.methodFactory(i,o,t)}this.log=this.debug}function c(n,c,a){return function(n){return"debug"===n&&(n="log"),typeof console!==o&&("trace"===n&&t?i:void 0!==console[n]?l(console,n):void 0!==console.log?l(console,"log"):e)}(n)||function(e,t,n){return function(){typeof console!==o&&(r.call(this,t,n),this[e].apply(this,arguments))}}.apply(this,arguments)}function a(e,t,l){var i,a=this,s="loglevel";function u(){var e;if(typeof window!==o&&s){try{e=window.localStorage[s]}catch(l){}if(typeof e===o)try{var t=window.document.cookie,n=t.indexOf(encodeURIComponent(s)+"=");-1!==n&&(e=/^([^;]+)/.exec(t.slice(n))[1])}catch(l){}return void 0===a.levels[e]&&(e=void 0),e}}"string"==typeof e?s+=":"+e:"symbol"==typeof e&&(s=void 0),a.name=e,a.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},a.methodFactory=l||c,a.getLevel=function(){return i},a.setLevel=function(t,l){if("string"==typeof t&&void 0!==a.levels[t.toUpperCase()]&&(t=a.levels[t.toUpperCase()]),!("number"==typeof t&&t>=0&&t<=a.levels.SILENT))throw"log.setLevel() called with invalid level: "+t;if(i=t,!1!==l&&function(e){var t=(n[e]||"silent").toUpperCase();if(typeof window!==o&&s){try{return void(window.localStorage[s]=t)}catch(l){}try{window.document.cookie=encodeURIComponent(s)+"="+t+";"}catch(l){}}}(t),r.call(a,t,e),typeof console===o&&t<a.levels.SILENT)return"No console available for logging"},a.setDefaultLevel=function(e){u()||a.setLevel(e,!1)},a.enableAll=function(e){a.setLevel(a.levels.TRACE,e)},a.disableAll=function(e){a.setLevel(a.levels.SILENT,e)};var f=u();null==f&&(f=null==t?"WARN":t),a.setLevel(f,!1)}var s=new a,u={};s.getLogger=function(e){if("symbol"!=typeof e&&"string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var o=u[e];return o||(o=u[e]=new a(e,s.getLevel(),s.methodFactory)),o};var f=typeof window!==o?window.log:void 0;return s.noConflict=function(){return typeof window!==o&&window.log===s&&(window.log=f),s},s.getLoggers=function(){return u},s.default=s,s});
},{}],"cEki":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=u(require("./request")),e=u(require("./util")),n=o(require("loglevel"));function r(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return r=function(){return t},t}function o(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=r();if(e&&e.has(t))return e.get(t);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in t)if(Object.prototype.hasOwnProperty.call(t,u)){var i=o?Object.getOwnPropertyDescriptor(t,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,i):n[u]=t[u]}return n.default=t,e&&e.set(t,n),n}function u(t){return t&&t.__esModule?t:{default:t}}function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e,n){return e&&c(t.prototype,e),n&&c(t,n),t}var d=function(){function r(t){a(this,r);this.settings=e.default.extend({api:"",path:{products:"/products/{handle}.{view}"}},t||{})}return l(r,[{key:"fakeProduct",value:function(t){this.isProduct=function(){return!0},this.getHandleFromUrl=function(){return t}}},{key:"isAdmin",value:function(){return null!=document.getElementById("admin_bar_iframe")}},{key:"isProduct",value:function(){return-1!==window.location.pathname.indexOf("/products/")||this.isProductPreview()}},{key:"isProductPreview",value:function(){return-1!==window.location.pathname.indexOf("/products_preview")}},{key:"getDiscountUrl",value:function(t,e){return"/discount/"+t+(e?"?redirect="+e:"")}},{key:"getDiscountCode",value:function(){return e.default.readCookie("discount_code")}},{key:"saveDiscountCode",value:function(t){return e.default.writeCookie("discount_code",t,null,"/")}},{key:"removeDiscountCode",value:function(){return e.default.removeCookie("discount_code")}},{key:"getHandleFromUrl",value:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:location.pathname).replace(/\/$/,"").split("/"),e=("products"==t[t.length-2]||"products_preview"===t.pop())&&t[t.length-1].replace(/(.*)?\?.*$/,"$1");return decodeURIComponent(e)}},{key:"tryGetProduct",value:function(){return this.isProduct()?this.getProduct():new Promise(function(t,e){t(null)})}},{key:"tryGetProductMap",value:function(){return this.isProduct()?this.getProduct().then(function(t){return r.products}):new Promise(function(t,e){t(r.products)})}},{key:"parseProductJsonElements",value:function(){var t=document.querySelectorAll('[id^="ProductJson-"]');if(0===t.length&&(t=document.querySelectorAll("[data-product-json]")),t.length>0)for(var e=0;e<t.length;e++){var o=t[e];try{var u=JSON.parse(o.innerHTML);"object"===i(u.product)&&(u=u.product),u.handle&&(r.products[u.handle+".js"]=this.convertProductJson(u))}catch(a){n.debug("error parsing ProductJson: ",o,a)}}}},{key:"convertProductJson",value:function(t){if(t.options&&t.options.length&&"object"!==i(t.options[0])){for(var e=[],n=0;n<t.options.length;n++){for(var r={name:t.options[n],position:n+1,values:[]},o=0;o<t.variants.length;o++){var u=t.variants[o]["option"+r.position];u&&-1===r.values.indexOf(u)&&r.values.push(u)}e.push(r)}t.options=e}return t}},{key:"getProduct",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"js";if(!e&&!(e=this.getHandleFromUrl())&&this.isProductPreview()){var o=function(t){if(r.products.hasOwnProperty(t))return{v:new Promise(function(e,n){e(r.products[t])})}};for(var u in r.products){var a=o(u);if("object"===i(a))return a.v}}var c,l=e+"."+n;return r.products[l]?new Promise(function(t,e){t(r.products[l])}):(e?c=this.settings.api+this.settings.path.products.replace("{handle}",e).replace("{view}",n):this.isProductPreview()&&(c=window.location.href.replace("products_preview","products_preview."+n)),new t.default(c,{method:"GET",responseType:"json"}).then(function(t){var e=t.data;return"json"===n&&(e=t.data.product),r.products[l]=e,e}).catch(function(t){throw t}))}},{key:"onThemeSectionEvent",value:function(t,e){return document.addEventListener("shopify:section:"+t,e)}},{key:"findProductForms",value:function(){return document.querySelectorAll('form[action*="/cart/add"]')}},{key:"findProductFormBestMatch",value:function(t){var e="#product_form_"+t,n=document.querySelector(e);if(!n){var r=this.findProductForms();r.length>0&&(n=r[0])}return n}},{key:"findProductFormVariantId",value:function(t){if(null!=t){var e=t.querySelector("[name=id]");if(null!=e&&e.value)return e.value}return null}},{key:"findProductFormQuantity",value:function(t){if(null!=t){var e=t.querySelector("[name=quantity]");if(null!=e&&e.value)return parseInt(e.value)}return 1}},{key:"findExpressPaymentButtons",value:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:document).querySelectorAll('.shopify-payment-button, [data-shopify="payment-button"]')}},{key:"findExpressDynamicCheckoutCart",value:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:document).querySelectorAll('#dynamic-checkout-cart, [data-shopify="dynamic-checkout-cart"]')}},{key:"onProductFormSubmit",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["[data-live-validate]","[data-live-cart-add]",".cl-cart-add"];t.addEventListener("submit",e);for(var r=t.querySelectorAll("[type=submit],.add_to_cart,.add-to-cart,.product-addToCart,.addToCart"),o=0;o<r.length;o++){r[o].addEventListener("click",e)}for(var u=r.length,i=this.findExpressPaymentButtons(t),a=0;a<i.length;a++){i[a].addEventListener("click",e,{capture:!0})}if(n&&Array.isArray(n))for(var c=t.querySelectorAll(n.join(",")),l=0;l<c.length;l++){c[l].addEventListener("click",e,{capture:!0}),u=!0}return u}},{key:"onCartFormSubmit",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:'form[action="/cart"], form[action*="/cart?"], form[action="/checkout"], form[action*="/checkout?"]';if(n)document.addEventListener("submit",function(n){n.target&&e.default.matches(n.target,r)&&t(n)},{capture:!0});else{var o=document.querySelectorAll(r);if(o.length)for(var u=0;u<o.length;u++){o[u].addEventListener("submit",function(e){t(e)})}}}},{key:"trimMoneyFormatAmount",value:function(t){var e=t.indexOf("{"),n=t.lastIndexOf("}");return-1!==e&&-1!==n&&(t=t.substring(e,n+1)),t.trim()}}],[{key:"getInstance",value:function(t){return r._instance?r._instance:(r._instance=new r(t),r._instance)}}]),r}();d.products={},d.collections={};var s=d;exports.default=s;
},{"./request":"mx8w","./util":"zY0S","loglevel":"ohSP"}],"ydp9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=u(require("./request")),e=u(require("./util")),r=a(require("loglevel"));function n(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return n=function(){return t},t}function a(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=n();if(e&&e.has(t))return e.get(t);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in t)if(Object.prototype.hasOwnProperty.call(t,u)){var i=a?Object.getOwnPropertyDescriptor(t,u):null;i&&(i.get||i.set)?Object.defineProperty(r,u,i):r[u]=t[u]}return r.default=t,e&&e.set(t,r),r}function u(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function c(t,e,r){return e&&o(t.prototype,e),r&&o(t,r),t}var s=function(){function n(t){i(this,n);this.cache=null,this.settings=e.default.extend({api:"",requestOptions:{responseType:"json",headers:{"Content-type":"application/json"}}},t||{})}return c(n,[{key:"getCart",value:function(){var t=this;return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.cache?Promise.resolve(this.cache):this._cart().then(function(e){return t.cache=e,e})}},{key:"toItem",value:function(t,e,r){return{id:t,quantity:e,properties:r}}},{key:"addItem",value:function(t){return this._cartAdd(t)}},{key:"addItems",value:function(t){return this._cartAdd({items:t}).then(function(t){return t.items})}},{key:"removeItem",value:function(t){return this.updateItem(t,this.toItem(null,0))}},{key:"removeItemById",value:function(t){return this.updateItemById(this.toItem(t,0))}},{key:"updateItem",value:function(t,e){return this._cartChange({line:t,quantity:e.quantity,properties:e.properties})}},{key:"updateItemById",value:function(t){return this._cartChange(t)}},{key:"updateItemQuantitiesById",value:function(t){return this._cartUpdate({updates:t})}},{key:"setNote",value:function(t){return this._cartUpdate({note:t})}},{key:"setAttributes",value:function(t){return this._cartUpdate({attributes:t})}},{key:"clear",value:function(){return this._cartClear()}},{key:"_cart",value:function(){return this._cartRequest("/cart.js",{method:"GET"})}},{key:"_cartAdd",value:function(t){return this._cartRequest("/cart/add.js",{method:"POST",data:t})}},{key:"_cartUpdate",value:function(t){return this._cartRequest("/cart/update.js",{method:"POST",data:t})}},{key:"_cartChange",value:function(t){return this._cartRequest("/cart/change.js",{method:"POST",data:t})}},{key:"_cartClear",value:function(){return this._cartRequest("/cart/clear.js",{method:"POST"})}},{key:"_cartRequest",value:function(n,a){var u=e.default.extend(this.settings.requestOptions,a),i=this.settings.api+n;return new t.default(i,u).then(function(t){return r.debug("[shopify-cart] "+i+" response",t.data),t.data}).catch(function(t){throw r.error("[shopify-cart] "+i+" error",t),t.data})}}],[{key:"getInstance",value:function(t){return n._instance?n._instance:(n._instance=new n(t),n._instance)}}]),n}(),l=s;exports.default=l;
},{"./request":"mx8w","./util":"zY0S","loglevel":"ohSP"}],"XoAR":[function(require,module,exports) {
"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var i=function(){function t(){e(this,t)}return n(t,null,[{key:"register",value:function(e){var t=this;return this.listeners.push(e),this.patched||this._patch(),function(){var n=t.listeners.indexOf(e);-1!==n&&t.listeners.splice(n,1),0===t.listeners.length&&t._unpatch()}}},{key:"_callListeners",value:function(e){for(var n=0;n<t.listeners.length;n++){(0,t.listeners[n])(e)}}},{key:"_patch",value:function(){t.originalOpen=XMLHttpRequest.prototype.open,XMLHttpRequest.prototype.open=function(){var e=arguments[0],n=arguments[1];this.addEventListener("readystatechange",function(){4==this.readyState&&200==this.status&&t._callListeners({method:e,url:n})},!1),t.originalOpen.apply(this,arguments)},"function"==typeof window.fetch&&(t.originalFetch=window.fetch,window.fetch=function(){var e=arguments[0],n=void 0!==arguments[1]?arguments[1].method:"GET",i=t.originalFetch.apply(this,arguments);return i.then(function(){t._callListeners({method:n,url:e})}),i}),this.patched=!0}},{key:"_unpatch",value:function(){t.originalOpen&&(XMLHttpRequest.prototype.open=t.originalOpen),t.originalFetch&&(window.fetch=t.originalFetch),this.patched=!1}}]),t}();i.patched=!1,i.listeners=[];var r=i;exports.default=r;
},{}],"P1HH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isDirective=exports.directive=void 0;var e=new WeakMap,t=function(t){return function(){var r=t.apply(void 0,arguments);return e.set(r,!0),r}};exports.directive=t;var r=function(t){return"function"==typeof t&&e.has(t)};exports.isDirective=r;
},{}],"JQ4u":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.removeNodes=exports.reparentNodes=exports.isCEPolyfill=void 0;var e="undefined"!=typeof window&&null!=window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback;exports.isCEPolyfill=e;var o=function(e,o){for(var l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;o!==l;){var n=o.nextSibling;e.insertBefore(o,r),o=n}};exports.reparentNodes=o;var l=function(e,o){for(var l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;o!==l;){var r=o.nextSibling;e.removeChild(o),o=r}};exports.removeNodes=l;
},{}],"m4zr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.nothing=exports.noChange=void 0;var e={};exports.noChange=e;var o={};exports.nothing=o;
},{}],"kXJ6":[function(require,module,exports) {
"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.lastAttributeNameRegex=exports.createMarker=exports.isTemplatePartActive=exports.Template=exports.boundAttributeSuffix=exports.markerRegex=exports.nodeMarker=exports.marker=void 0;var t="{{lit-".concat(String(Math.random()).slice(2),"}}");exports.marker=t;var r="\x3c!--".concat(t,"--\x3e");exports.nodeMarker=r;var a=new RegExp("".concat(t,"|").concat(r));exports.markerRegex=a;var n="$lit$";exports.boundAttributeSuffix=n;var o=function r(o,i){e(this,r),this.parts=[],this.element=i;for(var l=[],c=[],u=document.createTreeWalker(i.content,133,null,!1),d=0,f=-1,v=0,h=o.strings,m=o.values.length;v<m;){var g=u.nextNode();if(null!==g){if(f++,1===g.nodeType){if(g.hasAttributes()){for(var b=g.attributes,T=b.length,A=0,N=0;N<T;N++)s(b[N].name,n)&&A++;for(;A-- >0;){var k=h[v],y=p.exec(k)[2],M=y.toLowerCase()+n,R=g.getAttribute(M);g.removeAttribute(M);var S=R.split(a);this.parts.push({type:"attribute",index:f,name:y,strings:S}),v+=S.length-1}}"TEMPLATE"===g.tagName&&(c.push(g),u.currentNode=g.content)}else if(3===g.nodeType){var w=g.data;if(w.indexOf(t)>=0){for(var C=g.parentNode,E=w.split(a),P=E.length-1,B=0;B<P;B++){var F=void 0,O=E[B];if(""===O)F=x();else{var $=p.exec(O);null!==$&&s($[2],n)&&(O=O.slice(0,$.index)+$[1]+$[2].slice(0,-n.length)+$[3]),F=document.createTextNode(O)}C.insertBefore(F,g),this.parts.push({type:"node",index:++f})}""===E[P]?(C.insertBefore(x(),g),l.push(g)):g.data=E[P],v+=P}}else if(8===g.nodeType)if(g.data===t){var L=g.parentNode;null!==g.previousSibling&&f!==d||(f++,L.insertBefore(x(),g)),d=f,this.parts.push({type:"node",index:f}),null===g.nextSibling?g.data="":(l.push(g),f--),v++}else for(var _=-1;-1!==(_=g.data.indexOf(t,_+1));)this.parts.push({type:"node",index:-1}),v++}else u.currentNode=c.pop()}for(var j=0,W=l;j<W.length;j++){var q=W[j];q.parentNode.removeChild(q)}};exports.Template=o;var s=function(e,t){var r=e.length-t.length;return r>=0&&e.slice(r)===t},i=function(e){return-1!==e.index};exports.isTemplatePartActive=i;var x=function(){return document.createComment("")};exports.createMarker=x;var p=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;exports.lastAttributeNameRegex=p;
},{}],"nn5n":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TemplateInstance=void 0;var e=require("./dom.js"),t=require("./template.js");function r(e){return i(e)||o(e)||s(e)||n()}function n(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function i(e){if(Array.isArray(e))return l(e)}function a(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=s(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function s(e,t){if(e){if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t,r){return t&&c(e.prototype,t),r&&c(e,r),e}var p=function(){function n(e,t,r){u(this,n),this.__parts=[],this.template=e,this.processor=t,this.options=r}return f(n,[{key:"update",value:function(e){var t,r=0,n=a(this.__parts);try{for(n.s();!(t=n.n()).done;){var o=t.value;void 0!==o&&o.setValue(e[r]),r++}}catch(u){n.e(u)}finally{n.f()}var i,s=a(this.__parts);try{for(s.s();!(i=s.n()).done;){var l=i.value;void 0!==l&&l.commit()}}catch(u){s.e(u)}finally{s.f()}}},{key:"_clone",value:function(){for(var n,o=e.isCEPolyfill?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),i=[],a=this.template.parts,s=document.createTreeWalker(o,133,null,!1),l=0,u=0,c=s.nextNode();l<a.length;)if(n=a[l],(0,t.isTemplatePartActive)(n)){for(;u<n.index;)u++,"TEMPLATE"===c.nodeName&&(i.push(c),s.currentNode=c.content),null===(c=s.nextNode())&&(s.currentNode=i.pop(),c=s.nextNode());if("node"===n.type){var f=this.processor.handleTextExpression(this.options);f.insertAfterNode(c.previousSibling),this.__parts.push(f)}else{var p;(p=this.__parts).push.apply(p,r(this.processor.handleAttributeExpressions(c,n.name,n.strings,this.options)))}l++}else this.__parts.push(void 0),l++;return e.isCEPolyfill&&(document.adoptNode(o),customElements.upgrade(o)),o}}]),n}();exports.TemplateInstance=p;
},{"./dom.js":"JQ4u","./template.js":"kXJ6"}],"SM33":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SVGTemplateResult=exports.TemplateResult=void 0;var t=require("./dom.js"),e=require("./template.js");function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e,r){return(n="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var n=o(t,e);if(n){var u=Object.getOwnPropertyDescriptor(n,e);return u.get?u.get.call(r):u.value}})(t,e,r||t)}function o(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=a(t)););return t}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=s();return function(){var r,n=a(t);if(e){var o=a(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?f(t):e}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function h(t,e,r){return e&&y(t.prototype,e),r&&y(t,r),t}var m=window.trustedTypes&&trustedTypes.createPolicy("lit-html",{createHTML:function(t){return t}}),v=" ".concat(e.marker," "),b=function(){function t(e,r,n,o){p(this,t),this.strings=e,this.values=r,this.type=n,this.processor=o}return h(t,[{key:"getHTML",value:function(){for(var t=this.strings.length-1,r="",n=!1,o=0;o<t;o++){var u=this.strings[o],i=u.lastIndexOf("\x3c!--");n=(i>-1||n)&&-1===u.indexOf("--\x3e",i+1);var c=e.lastAttributeNameRegex.exec(u);r+=null===c?u+(n?v:e.nodeMarker):u.substr(0,c.index)+c[1]+c[2]+e.boundAttributeSuffix+c[3]+e.marker}return r+=this.strings[t]}},{key:"getTemplateElement",value:function(){var t=document.createElement("template"),e=this.getHTML();return void 0!==m&&(e=m.createHTML(e)),t.innerHTML=e,t}}]),t}();exports.TemplateResult=b;var d=function(e){u(o,b);var r=c(o);function o(){return p(this,o),r.apply(this,arguments)}return h(o,[{key:"getHTML",value:function(){return"<svg>".concat(n(a(o.prototype),"getHTML",this).call(this),"</svg>")}},{key:"getTemplateElement",value:function(){var e=n(a(o.prototype),"getTemplateElement",this).call(this),r=e.content,u=r.firstChild;return r.removeChild(u),(0,t.reparentNodes)(r,u.firstChild),e}}]),o}();exports.SVGTemplateResult=d;
},{"./dom.js":"JQ4u","./template.js":"kXJ6"}],"PIiJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.EventPart=exports.PropertyPart=exports.PropertyCommitter=exports.BooleanAttributePart=exports.NodePart=exports.AttributePart=exports.AttributeCommitter=exports.isIterable=exports.isPrimitive=void 0;var t=require("./directive.js"),e=require("./dom.js"),n=require("./part.js"),i=require("./template-instance.js"),r=require("./template-result.js"),o=require("./template.js");function a(t,e,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=s(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function s(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=p(t)););return t}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=v();return function(){var n,i=p(t);if(e){var r=p(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return h(this,n)}}function h(t,e){return!e||"object"!==N(e)&&"function"!=typeof e?f(t):e}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=m(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function m(t,e){if(t){if("string"==typeof t)return y(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(t,e):void 0}}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function _(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function b(t,e,n){return e&&g(t.prototype,e),n&&g(t,n),t}function N(t){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var x=function(t){return null===t||!("object"===N(t)||"function"==typeof t)};exports.isPrimitive=x;var P=function(t){return Array.isArray(t)||!(!t||!t[Symbol.iterator])};exports.isIterable=P;var V=function(){function t(e,n,i){_(this,t),this.dirty=!0,this.element=e,this.name=n,this.strings=i,this.parts=[];for(var r=0;r<i.length-1;r++)this.parts[r]=this._createPart()}return b(t,[{key:"_createPart",value:function(){return new k(this)}},{key:"_getValue",value:function(){var t=this.strings,e=t.length-1,n=this.parts;if(1===e&&""===t[0]&&""===t[1]){var i=n[0].value;if("symbol"===N(i))return String(i);if("string"==typeof i||!P(i))return i}for(var r="",o=0;o<e;o++){r+=t[o];var a=n[o];if(void 0!==a){var s=a.value;if(x(s)||!P(s))r+="string"==typeof s?s:String(s);else{var u,l=d(s);try{for(l.s();!(u=l.n()).done;){var c=u.value;r+="string"==typeof c?c:String(c)}}catch(h){l.e(h)}finally{l.f()}}}}return r+=t[e]}},{key:"commit",value:function(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}]),t}();exports.AttributeCommitter=V;var k=function(){function e(t){_(this,e),this.value=void 0,this.committer=t}return b(e,[{key:"setValue",value:function(e){e===n.noChange||x(e)&&e===this.value||(this.value=e,(0,t.isDirective)(e)||(this.committer.dirty=!0))}},{key:"commit",value:function(){for(;(0,t.isDirective)(this.value);){var e=this.value;this.value=n.noChange,e(this)}this.value!==n.noChange&&this.committer.commit()}}]),e}();exports.AttributePart=k;var w=function(){function a(t){_(this,a),this.value=void 0,this.__pendingValue=void 0,this.options=t}return b(a,[{key:"appendInto",value:function(t){this.startNode=t.appendChild((0,o.createMarker)()),this.endNode=t.appendChild((0,o.createMarker)())}},{key:"insertAfterNode",value:function(t){this.startNode=t,this.endNode=t.nextSibling}},{key:"appendIntoPart",value:function(t){t.__insert(this.startNode=(0,o.createMarker)()),t.__insert(this.endNode=(0,o.createMarker)())}},{key:"insertAfterPart",value:function(t){t.__insert(this.startNode=(0,o.createMarker)()),this.endNode=t.endNode,t.endNode=this.startNode}},{key:"setValue",value:function(t){this.__pendingValue=t}},{key:"commit",value:function(){if(null!==this.startNode.parentNode){for(;(0,t.isDirective)(this.__pendingValue);){var e=this.__pendingValue;this.__pendingValue=n.noChange,e(this)}var i=this.__pendingValue;i!==n.noChange&&(x(i)?i!==this.value&&this.__commitText(i):i instanceof r.TemplateResult?this.__commitTemplateResult(i):i instanceof Node?this.__commitNode(i):P(i)?this.__commitIterable(i):i===n.nothing?(this.value=n.nothing,this.clear()):this.__commitText(i))}}},{key:"__insert",value:function(t){this.endNode.parentNode.insertBefore(t,this.endNode)}},{key:"__commitNode",value:function(t){this.value!==t&&(this.clear(),this.__insert(t),this.value=t)}},{key:"__commitText",value:function(t){var e=this.startNode.nextSibling,n="string"==typeof(t=null==t?"":t)?t:String(t);e===this.endNode.previousSibling&&3===e.nodeType?e.data=n:this.__commitNode(document.createTextNode(n)),this.value=t}},{key:"__commitTemplateResult",value:function(t){var e=this.options.templateFactory(t);if(this.value instanceof i.TemplateInstance&&this.value.template===e)this.value.update(t.values);else{var n=new i.TemplateInstance(e,t.processor,this.options),r=n._clone();n.update(t.values),this.__commitNode(r),this.value=n}}},{key:"__commitIterable",value:function(t){Array.isArray(this.value)||(this.value=[],this.clear());var e,n,i=this.value,r=0,o=d(t);try{for(o.s();!(n=o.n()).done;){var s=n.value;void 0===(e=i[r])&&(e=new a(this.options),i.push(e),0===r?e.appendIntoPart(this):e.insertAfterPart(i[r-1])),e.setValue(s),e.commit(),r++}}catch(u){o.e(u)}finally{o.f()}r<i.length&&(i.length=r,this.clear(e&&e.endNode))}},{key:"clear",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.startNode;(0,e.removeNodes)(this.startNode.parentNode,t.nextSibling,this.endNode)}}]),a}();exports.NodePart=w;var A=function(){function e(t,n,i){if(_(this,e),this.value=void 0,this.__pendingValue=void 0,2!==i.length||""!==i[0]||""!==i[1])throw new Error("Boolean attributes can only contain a single expression");this.element=t,this.name=n,this.strings=i}return b(e,[{key:"setValue",value:function(t){this.__pendingValue=t}},{key:"commit",value:function(){for(;(0,t.isDirective)(this.__pendingValue);){var e=this.__pendingValue;this.__pendingValue=n.noChange,e(this)}if(this.__pendingValue!==n.noChange){var i=!!this.__pendingValue;this.value!==i&&(i?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=i),this.__pendingValue=n.noChange}}}]),e}();exports.BooleanAttributePart=A;var S=function(t){u(n,V);var e=c(n);function n(t,i,r){var o;return _(this,n),(o=e.call(this,t,i,r)).single=2===r.length&&""===r[0]&&""===r[1],o}return b(n,[{key:"_createPart",value:function(){return new C(this)}},{key:"_getValue",value:function(){return this.single?this.parts[0].value:a(p(n.prototype),"_getValue",this).call(this)}},{key:"commit",value:function(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}]),n}();exports.PropertyCommitter=S;var C=function(t){u(n,k);var e=c(n);function n(){return _(this,n),e.apply(this,arguments)}return n}();exports.PropertyPart=C;var j=!1;!function(){try{var t={get capture(){return j=!0,!1}};window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch(e){}}();var E=function(){function e(t,n,i){var r=this;_(this,e),this.value=void 0,this.__pendingValue=void 0,this.element=t,this.eventName=n,this.eventContext=i,this.__boundHandleEvent=function(t){return r.handleEvent(t)}}return b(e,[{key:"setValue",value:function(t){this.__pendingValue=t}},{key:"commit",value:function(){for(;(0,t.isDirective)(this.__pendingValue);){var e=this.__pendingValue;this.__pendingValue=n.noChange,e(this)}if(this.__pendingValue!==n.noChange){var i=this.__pendingValue,r=this.value,o=null==i||null!=r&&(i.capture!==r.capture||i.once!==r.once||i.passive!==r.passive),a=null!=i&&(null==r||o);o&&this.element.removeEventListener(this.eventName,this.__boundHandleEvent,this.__options),a&&(this.__options=O(i),this.element.addEventListener(this.eventName,this.__boundHandleEvent,this.__options)),this.value=i,this.__pendingValue=n.noChange}}},{key:"handleEvent",value:function(t){"function"==typeof this.value?this.value.call(this.eventContext||this.element,t):this.value.handleEvent(t)}}]),e}();exports.EventPart=E;var O=function(t){return t&&(j?{capture:t.capture,passive:t.passive,once:t.once}:t.capture)};
},{"./directive.js":"P1HH","./dom.js":"JQ4u","./part.js":"m4zr","./template-instance.js":"nn5n","./template-result.js":"SM33","./template.js":"kXJ6"}],"mAZn":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.defaultTemplateProcessor=exports.DefaultTemplateProcessor=void 0;var e=require("./parts.js");function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function n(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}var o=function(){function r(){t(this,r)}return n(r,[{key:"handleAttributeExpressions",value:function(t,r,n,o){var a=r[0];return"."===a?new e.PropertyCommitter(t,r.slice(1),n).parts:"@"===a?[new e.EventPart(t,r.slice(1),o.eventContext)]:"?"===a?[new e.BooleanAttributePart(t,r.slice(1),n)]:new e.AttributeCommitter(t,r,n).parts}},{key:"handleTextExpression",value:function(t){return new e.NodePart(t)}}]),r}();exports.DefaultTemplateProcessor=o;var a=new o;exports.defaultTemplateProcessor=a;
},{"./parts.js":"PIiJ"}],"K8aL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.templateFactory=t,exports.templateCaches=void 0;var e=require("./template.js");function t(t){var s=r.get(t.type);void 0===s&&(s={stringsArray:new WeakMap,keyString:new Map},r.set(t.type,s));var a=s.stringsArray.get(t.strings);if(void 0!==a)return a;var n=t.strings.join(e.marker);return void 0===(a=s.keyString.get(n))&&(a=new e.Template(t,t.getTemplateElement()),s.keyString.set(n,a)),s.stringsArray.set(t.strings,a),a}var r=new Map;exports.templateCaches=r;
},{"./template.js":"kXJ6"}],"dvwX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.render=exports.parts=void 0;var e=require("./dom.js"),r=require("./parts.js"),t=require("./template-factory.js"),s=new WeakMap;exports.parts=s;var a=function(a,o,p){var i=s.get(o);void 0===i&&((0,e.removeNodes)(o,o.firstChild),s.set(o,i=new r.NodePart(Object.assign({templateFactory:t.templateFactory},p))),i.appendInto(o)),i.setValue(a),i.commit()};exports.render=a;
},{"./dom.js":"JQ4u","./parts.js":"PIiJ","./template-factory.js":"K8aL"}],"KMqM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"DefaultTemplateProcessor",{enumerable:!0,get:function(){return e.DefaultTemplateProcessor}}),Object.defineProperty(exports,"defaultTemplateProcessor",{enumerable:!0,get:function(){return e.defaultTemplateProcessor}}),Object.defineProperty(exports,"SVGTemplateResult",{enumerable:!0,get:function(){return t.SVGTemplateResult}}),Object.defineProperty(exports,"TemplateResult",{enumerable:!0,get:function(){return t.TemplateResult}}),Object.defineProperty(exports,"directive",{enumerable:!0,get:function(){return r.directive}}),Object.defineProperty(exports,"isDirective",{enumerable:!0,get:function(){return r.isDirective}}),Object.defineProperty(exports,"removeNodes",{enumerable:!0,get:function(){return n.removeNodes}}),Object.defineProperty(exports,"reparentNodes",{enumerable:!0,get:function(){return n.reparentNodes}}),Object.defineProperty(exports,"noChange",{enumerable:!0,get:function(){return o.noChange}}),Object.defineProperty(exports,"nothing",{enumerable:!0,get:function(){return o.nothing}}),Object.defineProperty(exports,"AttributeCommitter",{enumerable:!0,get:function(){return i.AttributeCommitter}}),Object.defineProperty(exports,"AttributePart",{enumerable:!0,get:function(){return i.AttributePart}}),Object.defineProperty(exports,"BooleanAttributePart",{enumerable:!0,get:function(){return i.BooleanAttributePart}}),Object.defineProperty(exports,"EventPart",{enumerable:!0,get:function(){return i.EventPart}}),Object.defineProperty(exports,"isIterable",{enumerable:!0,get:function(){return i.isIterable}}),Object.defineProperty(exports,"isPrimitive",{enumerable:!0,get:function(){return i.isPrimitive}}),Object.defineProperty(exports,"NodePart",{enumerable:!0,get:function(){return i.NodePart}}),Object.defineProperty(exports,"PropertyCommitter",{enumerable:!0,get:function(){return i.PropertyCommitter}}),Object.defineProperty(exports,"PropertyPart",{enumerable:!0,get:function(){return i.PropertyPart}}),Object.defineProperty(exports,"parts",{enumerable:!0,get:function(){return u.parts}}),Object.defineProperty(exports,"render",{enumerable:!0,get:function(){return u.render}}),Object.defineProperty(exports,"templateCaches",{enumerable:!0,get:function(){return a.templateCaches}}),Object.defineProperty(exports,"templateFactory",{enumerable:!0,get:function(){return a.templateFactory}}),Object.defineProperty(exports,"TemplateInstance",{enumerable:!0,get:function(){return p.TemplateInstance}}),Object.defineProperty(exports,"createMarker",{enumerable:!0,get:function(){return s.createMarker}}),Object.defineProperty(exports,"isTemplatePartActive",{enumerable:!0,get:function(){return s.isTemplatePartActive}}),Object.defineProperty(exports,"Template",{enumerable:!0,get:function(){return s.Template}}),exports.svg=exports.html=void 0;var e=require("./lib/default-template-processor.js"),t=require("./lib/template-result.js"),r=require("./lib/directive.js"),n=require("./lib/dom.js"),o=require("./lib/part.js"),i=require("./lib/parts.js"),u=require("./lib/render.js"),a=require("./lib/template-factory.js"),p=require("./lib/template-instance.js"),s=require("./lib/template.js");"undefined"!=typeof window&&(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.3.0");var l=function(r){for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return new t.TemplateResult(r,o,"html",e.defaultTemplateProcessor)};exports.html=l;var c=function(r){for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return new t.SVGTemplateResult(r,o,"svg",e.defaultTemplateProcessor)};exports.svg=c;
},{"./lib/default-template-processor.js":"mAZn","./lib/template-result.js":"SM33","./lib/directive.js":"P1HH","./lib/dom.js":"JQ4u","./lib/part.js":"m4zr","./lib/parts.js":"PIiJ","./lib/render.js":"dvwX","./lib/template-factory.js":"K8aL","./lib/template-instance.js":"nn5n","./lib/template.js":"kXJ6"}],"KwvA":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.modifierPhases=exports.afterWrite=exports.write=exports.beforeWrite=exports.afterMain=exports.main=exports.beforeMain=exports.afterRead=exports.read=exports.beforeRead=exports.placements=exports.variationPlacements=exports.reference=exports.popper=exports.viewport=exports.clippingParents=exports.end=exports.start=exports.basePlacements=exports.auto=exports.left=exports.right=exports.bottom=exports.top=void 0;var e="top";exports.top=e;var r="bottom";exports.bottom=r;var t="right";exports.right=t;var o="left";exports.left=o;var a="auto";exports.auto=a;var p=[e,r,t,o];exports.basePlacements=p;var s="start";exports.start=s;var x="end";exports.end=x;var i="clippingParents";exports.clippingParents=i;var n="viewport";exports.viewport=n;var v="popper";exports.popper=v;var f="reference";exports.reference=f;var c=p.reduce(function(e,r){return e.concat([r+"-"+s,r+"-"+x])},[]);exports.variationPlacements=c;var d=[].concat(p,[a]).reduce(function(e,r){return e.concat([r,r+"-"+s,r+"-"+x])},[]);exports.placements=d;var b="beforeRead";exports.beforeRead=b;var l="read";exports.read=l;var m="afterRead";exports.afterRead=m;var u="beforeMain";exports.beforeMain=u;var P="main";exports.main=P;var M="afterMain";exports.afterMain=M;var g="beforeWrite";exports.beforeWrite=g;var w="write";exports.write=w;var R="afterWrite";exports.afterWrite=R;var W=[b,l,m,u,P,M,g,w,R];exports.modifierPhases=W;
},{}],"hqUe":[function(require,module,exports) {
"use strict";function e(e){return e?(e.nodeName||"").toLowerCase():null}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"iP0B":[function(require,module,exports) {
"use strict";function e(e){if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"lOVC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isElement=n,exports.isHTMLElement=o,exports.isShadowRoot=r;var e=t(require("./getWindow.js"));function t(e){return e&&e.__esModule?e:{default:e}}function n(t){return t instanceof(0,e.default)(t).Element||t instanceof Element}function o(t){return t instanceof(0,e.default)(t).HTMLElement||t instanceof HTMLElement}function r(t){return t instanceof(0,e.default)(t).ShadowRoot||t instanceof ShadowRoot}
},{"./getWindow.js":"iP0B"}],"pu4Q":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=s(require("../dom-utils/getNodeName.js")),t=require("../dom-utils/instanceOf.js");function s(e){return e&&e.__esModule?e:{default:e}}function r(s){var r=s.state;Object.keys(r.elements).forEach(function(s){var n=r.styles[s]||{},o=r.attributes[s]||{},a=r.elements[s];(0,t.isHTMLElement)(a)&&(0,e.default)(a)&&(Object.assign(a.style,n),Object.keys(o).forEach(function(e){var t=o[e];!1===t?a.removeAttribute(e):a.setAttribute(e,!0===t?"":t)}))})}function n(s){var r=s.state,n={popper:{position:r.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(r.elements.popper.style,n.popper),r.elements.arrow&&Object.assign(r.elements.arrow.style,n.arrow),function(){Object.keys(r.elements).forEach(function(s){var o=r.elements[s],a=r.attributes[s]||{},i=Object.keys(r.styles.hasOwnProperty(s)?r.styles[s]:n[s]).reduce(function(e,t){return e[t]="",e},{});(0,t.isHTMLElement)(o)&&(0,e.default)(o)&&(Object.assign(o.style,i),Object.keys(a).forEach(function(e){o.removeAttribute(e)}))})}}var o={name:"applyStyles",enabled:!0,phase:"write",fn:r,effect:n,requires:["computeStyles"]};exports.default=o;
},{"../dom-utils/getNodeName.js":"hqUe","../dom-utils/instanceOf.js":"lOVC"}],"yLpD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var e=require("../enums.js");function r(e){return e.split("-")[0]}
},{"../enums.js":"KwvA"}],"bgU0":[function(require,module,exports) {
"use strict";function e(e){return{x:e.offsetLeft,y:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"TozG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;var e=require("./instanceOf.js");function t(t,o){var r=o.getRootNode&&o.getRootNode();if(t.contains(o))return!0;if(r&&(0,e.isShadowRoot)(r)){var i=o;do{if(i&&t.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}
},{"./instanceOf.js":"lOVC"}],"ro5C":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=u;var e=t(require("./getWindow.js"));function t(e){return e&&e.__esModule?e:{default:e}}function u(t){return(0,e.default)(t).getComputedStyle(t)}
},{"./getWindow.js":"iP0B"}],"t2So":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var e=t(require("./getNodeName.js"));function t(e){return e&&e.__esModule?e:{default:e}}function r(t){return["table","td","th"].indexOf((0,e.default)(t))>=0}
},{"./getNodeName.js":"hqUe"}],"iOCj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;var e=require("./instanceOf.js");function t(t){return(((0,e.isElement)(t)?t.ownerDocument:t.document)||window.document).documentElement}
},{"./instanceOf.js":"lOVC"}],"Tyrb":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=u;var e=r(require("./getNodeName.js")),t=r(require("./getDocumentElement.js"));function r(e){return e&&e.__esModule?e:{default:e}}function u(r){return"html"===(0,e.default)(r)?r:r.assignedSlot||r.parentNode||r.host||(0,t.default)(r)}
},{"./getNodeName.js":"hqUe","./getDocumentElement.js":"iOCj"}],"Mnay":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=s;var e=o(require("./getWindow.js")),t=o(require("./getNodeName.js")),r=o(require("./getComputedStyle.js")),n=require("./instanceOf.js"),u=o(require("./isTableElement.js")),i=o(require("./getParentNode.js")),a=o(require("./getDocumentElement.js"));function o(e){return e&&e.__esModule?e:{default:e}}function l(e){if(!(0,n.isHTMLElement)(e)||"fixed"===(0,r.default)(e).position)return null;var u=e.offsetParent;if(u){var i=(0,a.default)(u);if("body"===(0,t.default)(u)&&"static"===(0,r.default)(u).position&&"static"!==(0,r.default)(i).position)return i}return u}function f(e){for(var u=(0,i.default)(e);(0,n.isHTMLElement)(u)&&["html","body"].indexOf((0,t.default)(u))<0;){var a=(0,r.default)(u);if("none"!==a.transform||"none"!==a.perspective||a.willChange&&"auto"!==a.willChange)return u;u=u.parentNode}return null}function s(n){for(var i=(0,e.default)(n),a=l(n);a&&(0,u.default)(a)&&"static"===(0,r.default)(a).position;)a=l(a);return a&&"body"===(0,t.default)(a)&&"static"===(0,r.default)(a).position?i:a||f(n)||i}
},{"./getWindow.js":"iP0B","./getNodeName.js":"hqUe","./getComputedStyle.js":"ro5C","./instanceOf.js":"lOVC","./isTableElement.js":"t2So","./getParentNode.js":"Tyrb","./getDocumentElement.js":"iOCj"}],"w8hZ":[function(require,module,exports) {
"use strict";function e(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"bTtH":[function(require,module,exports) {
"use strict";function e(e,t,r){return Math.max(e,Math.min(t,r))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"R9OA":[function(require,module,exports) {
"use strict";function t(){return{top:0,right:0,bottom:0,left:0}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;
},{}],"YlSo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var e=t(require("./getFreshSideObject.js"));function t(e){return e&&e.__esModule?e:{default:e}}function r(t){return Object.assign(Object.assign({},(0,e.default)()),t)}
},{"./getFreshSideObject.js":"R9OA"}],"ZqdX":[function(require,module,exports) {
"use strict";function e(e,t){return t.reduce(function(t,r){return t[r]=e,t},{})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"T3Ag":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=l(require("../utils/getBasePlacement.js")),t=l(require("../dom-utils/getLayoutRect.js")),r=l(require("../dom-utils/contains.js")),s=l(require("../dom-utils/getOffsetParent.js")),i=l(require("../utils/getMainAxisFromPlacement.js")),a=l(require("../utils/within.js")),n=l(require("../utils/mergePaddingObject.js")),u=l(require("../utils/expandToHashMap.js")),o=require("../enums.js"),f=require("../dom-utils/instanceOf.js");function l(e){return e&&e.__esModule?e:{default:e}}function d(r){var n,u=r.state,f=r.name,l=u.elements.arrow,d=u.modifiersData.popperOffsets,p=(0,e.default)(u.placement),m=(0,i.default)(p),c=[o.left,o.right].indexOf(p)>=0?"height":"width";if(l&&d){var g=u.modifiersData[f+"#persistent"].padding,q=(0,t.default)(l),j="y"===m?o.top:o.left,v="y"===m?o.bottom:o.right,h=u.rects.reference[c]+u.rects.reference[m]-d[m]-u.rects.popper[c],O=d[m]-u.rects.reference[m],y=(0,s.default)(l),w=y?"y"===m?y.clientHeight||0:y.clientWidth||0:0,x=h/2-O/2,b=g[j],P=w-q[c]-g[v],D=w/2-q[c]/2+x,M=(0,a.default)(b,D,P),_=m;u.modifiersData[f]=((n={})[_]=M,n.centerOffset=M-D,n)}}function p(e){var t=e.state,s=e.options,i=e.name,a=s.element,f=void 0===a?"[data-popper-arrow]":a,l=s.padding,d=void 0===l?0:l;null!=f&&("string"!=typeof f||(f=t.elements.popper.querySelector(f)))&&(0,r.default)(t.elements.popper,f)&&(t.elements.arrow=f,t.modifiersData[i+"#persistent"]={padding:(0,n.default)("number"!=typeof d?d:(0,u.default)(d,o.basePlacements))})}var m={name:"arrow",enabled:!0,phase:"main",fn:d,effect:p,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};exports.default=m;
},{"../utils/getBasePlacement.js":"yLpD","../dom-utils/getLayoutRect.js":"bgU0","../dom-utils/contains.js":"TozG","../dom-utils/getOffsetParent.js":"Mnay","../utils/getMainAxisFromPlacement.js":"w8hZ","../utils/within.js":"bTtH","../utils/mergePaddingObject.js":"YlSo","../utils/expandToHashMap.js":"ZqdX","../enums.js":"KwvA","../dom-utils/instanceOf.js":"lOVC"}],"p5kV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mapToStyles=u,exports.default=void 0;var e=require("../enums.js"),t=i(require("../dom-utils/getOffsetParent.js")),s=i(require("../dom-utils/getWindow.js")),o=i(require("../dom-utils/getDocumentElement.js")),a=i(require("../dom-utils/getComputedStyle.js")),r=i(require("../utils/getBasePlacement.js"));function i(e){return e&&e.__esModule?e:{default:e}}var p={top:"auto",right:"auto",bottom:"auto",left:"auto"};function n(e){var t=e.x,s=e.y,o=window.devicePixelRatio||1;return{x:Math.round(t*o)/o||0,y:Math.round(s*o)/o||0}}function u(a){var r,i=a.popper,u=a.popperRect,l=a.placement,d=a.offsets,f=a.position,c=a.gpuAcceleration,g=a.adaptive,m=a.roundOffsets?n(d):d,O=m.x,b=void 0===O?0:O,j=m.y,v=void 0===j?0:j,x=d.hasOwnProperty("x"),y=d.hasOwnProperty("y"),h=e.left,w=e.top,P=window;if(g){var q=(0,t.default)(i);q===(0,s.default)(i)&&(q=(0,o.default)(i)),l===e.top&&(w=e.bottom,v-=q.clientHeight-u.height,v*=c?1:-1),l===e.left&&(h=e.right,b-=q.clientWidth-u.width,b*=c?1:-1)}var D,M=Object.assign({position:f},g&&p);return c?Object.assign(Object.assign({},M),{},((D={})[w]=y?"0":"",D[h]=x?"0":"",D.transform=(P.devicePixelRatio||1)<2?"translate("+b+"px, "+v+"px)":"translate3d("+b+"px, "+v+"px, 0)",D)):Object.assign(Object.assign({},M),{},((r={})[w]=y?v+"px":"",r[h]=x?b+"px":"",r.transform="",r))}function l(e){var t=e.state,s=e.options,o=s.gpuAcceleration,a=void 0===o||o,i=s.adaptive,p=void 0===i||i,n=s.roundOffsets,l=void 0===n||n,d={placement:(0,r.default)(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:a};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign(Object.assign({},t.styles.popper),u(Object.assign(Object.assign({},d),{},{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:p,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign(Object.assign({},t.styles.arrow),u(Object.assign(Object.assign({},d),{},{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign(Object.assign({},t.attributes.popper),{},{"data-popper-placement":t.placement})}var d={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:l,data:{}};exports.default=d;
},{"../enums.js":"KwvA","../dom-utils/getOffsetParent.js":"Mnay","../dom-utils/getWindow.js":"iP0B","../dom-utils/getDocumentElement.js":"iOCj","../dom-utils/getComputedStyle.js":"ro5C","../utils/getBasePlacement.js":"yLpD"}],"ugN3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("../dom-utils/getWindow.js"));function t(e){return e&&e.__esModule?e:{default:e}}var r={passive:!0};function n(t){var n=t.state,s=t.instance,o=t.options,a=o.scroll,i=void 0===a||a,d=o.resize,u=void 0===d||d,c=(0,e.default)(n.elements.popper),l=[].concat(n.scrollParents.reference,n.scrollParents.popper);return i&&l.forEach(function(e){e.addEventListener("scroll",s.update,r)}),u&&c.addEventListener("resize",s.update,r),function(){i&&l.forEach(function(e){e.removeEventListener("scroll",s.update,r)}),u&&c.removeEventListener("resize",s.update,r)}}var s={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:n,data:{}};exports.default=s;
},{"../dom-utils/getWindow.js":"iP0B"}],"hGEW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;var t={left:"right",right:"left",bottom:"top",top:"bottom"};function e(e){return e.replace(/left|right|bottom|top/g,function(e){return t[e]})}
},{}],"B4ze":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;var e={start:"end",end:"start"};function t(t){return t.replace(/start|end/g,function(t){return e[t]})}
},{}],"btCD":[function(require,module,exports) {
"use strict";function t(t){var e=t.getBoundingClientRect();return{width:e.width,height:e.height,top:e.top,right:e.right,bottom:e.bottom,left:e.left,x:e.left,y:e.top}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;
},{}],"aES8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var e=t(require("./getWindow.js"));function t(e){return e&&e.__esModule?e:{default:e}}function r(t){var r=(0,e.default)(t);return{scrollLeft:r.pageXOffset,scrollTop:r.pageYOffset}}
},{"./getWindow.js":"iP0B"}],"pET8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=l;var e=u(require("./getBoundingClientRect.js")),t=u(require("./getDocumentElement.js")),r=u(require("./getWindowScroll.js"));function u(e){return e&&e.__esModule?e:{default:e}}function l(u){return(0,e.default)((0,t.default)(u)).left+(0,r.default)(u).scrollLeft}
},{"./getBoundingClientRect.js":"btCD","./getDocumentElement.js":"iOCj","./getWindowScroll.js":"aES8"}],"uJtB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=u;var e=i(require("./getWindow.js")),t=i(require("./getDocumentElement.js")),r=i(require("./getWindowScrollBarX.js"));function i(e){return e&&e.__esModule?e:{default:e}}function u(i){var u=(0,e.default)(i),o=(0,t.default)(i),n=u.visualViewport,a=o.clientWidth,d=o.clientHeight,s=0,f=0;return n&&(a=n.width,d=n.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(s=n.offsetLeft,f=n.offsetTop)),{width:a,height:d,x:s+(0,r.default)(i),y:f}}
},{"./getWindow.js":"iP0B","./getDocumentElement.js":"iOCj","./getWindowScrollBarX.js":"pET8"}],"xGf3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=o;var e=i(require("./getDocumentElement.js")),t=i(require("./getComputedStyle.js")),l=i(require("./getWindowScrollBarX.js")),r=i(require("./getWindowScroll.js"));function i(e){return e&&e.__esModule?e:{default:e}}function o(i){var o=(0,e.default)(i),c=(0,r.default)(i),d=i.ownerDocument.body,u=Math.max(o.scrollWidth,o.clientWidth,d?d.scrollWidth:0,d?d.clientWidth:0),n=Math.max(o.scrollHeight,o.clientHeight,d?d.scrollHeight:0,d?d.clientHeight:0),a=-c.scrollLeft+(0,l.default)(i),h=-c.scrollTop;return"rtl"===(0,t.default)(d||o).direction&&(a+=Math.max(o.clientWidth,d?d.clientWidth:0)-u),{width:u,height:n,x:a,y:h}}
},{"./getDocumentElement.js":"iOCj","./getComputedStyle.js":"ro5C","./getWindowScrollBarX.js":"pET8","./getWindowScroll.js":"aES8"}],"T26w":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var e=t(require("./getComputedStyle.js"));function t(e){return e&&e.__esModule?e:{default:e}}function r(t){var r=(0,e.default)(t),o=r.overflow,u=r.overflowX,l=r.overflowY;return/auto|scroll|overlay|hidden/.test(o+l+u)}
},{"./getComputedStyle.js":"ro5C"}],"zGGS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=o;var e=n(require("./getParentNode.js")),t=n(require("./isScrollParent.js")),r=n(require("./getNodeName.js")),u=require("./instanceOf.js");function n(e){return e&&e.__esModule?e:{default:e}}function o(n){return["html","body","#document"].indexOf((0,r.default)(n))>=0?n.ownerDocument.body:(0,u.isHTMLElement)(n)&&(0,t.default)(n)?n:o((0,e.default)(n))}
},{"./getParentNode.js":"Tyrb","./isScrollParent.js":"T26w","./getNodeName.js":"hqUe","./instanceOf.js":"lOVC"}],"inBY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=d;var e=o(require("./getScrollParent.js")),t=o(require("./getParentNode.js")),r=o(require("./getNodeName.js")),u=o(require("./getWindow.js")),a=o(require("./isScrollParent.js"));function o(e){return e&&e.__esModule?e:{default:e}}function d(o,l){void 0===l&&(l=[]);var i=(0,e.default)(o),n="body"===(0,r.default)(i),s=(0,u.default)(i),c=n?[s].concat(s.visualViewport||[],(0,a.default)(i)?i:[]):i,f=l.concat(c);return n?f:f.concat(d((0,t.default)(c)))}
},{"./getScrollParent.js":"zGGS","./getParentNode.js":"Tyrb","./getNodeName.js":"hqUe","./getWindow.js":"iP0B","./isScrollParent.js":"T26w"}],"vA8j":[function(require,module,exports) {
"use strict";function t(t){return Object.assign(Object.assign({},t),{},{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;
},{}],"MtyE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=j;var e=require("../enums.js"),t=g(require("./getViewportRect.js")),r=g(require("./getDocumentRect.js")),i=g(require("./listScrollParents.js")),n=g(require("./getOffsetParent.js")),u=g(require("./getDocumentElement.js")),o=g(require("./getComputedStyle.js")),l=require("./instanceOf.js"),f=g(require("./getBoundingClientRect.js")),a=g(require("./getParentNode.js")),s=g(require("./contains.js")),c=g(require("./getNodeName.js")),d=g(require("../utils/rectToClientRect.js"));function g(e){return e&&e.__esModule?e:{default:e}}function h(e){var t=(0,f.default)(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}function m(i,n){return n===e.viewport?(0,d.default)((0,t.default)(i)):(0,l.isHTMLElement)(n)?h(n):(0,d.default)((0,r.default)((0,u.default)(i)))}function p(e){var t=(0,i.default)((0,a.default)(e)),r=["absolute","fixed"].indexOf((0,o.default)(e).position)>=0&&(0,l.isHTMLElement)(e)?(0,n.default)(e):e;return(0,l.isElement)(r)?t.filter(function(e){return(0,l.isElement)(e)&&(0,s.default)(e,r)&&"body"!==(0,c.default)(e)}):[]}function j(e,t,r){var i="clippingParents"===t?p(e):[].concat(t),n=[].concat(i,[r]),u=n[0],o=n.reduce(function(t,r){var i=m(e,r);return t.top=Math.max(i.top,t.top),t.right=Math.min(i.right,t.right),t.bottom=Math.min(i.bottom,t.bottom),t.left=Math.max(i.left,t.left),t},m(e,u));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}
},{"../enums.js":"KwvA","./getViewportRect.js":"uJtB","./getDocumentRect.js":"xGf3","./listScrollParents.js":"inBY","./getOffsetParent.js":"Mnay","./getDocumentElement.js":"iOCj","./getComputedStyle.js":"ro5C","./instanceOf.js":"lOVC","./getBoundingClientRect.js":"btCD","./getParentNode.js":"Tyrb","./contains.js":"TozG","./getNodeName.js":"hqUe","../utils/rectToClientRect.js":"vA8j"}],"kB4N":[function(require,module,exports) {
"use strict";function e(e){return e.split("-")[1]}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"HyU9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=u;var e=i(require("./getBasePlacement.js")),t=i(require("./getVariation.js")),r=i(require("./getMainAxisFromPlacement.js")),a=require("../enums.js");function i(e){return e&&e.__esModule?e:{default:e}}function u(i){var u,l=i.reference,s=i.element,n=i.placement,h=n?(0,e.default)(n):null,c=n?(0,t.default)(n):null,d=l.x+l.width/2-s.width/2,f=l.y+l.height/2-s.height/2;switch(h){case a.top:u={x:d,y:l.y-s.height};break;case a.bottom:u={x:d,y:l.y+l.height};break;case a.right:u={x:l.x+l.width,y:f};break;case a.left:u={x:l.x-s.width,y:f};break;default:u={x:l.x,y:l.y}}var o=h?(0,r.default)(h):null;if(null!=o){var x="y"===o?"height":"width";switch(c){case a.start:u[o]=u[o]-(l[x]/2-s[x]/2);break;case a.end:u[o]=u[o]+(l[x]/2-s[x]/2)}}return u}
},{"./getBasePlacement.js":"yLpD","./getVariation.js":"kB4N","./getMainAxisFromPlacement.js":"w8hZ","../enums.js":"KwvA"}],"lMQv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=a;var e=l(require("../dom-utils/getBoundingClientRect.js")),t=l(require("../dom-utils/getClippingRect.js")),r=l(require("../dom-utils/getDocumentElement.js")),o=l(require("./computeOffsets.js")),i=l(require("./rectToClientRect.js")),n=require("../enums.js"),p=require("../dom-utils/instanceOf.js"),s=l(require("./mergePaddingObject.js")),u=l(require("./expandToHashMap.js"));function l(e){return e&&e.__esModule?e:{default:e}}function a(l,a){void 0===a&&(a={});var d=a,f=d.placement,m=void 0===f?l.placement:f,c=d.boundary,g=void 0===c?n.clippingParents:c,b=d.rootBoundary,j=void 0===b?n.viewport:b,v=d.elementContext,q=void 0===v?n.popper:v,O=d.altBoundary,x=void 0!==O&&O,y=d.padding,h=void 0===y?0:y,C=(0,s.default)("number"!=typeof h?h:(0,u.default)(h,n.basePlacements)),E=q===n.popper?n.reference:n.popper,P=l.elements.reference,_=l.rects.popper,B=l.elements[x?E:q],M=(0,t.default)((0,p.isElement)(B)?B:B.contextElement||(0,r.default)(l.elements.popper),g,j),R=(0,e.default)(P),D=(0,o.default)({reference:R,element:_,strategy:"absolute",placement:m}),T=(0,i.default)(Object.assign(Object.assign({},_),D)),k=q===n.popper?T:R,w={top:M.top-k.top+C.top,bottom:k.bottom-M.bottom+C.bottom,left:M.left-k.left+C.left,right:k.right-M.right+C.right},H=l.modifiersData.offset;if(q===n.popper&&H){var z=H[m];Object.keys(w).forEach(function(e){var t=[n.right,n.bottom].indexOf(e)>=0?1:-1,r=[n.top,n.bottom].indexOf(e)>=0?"y":"x";w[e]+=z[r]*t})}return w}
},{"../dom-utils/getBoundingClientRect.js":"btCD","../dom-utils/getClippingRect.js":"MtyE","../dom-utils/getDocumentElement.js":"iOCj","./computeOffsets.js":"HyU9","./rectToClientRect.js":"vA8j","../enums.js":"KwvA","../dom-utils/instanceOf.js":"lOVC","./mergePaddingObject.js":"YlSo","./expandToHashMap.js":"ZqdX"}],"YB6F":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=u;var e=a(require("./getVariation.js")),t=require("../enums.js"),r=a(require("./detectOverflow.js")),n=a(require("./getBasePlacement.js"));function a(e){return e&&e.__esModule?e:{default:e}}function u(a,u){void 0===u&&(u={});var o=u,i=o.placement,l=o.boundary,d=o.rootBoundary,s=o.padding,c=o.flipVariations,f=o.allowedAutoPlacements,m=void 0===f?t.placements:f,p=(0,e.default)(i),v=p?c?t.variationPlacements:t.variationPlacements.filter(function(t){return(0,e.default)(t)===p}):t.basePlacements,j=v.filter(function(e){return m.indexOf(e)>=0});0===j.length&&(j=v);var y=j.reduce(function(e,t){return e[t]=(0,r.default)(a,{placement:t,boundary:l,rootBoundary:d,padding:s})[(0,n.default)(t)],e},{});return Object.keys(y).sort(function(e,t){return y[e]-y[t]})}
},{"./getVariation.js":"kB4N","../enums.js":"KwvA","./detectOverflow.js":"lMQv","./getBasePlacement.js":"yLpD"}],"sjJD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=o(require("../utils/getOppositePlacement.js")),t=o(require("../utils/getBasePlacement.js")),a=o(require("../utils/getOppositeVariationPlacement.js")),r=o(require("../utils/detectOverflow.js")),i=o(require("../utils/computeAutoPlacement.js")),n=require("../enums.js"),u=o(require("../utils/getVariation.js"));function o(e){return e&&e.__esModule?e:{default:e}}function l(r){if((0,t.default)(r)===n.auto)return[];var i=(0,e.default)(r);return[(0,a.default)(r),i,(0,a.default)(i)]}function s(a){var o=a.state,s=a.options,f=a.name;if(!o.modifiersData[f]._skip){for(var d=s.mainAxis,c=void 0===d||d,p=s.altAxis,m=void 0===p||p,v=s.fallbackPlacements,b=s.padding,g=s.boundary,y=s.rootBoundary,h=s.altBoundary,j=s.flipVariations,k=void 0===j||j,q=s.allowedAutoPlacements,P=o.options.placement,x=(0,t.default)(P),_=v||(x===P||!k?[(0,e.default)(P)]:l(P)),B=[P].concat(_).reduce(function(e,a){return e.concat((0,t.default)(a)===n.auto?(0,i.default)(o,{placement:a,boundary:g,rootBoundary:y,padding:b,flipVariations:k,allowedAutoPlacements:q}):a)},[]),w=o.rects.reference,A=o.rects.popper,O=new Map,V=!0,M=B[0],D=0;D<B.length;D++){var E=B[D],I=(0,t.default)(E),z=(0,u.default)(E)===n.start,C=[n.top,n.bottom].indexOf(I)>=0,F=C?"width":"height",G=(0,r.default)(o,{placement:E,boundary:g,rootBoundary:y,altBoundary:h,padding:b}),H=C?z?n.right:n.left:z?n.bottom:n.top;w[F]>A[F]&&(H=(0,e.default)(H));var J=(0,e.default)(H),K=[];if(c&&K.push(G[I]<=0),m&&K.push(G[H]<=0,G[J]<=0),K.every(function(e){return e})){M=E,V=!1;break}O.set(E,K)}if(V)for(var L=function(e){var t=B.find(function(t){var a=O.get(t);if(a)return a.slice(0,e).every(function(e){return e})});if(t)return M=t,"break"},N=k?3:1;N>0;N--){if("break"===L(N))break}o.placement!==M&&(o.modifiersData[f]._skip=!0,o.placement=M,o.reset=!0)}}var f={name:"flip",enabled:!0,phase:"main",fn:s,requiresIfExists:["offset"],data:{_skip:!1}};exports.default=f;
},{"../utils/getOppositePlacement.js":"hGEW","../utils/getBasePlacement.js":"yLpD","../utils/getOppositeVariationPlacement.js":"B4ze","../utils/detectOverflow.js":"lMQv","../utils/computeAutoPlacement.js":"YB6F","../enums.js":"KwvA","../utils/getVariation.js":"kB4N"}],"T3oQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../enums.js"),t=r(require("../utils/detectOverflow.js"));function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,r){return void 0===r&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function i(t){return[e.top,e.right,e.bottom,e.left].some(function(e){return t[e]>=0})}function n(e){var r=e.state,n=e.name,s=r.rects.reference,p=r.rects.popper,a=r.modifiersData.preventOverflow,f=(0,t.default)(r,{elementContext:"reference"}),d=(0,t.default)(r,{altBoundary:!0}),u=o(f,s),c=o(d,p,a),l=i(u),h=i(c);r.modifiersData[n]={referenceClippingOffsets:u,popperEscapeOffsets:c,isReferenceHidden:l,hasPopperEscaped:h},r.attributes.popper=Object.assign(Object.assign({},r.attributes.popper),{},{"data-popper-reference-hidden":l,"data-popper-escaped":h})}var s={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:n};exports.default=s;
},{"../enums.js":"KwvA","../utils/detectOverflow.js":"lMQv"}],"YSdh":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.distanceAndSkiddingToXY=r,exports.default=void 0;var e=s(require("../utils/getBasePlacement.js")),t=require("../enums.js");function s(e){return e&&e.__esModule?e:{default:e}}function r(s,r,n){var f=(0,e.default)(s),a=[t.left,t.top].indexOf(f)>=0?-1:1,i="function"==typeof n?n(Object.assign(Object.assign({},r),{},{placement:s})):n,o=i[0],p=i[1];return o=o||0,p=(p||0)*a,[t.left,t.right].indexOf(f)>=0?{x:p,y:o}:{x:o,y:p}}function n(e){var s=e.state,n=e.options,f=e.name,a=n.offset,i=void 0===a?[0,0]:a,o=t.placements.reduce(function(e,t){return e[t]=r(t,s.rects,i),e},{}),p=o[s.placement],u=p.x,d=p.y;null!=s.modifiersData.popperOffsets&&(s.modifiersData.popperOffsets.x+=u,s.modifiersData.popperOffsets.y+=d),s.modifiersData[f]=o}var f={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:n};exports.default=f;
},{"../utils/getBasePlacement.js":"yLpD","../enums.js":"KwvA"}],"KKNB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("../utils/computeOffsets.js"));function t(e){return e&&e.__esModule?e:{default:e}}function r(t){var r=t.state,a=t.name;r.modifiersData[a]=(0,e.default)({reference:r.rects.reference,element:r.rects.popper,strategy:"absolute",placement:r.placement})}var a={name:"popperOffsets",enabled:!0,phase:"read",fn:r,data:{}};exports.default=a;
},{"../utils/computeOffsets.js":"HyU9"}],"lz0w":[function(require,module,exports) {
"use strict";function e(e){return"x"===e?"y":"x"}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"T716":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../enums.js"),t=d(require("../utils/getBasePlacement.js")),r=d(require("../utils/getMainAxisFromPlacement.js")),a=d(require("../utils/getAltAxis.js")),i=d(require("../utils/within.js")),s=d(require("../dom-utils/getLayoutRect.js")),o=d(require("../dom-utils/getOffsetParent.js")),u=d(require("../utils/detectOverflow.js")),f=d(require("../utils/getVariation.js")),n=d(require("../utils/getFreshSideObject.js"));function d(e){return e&&e.__esModule?e:{default:e}}function l(d){var l=d.state,m=d.options,p=d.name,c=m.mainAxis,g=void 0===c||c,h=m.altAxis,j=void 0!==h&&h,v=m.boundary,y=m.rootBoundary,x=m.altBoundary,q=m.padding,w=m.tether,b=void 0===w||w,O=m.tetherOffset,D=void 0===O?0:O,A=(0,u.default)(l,{boundary:v,rootBoundary:y,padding:q,altBoundary:x}),B=(0,t.default)(l.placement),M=(0,f.default)(l.placement),P=!M,_=(0,r.default)(B),F=(0,a.default)(_),L=l.modifiersData.popperOffsets,E=l.rects.reference,I=l.rects.popper,R="function"==typeof D?D(Object.assign(Object.assign({},l.rects),{},{placement:l.placement})):D,S={x:0,y:0};if(L){if(g){var T="y"===_?e.top:e.left,V="y"===_?e.bottom:e.right,k="y"===_?"height":"width",z=L[_],C=L[_]+A[T],G=L[_]-A[V],H=b?-I[k]/2:0,J=M===e.start?E[k]:I[k],K=M===e.start?-I[k]:-E[k],N=l.elements.arrow,Q=b&&N?(0,s.default)(N):{width:0,height:0},U=l.modifiersData["arrow#persistent"]?l.modifiersData["arrow#persistent"].padding:(0,n.default)(),W=U[T],X=U[V],Y=(0,i.default)(0,E[k],Q[k]),Z=P?E[k]/2-H-Y-W-R:J-Y-W-R,$=P?-E[k]/2+H+Y+X+R:K+Y+X+R,ee=l.elements.arrow&&(0,o.default)(l.elements.arrow),te=ee?"y"===_?ee.clientTop||0:ee.clientLeft||0:0,re=l.modifiersData.offset?l.modifiersData.offset[l.placement][_]:0,ae=L[_]+Z-re-te,ie=L[_]+$-re,se=(0,i.default)(b?Math.min(C,ae):C,z,b?Math.max(G,ie):G);L[_]=se,S[_]=se-z}if(j){var oe="x"===_?e.top:e.left,ue="x"===_?e.bottom:e.right,fe=L[F],ne=fe+A[oe],de=fe-A[ue],le=(0,i.default)(ne,fe,de);L[F]=le,S[F]=le-fe}l.modifiersData[p]=S}}var m={name:"preventOverflow",enabled:!0,phase:"main",fn:l,requiresIfExists:["offset"]};exports.default=m;
},{"../enums.js":"KwvA","../utils/getBasePlacement.js":"yLpD","../utils/getMainAxisFromPlacement.js":"w8hZ","../utils/getAltAxis.js":"lz0w","../utils/within.js":"bTtH","../dom-utils/getLayoutRect.js":"bgU0","../dom-utils/getOffsetParent.js":"Mnay","../utils/detectOverflow.js":"lMQv","../utils/getVariation.js":"kB4N","../utils/getFreshSideObject.js":"R9OA"}],"afdv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"applyStyles",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(exports,"arrow",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(exports,"computeStyles",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(exports,"eventListeners",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(exports,"flip",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(exports,"hide",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(exports,"offset",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(exports,"popperOffsets",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(exports,"preventOverflow",{enumerable:!0,get:function(){return i.default}});var e=p(require("./applyStyles.js")),r=p(require("./arrow.js")),t=p(require("./computeStyles.js")),n=p(require("./eventListeners.js")),u=p(require("./flip.js")),f=p(require("./hide.js")),o=p(require("./offset.js")),s=p(require("./popperOffsets.js")),i=p(require("./preventOverflow.js"));function p(e){return e&&e.__esModule?e:{default:e}}
},{"./applyStyles.js":"pu4Q","./arrow.js":"T3Ag","./computeStyles.js":"p5kV","./eventListeners.js":"ugN3","./flip.js":"sjJD","./hide.js":"T3oQ","./offset.js":"YSdh","./popperOffsets.js":"KKNB","./preventOverflow.js":"T716"}],"MDXK":[function(require,module,exports) {
"use strict";function e(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"ISrc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=n;var e=l(require("./getWindowScroll.js")),t=l(require("./getWindow.js")),r=require("./instanceOf.js"),u=l(require("./getHTMLElementScroll.js"));function l(e){return e&&e.__esModule?e:{default:e}}function n(l){return l!==(0,t.default)(l)&&(0,r.isHTMLElement)(l)?(0,u.default)(l):(0,e.default)(l)}
},{"./getWindowScroll.js":"aES8","./getWindow.js":"iP0B","./instanceOf.js":"lOVC","./getHTMLElementScroll.js":"MDXK"}],"At1X":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=d;var e=s(require("./getBoundingClientRect.js")),t=s(require("./getNodeScroll.js")),r=s(require("./getNodeName.js")),l=require("./instanceOf.js"),u=s(require("./getWindowScrollBarX.js")),i=s(require("./getDocumentElement.js")),o=s(require("./isScrollParent.js"));function s(e){return e&&e.__esModule?e:{default:e}}function d(s,d,n){void 0===n&&(n=!1);var f=(0,i.default)(d),a=(0,e.default)(s),c=(0,l.isHTMLElement)(d),g={scrollLeft:0,scrollTop:0},j={x:0,y:0};return(c||!c&&!n)&&(("body"!==(0,r.default)(d)||(0,o.default)(f))&&(g=(0,t.default)(d)),(0,l.isHTMLElement)(d)?((j=(0,e.default)(d)).x+=d.clientLeft,j.y+=d.clientTop):f&&(j.x=(0,u.default)(f))),{x:a.left+g.scrollLeft-j.x,y:a.top+g.scrollTop-j.y,width:a.width,height:a.height}}
},{"./getBoundingClientRect.js":"btCD","./getNodeScroll.js":"ISrc","./getNodeName.js":"hqUe","./instanceOf.js":"lOVC","./getWindowScrollBarX.js":"pET8","./getDocumentElement.js":"iOCj","./isScrollParent.js":"T26w"}],"ND1T":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var e=require("../enums.js");function n(e){var n=new Map,r=new Set,t=[];return e.forEach(function(e){n.set(e.name,e)}),e.forEach(function(e){r.has(e.name)||function e(u){r.add(u.name),[].concat(u.requires||[],u.requiresIfExists||[]).forEach(function(t){if(!r.has(t)){var u=n.get(t);u&&e(u)}}),t.push(u)}(e)}),t}function r(r){var t=n(r);return e.modifierPhases.reduce(function(e,n){return e.concat(t.filter(function(e){return e.phase===n}))},[])}
},{"../enums.js":"KwvA"}],"dSl1":[function(require,module,exports) {
"use strict";function e(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"IW9N":[function(require,module,exports) {
"use strict";function e(e){for(var r=arguments.length,t=new Array(r>1?r-1:0),n=1;n<r;n++)t[n-1]=arguments[n];return[].concat(t).reduce(function(e,r){return e.replace(/%s/,r)},e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"xmZK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=s;var e=n(require("./format.js")),r=require("../enums.js");function n(e){return e&&e.__esModule?e:{default:e}}var a='Popper: modifier "%s" provided an invalid %s property, expected %s but got %s',o='Popper: modifier "%s" requires "%s", but "%s" modifier is not available',i=["name","enabled","phase","fn","effect","requires","options"];function s(n){n.forEach(function(s){Object.keys(s).forEach(function(t){switch(t){case"name":"string"!=typeof s.name&&console.error((0,e.default)(a,String(s.name),'"name"','"string"','"'+String(s.name)+'"'));break;case"enabled":"boolean"!=typeof s.enabled&&console.error((0,e.default)(a,s.name,'"enabled"','"boolean"','"'+String(s.enabled)+'"'));case"phase":r.modifierPhases.indexOf(s.phase)<0&&console.error((0,e.default)(a,s.name,'"phase"',"either "+r.modifierPhases.join(", "),'"'+String(s.phase)+'"'));break;case"fn":"function"!=typeof s.fn&&console.error((0,e.default)(a,s.name,'"fn"','"function"','"'+String(s.fn)+'"'));break;case"effect":"function"!=typeof s.effect&&console.error((0,e.default)(a,s.name,'"effect"','"function"','"'+String(s.fn)+'"'));break;case"requires":Array.isArray(s.requires)||console.error((0,e.default)(a,s.name,'"requires"','"array"','"'+String(s.requires)+'"'));break;case"requiresIfExists":Array.isArray(s.requiresIfExists)||console.error((0,e.default)(a,s.name,'"requiresIfExists"','"array"','"'+String(s.requiresIfExists)+'"'));break;case"options":case"data":break;default:console.error('PopperJS: an invalid property has been provided to the "'+s.name+'" modifier, valid properties are '+i.map(function(e){return'"'+e+'"'}).join(", ")+'; but "'+t+'" was provided.')}s.requires&&s.requires.forEach(function(r){null==n.find(function(e){return e.name===r})&&console.error((0,e.default)(o,String(s.name),r,r))})})})}
},{"./format.js":"IW9N","../enums.js":"KwvA"}],"bX8X":[function(require,module,exports) {
"use strict";function e(e,t){var r=new Set;return e.filter(function(e){var n=t(e);if(!r.has(n))return r.add(n),!0})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"r9N4":[function(require,module,exports) {
"use strict";function e(e){var t=e.reduce(function(e,t){var s=e[t.name];return e[t.name]=s?Object.assign(Object.assign(Object.assign({},s),t),{},{options:Object.assign(Object.assign({},s.options),t.options),data:Object.assign(Object.assign({},s.data),t.data)}):t,e},{});return Object.keys(t).map(function(e){return t[e]})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"hLbv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.popperGenerator=y,Object.defineProperty(exports,"detectOverflow",{enumerable:!0,get:function(){return c.default}}),exports.createPopper=void 0;var e=m(require("./dom-utils/getCompositeRect.js")),t=m(require("./dom-utils/getLayoutRect.js")),r=m(require("./dom-utils/listScrollParents.js")),o=m(require("./dom-utils/getOffsetParent.js")),n=m(require("./dom-utils/getComputedStyle.js")),i=m(require("./utils/orderModifiers.js")),s=m(require("./utils/debounce.js")),u=m(require("./utils/validateModifiers.js")),a=m(require("./utils/uniqueBy.js")),f=m(require("./utils/getBasePlacement.js")),d=m(require("./utils/mergeByName.js")),c=m(require("./utils/detectOverflow.js")),p=require("./dom-utils/instanceOf.js"),l=require("./enums.js");function m(e){return e&&e.__esModule?e:{default:e}}var v="Popper: Invalid reference or popper argument provided. They must be either a DOM element or virtual element.",j="Popper: An infinite loop in the modifiers cycle has been detected! The cycle has been interrupted to prevent a browser crash.",g={placement:"bottom",modifiers:[],strategy:"absolute"};function b(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(e){return!(e&&"function"==typeof e.getBoundingClientRect)})}function y(n){void 0===n&&(n={});var u=n,a=u.defaultModifiers,f=void 0===a?[]:a,c=u.defaultOptions,l=void 0===c?g:c;return function(n,u,a){void 0===a&&(a=l);var c={placement:"bottom",orderedModifiers:[],options:Object.assign(Object.assign({},g),l),modifiersData:{},elements:{reference:n,popper:u},attributes:{},styles:{}},m=[],v=!1,j={state:c,setOptions:function(e){y(),c.options=Object.assign(Object.assign(Object.assign({},l),c.options),e),c.scrollParents={reference:(0,p.isElement)(n)?(0,r.default)(n):n.contextElement?(0,r.default)(n.contextElement):[],popper:(0,r.default)(u)};var t=(0,i.default)((0,d.default)([].concat(f,c.options.modifiers)));return c.orderedModifiers=t.filter(function(e){return e.enabled}),c.orderedModifiers.forEach(function(e){var t=e.name,r=e.options,o=void 0===r?{}:r,n=e.effect;if("function"==typeof n){var i=n({state:c,name:t,instance:j,options:o});m.push(i||function(){})}}),j.update()},forceUpdate:function(){if(!v){var r=c.elements,n=r.reference,i=r.popper;if(b(n,i)){c.rects={reference:(0,e.default)(n,(0,o.default)(i),"fixed"===c.options.strategy),popper:(0,t.default)(i)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(e){return c.modifiersData[e.name]=Object.assign({},e.data)});for(var s=0;s<c.orderedModifiers.length;s++)if(!0!==c.reset){var u=c.orderedModifiers[s],a=u.fn,f=u.options,d=void 0===f?{}:f,p=u.name;"function"==typeof a&&(c=a({state:c,options:d,name:p,instance:j})||c)}else c.reset=!1,s=-1}}},update:(0,s.default)(function(){return new Promise(function(e){j.forceUpdate(),e(c)})}),destroy:function(){y(),v=!0}};if(!b(n,u))return j;function y(){m.forEach(function(e){return e()}),m=[]}return j.setOptions(a).then(function(e){!v&&a.onFirstUpdate&&a.onFirstUpdate(e)}),j}}var O=y();exports.createPopper=O;
},{"./dom-utils/getCompositeRect.js":"At1X","./dom-utils/getLayoutRect.js":"bgU0","./dom-utils/listScrollParents.js":"inBY","./dom-utils/getOffsetParent.js":"Mnay","./dom-utils/getComputedStyle.js":"ro5C","./utils/orderModifiers.js":"ND1T","./utils/debounce.js":"dSl1","./utils/validateModifiers.js":"xmZK","./utils/uniqueBy.js":"bX8X","./utils/getBasePlacement.js":"yLpD","./utils/mergeByName.js":"r9N4","./utils/detectOverflow.js":"lMQv","./dom-utils/instanceOf.js":"lOVC","./enums.js":"KwvA"}],"DvPc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"popperGenerator",{enumerable:!0,get:function(){return e.popperGenerator}}),Object.defineProperty(exports,"detectOverflow",{enumerable:!0,get:function(){return e.detectOverflow}}),exports.defaultModifiers=exports.createPopper=void 0;var e=require("./createPopper.js"),r=s(require("./modifiers/eventListeners.js")),t=s(require("./modifiers/popperOffsets.js")),o=s(require("./modifiers/computeStyles.js")),p=s(require("./modifiers/applyStyles.js"));function s(e){return e&&e.__esModule?e:{default:e}}var i=[r.default,t.default,o.default,p.default];exports.defaultModifiers=i;var u=(0,e.popperGenerator)({defaultModifiers:i});exports.createPopper=u;
},{"./createPopper.js":"hLbv","./modifiers/eventListeners.js":"ugN3","./modifiers/popperOffsets.js":"KKNB","./modifiers/computeStyles.js":"p5kV","./modifiers/applyStyles.js":"pu4Q"}],"xbYU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e={createPopper:!0,defaultModifiers:!0,popperGenerator:!0,detectOverflow:!0,createPopperLite:!0};Object.defineProperty(exports,"popperGenerator",{enumerable:!0,get:function(){return r.popperGenerator}}),Object.defineProperty(exports,"detectOverflow",{enumerable:!0,get:function(){return r.detectOverflow}}),Object.defineProperty(exports,"createPopperLite",{enumerable:!0,get:function(){return n.createPopper}}),exports.defaultModifiers=exports.createPopper=void 0;var r=require("./createPopper.js"),t=c(require("./modifiers/eventListeners.js")),o=c(require("./modifiers/popperOffsets.js")),i=c(require("./modifiers/computeStyles.js")),p=c(require("./modifiers/applyStyles.js")),s=c(require("./modifiers/offset.js")),f=c(require("./modifiers/flip.js")),u=c(require("./modifiers/preventOverflow.js")),d=c(require("./modifiers/arrow.js")),a=c(require("./modifiers/hide.js")),n=require("./popper-lite.js"),l=require("./modifiers/index.js");function c(e){return e&&e.__esModule?e:{default:e}}Object.keys(l).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in exports&&exports[r]===l[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return l[r]}}))});var j=[t.default,o.default,i.default,p.default,s.default,f.default,u.default,d.default,a.default];exports.defaultModifiers=j;var m=(0,r.popperGenerator)({defaultModifiers:j});exports.createPopper=m;
},{"./createPopper.js":"hLbv","./modifiers/eventListeners.js":"ugN3","./modifiers/popperOffsets.js":"KKNB","./modifiers/computeStyles.js":"p5kV","./modifiers/applyStyles.js":"pu4Q","./modifiers/offset.js":"YSdh","./modifiers/flip.js":"sjJD","./modifiers/preventOverflow.js":"T716","./modifiers/arrow.js":"T3Ag","./modifiers/hide.js":"T3oQ","./popper-lite.js":"DvPc","./modifiers/index.js":"afdv"}],"S1OH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e={popperGenerator:!0,detectOverflow:!0,createPopperBase:!0,createPopper:!0,createPopperLite:!0};Object.defineProperty(exports,"popperGenerator",{enumerable:!0,get:function(){return o.popperGenerator}}),Object.defineProperty(exports,"detectOverflow",{enumerable:!0,get:function(){return o.detectOverflow}}),Object.defineProperty(exports,"createPopperBase",{enumerable:!0,get:function(){return o.createPopper}}),Object.defineProperty(exports,"createPopper",{enumerable:!0,get:function(){return p.createPopper}}),Object.defineProperty(exports,"createPopperLite",{enumerable:!0,get:function(){return n.createPopper}});var r=require("./enums.js");Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(e,t)||t in exports&&exports[t]===r[t]||Object.defineProperty(exports,t,{enumerable:!0,get:function(){return r[t]}}))});var t=require("./modifiers/index.js");Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in exports&&exports[r]===t[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return t[r]}}))});var o=require("./createPopper.js"),p=require("./popper.js"),n=require("./popper-lite.js");
},{"./enums.js":"KwvA","./modifiers/index.js":"afdv","./createPopper.js":"hLbv","./popper.js":"xbYU","./popper-lite.js":"DvPc"}],"ndpH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.delegate=yt,exports.sticky=exports.roundArrow=exports.inlinePositioning=exports.hideAll=exports.followCursor=exports.createSingleton=exports.animateFill=exports.default=void 0;var t=require("@popperjs/core"),e='<svg width="16" height="6" xmlns="http://www.w3.org/2000/svg"><path d="M0 6s1.796-.013 4.67-3.615C5.851.9 6.93.006 8 0c1.07-.006 2.148.887 3.343 2.385C14.233 6.005 16 6 16 6H0z"></svg>';exports.roundArrow=e;var n="tippy-box",r="tippy-content",i="tippy-backdrop",o="tippy-arrow",a="tippy-svg-arrow",s={passive:!0,capture:!0};function u(t,e){return{}.hasOwnProperty.call(t,e)}function c(t,e,n){if(Array.isArray(t)){var r=t[e];return null==r?Array.isArray(n)?n[e]:n:r}return t}function p(t,e){var n={}.toString.call(t);return 0===n.indexOf("[object")&&n.indexOf(e+"]")>-1}function f(t,e){return"function"==typeof t?t.apply(void 0,e):t}function l(t,e){return 0===e?t:function(r){clearTimeout(n),n=setTimeout(function(){t(r)},e)};var n}function d(t,e){var n=Object.assign({},t);return e.forEach(function(t){delete n[t]}),n}function v(t){return t.split(/\s+/).filter(Boolean)}function m(t){return[].concat(t)}function g(t,e){-1===t.indexOf(e)&&t.push(e)}function h(t){return t.filter(function(e,n){return t.indexOf(e)===n})}function b(t){return t.split("-")[0]}function y(t){return[].slice.call(t)}function w(t){return Object.keys(t).reduce(function(e,n){return void 0!==t[n]&&(e[n]=t[n]),e},{})}function x(){return document.createElement("div")}function E(t){return["Element","Fragment"].some(function(e){return p(t,e)})}function T(t){return p(t,"NodeList")}function C(t){return p(t,"MouseEvent")}function A(t){return!(!t||!t._tippy||t._tippy.reference!==t)}function O(t){return E(t)?[t]:T(t)?y(t):Array.isArray(t)?t:y(document.querySelectorAll(t))}function L(t,e){t.forEach(function(t){t&&(t.style.transitionDuration=e+"ms")})}function j(t,e){t.forEach(function(t){t&&t.setAttribute("data-state",e)})}function k(t){var e=m(t)[0];return e&&e.ownerDocument||document}function D(t,e){var n=e.clientX,r=e.clientY;return t.every(function(t){var e=t.popperRect,i=t.popperState,o=t.props.interactiveBorder,a=b(i.placement),s=i.modifiersData.offset;if(!s)return!0;var u="bottom"===a?s.top.y:0,c="top"===a?s.bottom.y:0,p="right"===a?s.left.x:0,f="left"===a?s.right.x:0,l=e.top-r+u>o,d=r-e.bottom-c>o,v=e.left-n+p>o,m=n-e.right-f>o;return l||d||v||m})}function P(t,e,n){var r=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(e){t[r](e,n)})}var R={isTouch:!1},M=0;function V(){R.isTouch||(R.isTouch=!0,window.performance&&document.addEventListener("mousemove",S))}function S(){var t=performance.now();t-M<20&&(R.isTouch=!1,document.removeEventListener("mousemove",S)),M=t}function I(){var t=document.activeElement;if(A(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}function B(){document.addEventListener("touchstart",V,s),window.addEventListener("blur",I)}var N,U="undefined"!=typeof window&&"undefined"!=typeof document,H=U?navigator.userAgent:"",_=/MSIE |Trident\//.test(H);function F(t){return[t+"() was called on a"+("destroy"===t?"n already-":" ")+"destroyed instance. This is a no-op but","indicates a potential memory leak."].join(" ")}function Y(t){return t.replace(/[ \t]{2,}/g," ").replace(/^[ \t]*/gm,"").trim()}function W(t){return Y("\n  %ctippy.js\n\n  %c"+Y(t)+"\n\n  %c This is a development-only message. It will be removed in production.\n  ")}function X(t){return[W(t),"color: #00C584; font-size: 1.3em; font-weight: bold;","line-height: 1.5","color: #a6a095;"]}function $(){N=new Set}function q(t,e){var n;t&&!N.has(e)&&(N.add(e),(n=console).warn.apply(n,X(e)))}function z(t,e){var n;t&&!N.has(e)&&(N.add(e),(n=console).error.apply(n,X(e)))}function J(t){var e=!t,n="[object Object]"===Object.prototype.toString.call(t)&&!t.addEventListener;z(e,["tippy() was passed","`"+String(t)+"`","as its targets (first) argument. Valid types are: String, Element,","Element[], or NodeList."].join(" ")),z(n,["tippy() was passed a plain object which is not supported as an argument","for virtual positioning. Use props.getReferenceClientRect instead."].join(" "))}var G={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},K={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},Q=Object.assign({appendTo:function(){return document.body},aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},G,{},K),Z=Object.keys(Q),tt=function(t){Object.keys(t).forEach(function(e){Q[e]=t[e]})};function et(t){var e=(t.plugins||[]).reduce(function(e,n){var r=n.name,i=n.defaultValue;return r&&(e[r]=void 0!==t[r]?t[r]:i),e},{});return Object.assign({},t,{},e)}function nt(t,e){return(e?Object.keys(et(Object.assign({},Q,{plugins:e}))):Z).reduce(function(e,n){var r=(t.getAttribute("data-tippy-"+n)||"").trim();if(!r)return e;if("content"===n)e[n]=r;else try{e[n]=JSON.parse(r)}catch(i){e[n]=r}return e},{})}function rt(t,e){var n=Object.assign({},e,{content:f(e.content,[t])},e.ignoreAttributes?{}:nt(t,e.plugins));return n.aria=Object.assign({},Q.aria,{},n.aria),n.aria={expanded:"auto"===n.aria.expanded?e.interactive:n.aria.expanded,content:"auto"===n.aria.content?e.interactive?null:"describedby":n.aria.content},n}function it(t,e){void 0===t&&(t={}),void 0===e&&(e=[]),Object.keys(t).forEach(function(t){var n=!u(d(Q,Object.keys(G)),t);n&&(n=0===e.filter(function(e){return e.name===t}).length),q(n,["`"+t+"`","is not a valid prop. You may have spelled it incorrectly, or if it's","a plugin, forgot to pass it in an array as props.plugins.","\n\n","All props: https://atomiks.github.io/tippyjs/v6/all-props/\n","Plugins: https://atomiks.github.io/tippyjs/v6/plugins/"].join(" "))})}var ot=function(){return"innerHTML"};function at(t,e){t[ot()]=e}function st(t){var e=x();return!0===t?e.className=o:(e.className=a,E(t)?e.appendChild(t):at(e,t)),e}function ut(t,e){E(e.content)?(at(t,""),t.appendChild(e.content)):"function"!=typeof e.content&&(e.allowHTML?at(t,e.content):t.textContent=e.content)}function ct(t){var e=t.firstElementChild,n=y(e.children);return{box:e,content:n.find(function(t){return t.classList.contains(r)}),arrow:n.find(function(t){return t.classList.contains(o)||t.classList.contains(a)}),backdrop:n.find(function(t){return t.classList.contains(i)})}}function pt(t){var e=x(),i=x();i.className=n,i.setAttribute("data-state","hidden"),i.setAttribute("tabindex","-1");var o=x();function a(n,r){var i=ct(e),o=i.box,a=i.content,s=i.arrow;r.theme?o.setAttribute("data-theme",r.theme):o.removeAttribute("data-theme"),"string"==typeof r.animation?o.setAttribute("data-animation",r.animation):o.removeAttribute("data-animation"),r.inertia?o.setAttribute("data-inertia",""):o.removeAttribute("data-inertia"),o.style.maxWidth="number"==typeof r.maxWidth?r.maxWidth+"px":r.maxWidth,r.role?o.setAttribute("role",r.role):o.removeAttribute("role"),n.content===r.content&&n.allowHTML===r.allowHTML||ut(a,t.props),r.arrow?s?n.arrow!==r.arrow&&(o.removeChild(s),o.appendChild(st(r.arrow))):o.appendChild(st(r.arrow)):s&&o.removeChild(s)}return o.className=r,o.setAttribute("data-state","hidden"),ut(o,t.props),e.appendChild(i),i.appendChild(o),a(t.props,t.props),{popper:e,onUpdate:a}}pt.$$tippy=!0;var ft=1,lt=[],dt=[];function vt(e,n){var r,i,o,a,u,p,d,b=rt(e,Object.assign({},Q,{},et(w(n)))),E=!1,T=!1,A=!1,O=!1,M=[],V=l(yt,b.interactiveDebounce),S=ft++,I=h(b.plugins),B={id:S,reference:e,popper:x(),popperInstance:null,props:b,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:I,clearDelayTimeouts:function(){clearTimeout(r),clearTimeout(i),cancelAnimationFrame(o)},setProps:function(t){0;if(B.state.isDestroyed)return;Z("onBeforeUpdate",[B,t]),ht();var n=B.props,r=rt(e,Object.assign({},B.props,{},t,{ignoreAttributes:!0}));B.props=r,gt(),n.interactiveDebounce!==r.interactiveDebounce&&(it(),V=l(yt,r.interactiveDebounce));n.triggerTarget&&!r.triggerTarget?m(n.triggerTarget).forEach(function(t){t.removeAttribute("aria-expanded")}):r.triggerTarget&&e.removeAttribute("aria-expanded");nt(),K(),H&&H(n,r);B.popperInstance&&(Tt(),At().forEach(function(t){requestAnimationFrame(t._tippy.popperInstance.forceUpdate)}));Z("onAfterUpdate",[B,t])},setContent:function(t){B.setProps({content:t})},show:function(){0;var t=B.state.isVisible,e=B.state.isDestroyed,n=!B.state.isEnabled,r=R.isTouch&&!B.props.touch,i=c(B.props.duration,0,Q.duration);if(t||e||n||r)return;if(q().hasAttribute("disabled"))return;if(Z("onShow",[B],!1),!1===B.props.onShow(B))return;B.state.isVisible=!0,$()&&(U.style.visibility="visible");K(),ut(),B.state.isMounted||(U.style.transition="none");if($()){var o=J(),a=o.box,s=o.content;L([a,s],0)}p=function(){if(B.state.isVisible&&!O){if(O=!0,U.offsetHeight,U.style.transition=B.props.moveTransition,$()&&B.props.animation){var t=J(),e=t.box,n=t.content;L([e,n],i),j([e,n],"visible")}tt(),nt(),g(dt,B),B.state.isMounted=!0,Z("onMount",[B]),B.props.animation&&$()&&function(t,e){vt(t,e)}(i,function(){B.state.isShown=!0,Z("onShown",[B])})}},function(){var t,e=B.props.appendTo,n=q();t=B.props.interactive&&e===Q.appendTo||"parent"===e?n.parentNode:f(e,[n]);t.contains(U)||t.appendChild(U);Tt(),0}()},hide:function(){0;var t=!B.state.isVisible,e=B.state.isDestroyed,n=!B.state.isEnabled,r=c(B.props.duration,1,Q.duration);if(t||e||n)return;if(Z("onHide",[B],!1),!1===B.props.onHide(B))return;B.state.isVisible=!1,B.state.isShown=!1,O=!1,E=!1,$()&&(U.style.visibility="hidden");if(it(),pt(),K(),$()){var i=J(),o=i.box,a=i.content;B.props.animation&&(L([o,a],r),j([o,a],"hidden"))}tt(),nt(),B.props.animation?$()&&function(t,e){vt(t,function(){!B.state.isVisible&&U.parentNode&&U.parentNode.contains(U)&&e()})}(r,B.unmount):B.unmount()},hideWithInteractivity:function(t){0;z().addEventListener("mousemove",V),g(lt,V),V(t)},enable:function(){B.state.isEnabled=!0},disable:function(){B.hide(),B.state.isEnabled=!1},unmount:function(){0;B.state.isVisible&&B.hide();if(!B.state.isMounted)return;Ct(),At().forEach(function(t){t._tippy.unmount()}),U.parentNode&&U.parentNode.removeChild(U);dt=dt.filter(function(t){return t!==B}),B.state.isMounted=!1,Z("onHidden",[B])},destroy:function(){0;if(B.state.isDestroyed)return;B.clearDelayTimeouts(),B.unmount(),ht(),delete e._tippy,B.state.isDestroyed=!0,Z("onDestroy",[B])}};if(!b.render)return B;var N=b.render(B),U=N.popper,H=N.onUpdate;U.setAttribute("data-tippy-root",""),U.id="tippy-"+B.id,B.popper=U,e._tippy=B,U._tippy=B;var F=I.map(function(t){return t.fn(B)}),Y=e.hasAttribute("aria-expanded");return gt(),nt(),K(),Z("onCreate",[B]),b.showOnCreate&&Ot(),U.addEventListener("mouseenter",function(){B.props.interactive&&B.state.isVisible&&B.clearDelayTimeouts()}),U.addEventListener("mouseleave",function(t){B.props.interactive&&B.props.trigger.indexOf("mouseenter")>=0&&(z().addEventListener("mousemove",V),V(t))}),B;function W(){var t=B.props.touch;return Array.isArray(t)?t:[t,0]}function X(){return"hold"===W()[0]}function $(){var t;return!!(null==(t=B.props.render)?void 0:t.$$tippy)}function q(){return d||e}function z(){var t=q().parentNode;return t?k(t):document}function J(){return ct(U)}function G(t){return B.state.isMounted&&!B.state.isVisible||R.isTouch||a&&"focus"===a.type?0:c(B.props.delay,t?0:1,Q.delay)}function K(){U.style.pointerEvents=B.props.interactive&&B.state.isVisible?"":"none",U.style.zIndex=""+B.props.zIndex}function Z(t,e,n){var r;(void 0===n&&(n=!0),F.forEach(function(n){n[t]&&n[t].apply(void 0,e)}),n)&&(r=B.props)[t].apply(r,e)}function tt(){var t=B.props.aria;if(t.content){var n="aria-"+t.content,r=U.id;m(B.props.triggerTarget||e).forEach(function(t){var e=t.getAttribute(n);if(B.state.isVisible)t.setAttribute(n,e?e+" "+r:r);else{var i=e&&e.replace(r,"").trim();i?t.setAttribute(n,i):t.removeAttribute(n)}})}}function nt(){!Y&&B.props.aria.expanded&&m(B.props.triggerTarget||e).forEach(function(t){B.props.interactive?t.setAttribute("aria-expanded",B.state.isVisible&&t===q()?"true":"false"):t.removeAttribute("aria-expanded")})}function it(){z().removeEventListener("mousemove",V),lt=lt.filter(function(t){return t!==V})}function ot(t){if(!(R.isTouch&&(A||"mousedown"===t.type)||B.props.interactive&&U.contains(t.target))){if(q().contains(t.target)){if(R.isTouch)return;if(B.state.isVisible&&B.props.trigger.indexOf("click")>=0)return}else Z("onClickOutside",[B,t]);!0===B.props.hideOnClick&&(B.clearDelayTimeouts(),B.hide(),T=!0,setTimeout(function(){T=!1}),B.state.isMounted||pt())}}function at(){A=!0}function st(){A=!1}function ut(){var t=z();t.addEventListener("mousedown",ot,!0),t.addEventListener("touchend",ot,s),t.addEventListener("touchstart",st,s),t.addEventListener("touchmove",at,s)}function pt(){var t=z();t.removeEventListener("mousedown",ot,!0),t.removeEventListener("touchend",ot,s),t.removeEventListener("touchstart",st,s),t.removeEventListener("touchmove",at,s)}function vt(t,e){var n=J().box;function r(t){t.target===n&&(P(n,"remove",r),e())}if(0===t)return e();P(n,"remove",u),P(n,"add",r),u=r}function mt(t,n,r){void 0===r&&(r=!1),m(B.props.triggerTarget||e).forEach(function(e){e.addEventListener(t,n,r),M.push({node:e,eventType:t,handler:n,options:r})})}function gt(){X()&&(mt("touchstart",bt,{passive:!0}),mt("touchend",wt,{passive:!0})),v(B.props.trigger).forEach(function(t){if("manual"!==t)switch(mt(t,bt),t){case"mouseenter":mt("mouseleave",wt);break;case"focus":mt(_?"focusout":"blur",xt);break;case"focusin":mt("focusout",xt)}})}function ht(){M.forEach(function(t){var e=t.node,n=t.eventType,r=t.handler,i=t.options;e.removeEventListener(n,r,i)}),M=[]}function bt(t){var e,n=!1;if(B.state.isEnabled&&!Et(t)&&!T){var r="focus"===(null==(e=a)?void 0:e.type);a=t,d=t.currentTarget,nt(),!B.state.isVisible&&C(t)&&lt.forEach(function(e){return e(t)}),"click"===t.type&&(B.props.trigger.indexOf("mouseenter")<0||E)&&!1!==B.props.hideOnClick&&B.state.isVisible?n=!0:Ot(t),"click"===t.type&&(E=!n),n&&!r&&Lt(t)}}function yt(t){var e=t.target,n=q().contains(e)||U.contains(e);"mousemove"===t.type&&n||D(At().concat(U).map(function(t){var e,n=null==(e=t._tippy.popperInstance)?void 0:e.state;return n?{popperRect:t.getBoundingClientRect(),popperState:n,props:b}:null}).filter(Boolean),t)&&(it(),Lt(t))}function wt(t){Et(t)||B.props.trigger.indexOf("click")>=0&&E||(B.props.interactive?B.hideWithInteractivity(t):Lt(t))}function xt(t){B.props.trigger.indexOf("focusin")<0&&t.target!==q()||B.props.interactive&&t.relatedTarget&&U.contains(t.relatedTarget)||Lt(t)}function Et(t){return!!R.isTouch&&X()!==t.type.indexOf("touch")>=0}function Tt(){Ct();var n=B.props,r=n.popperOptions,i=n.placement,o=n.offset,a=n.getReferenceClientRect,s=n.moveTransition,u=$()?ct(U).arrow:null,c=a?{getBoundingClientRect:a,contextElement:a.contextElement||q()}:e,f=[{name:"offset",options:{offset:o}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!s}},{name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(t){var e=t.state;if($()){var n=J().box;["placement","reference-hidden","escaped"].forEach(function(t){"placement"===t?n.setAttribute("data-placement",e.placement):e.attributes.popper["data-popper-"+t]?n.setAttribute("data-"+t,""):n.removeAttribute("data-"+t)}),e.attributes.popper={}}}}];$()&&u&&f.push({name:"arrow",options:{element:u,padding:3}}),f.push.apply(f,(null==r?void 0:r.modifiers)||[]),B.popperInstance=(0,t.createPopper)(c,U,Object.assign({},r,{placement:i,onFirstUpdate:p,modifiers:f}))}function Ct(){B.popperInstance&&(B.popperInstance.destroy(),B.popperInstance=null)}function At(){return y(U.querySelectorAll("[data-tippy-root]"))}function Ot(t){B.clearDelayTimeouts(),t&&Z("onTrigger",[B,t]),ut();var e=G(!0),n=W(),i=n[0],o=n[1];R.isTouch&&"hold"===i&&o&&(e=o),e?r=setTimeout(function(){B.show()},e):B.show()}function Lt(t){if(B.clearDelayTimeouts(),Z("onUntrigger",[B,t]),B.state.isVisible){if(!(B.props.trigger.indexOf("mouseenter")>=0&&B.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(t.type)>=0&&E)){var e=G(!1);e?i=setTimeout(function(){B.state.isVisible&&B.hide()},e):o=requestAnimationFrame(function(){B.hide()})}}else pt()}}function mt(t,e){void 0===e&&(e={});var n=Q.plugins.concat(e.plugins||[]);B();var r=Object.assign({},e,{plugins:n}),i=O(t),o=i.reduce(function(t,e){var n=e&&vt(e,r);return n&&t.push(n),t},[]);return E(t)?o[0]:o}mt.defaultProps=Q,mt.setDefaultProps=tt,mt.currentInput=R;var gt=function(t){var e=void 0===t?{}:t,n=e.exclude,r=e.duration;dt.forEach(function(t){var e=!1;if(n&&(e=A(n)?t.reference===n:t.popper===n.popper),!e){var i=t.props.duration;t.setProps({duration:r}),t.hide(),t.state.isDestroyed||t.setProps({duration:i})}})};exports.hideAll=gt;var ht=function(t,e){void 0===e&&(e={});var n,r=t,i=[],o=e.overrides,a=[];function s(){i=r.map(function(t){return t.reference})}function u(t){r.forEach(function(e){t?e.enable():e.disable()})}function c(t){return r.map(function(e){var r=e.setProps;return e.setProps=function(i){r(i),e.reference===n&&t.setProps(i)},function(){e.setProps=r}})}u(!1),s();var p={fn:function(){return{onDestroy:function(){u(!0)},onTrigger:function(t,e){var a=e.currentTarget,s=i.indexOf(a);if(a!==n){n=a;var u=(o||[]).concat("content").reduce(function(t,e){return t[e]=r[s].props[e],t},{});t.setProps(Object.assign({},u,{getReferenceClientRect:"function"==typeof u.getReferenceClientRect?u.getReferenceClientRect:function(){return a.getBoundingClientRect()}}))}}}}},f=mt(x(),Object.assign({},d(e,["overrides"]),{plugins:[p].concat(e.plugins||[]),triggerTarget:i})),l=f.setProps;return f.setProps=function(t){o=t.overrides||o,l(t)},f.setInstances=function(t){u(!0),a.forEach(function(t){return t()}),r=t,u(!1),s(),c(f),f.setProps({triggerTarget:i})},a=c(f),f};exports.createSingleton=ht;var bt={mouseover:"mouseenter",focusin:"focus",click:"click"};function yt(t,e){var n=[],r=[],i=!1,o=e.target,a=d(e,["target"]),s=Object.assign({},a,{trigger:"manual",touch:!1}),u=Object.assign({},a,{showOnCreate:!0}),c=mt(t,s);function p(t){if(t.target&&!i){var n=t.target.closest(o);if(n){var a=n.getAttribute("data-tippy-trigger")||e.trigger||Q.trigger;if(!n._tippy&&!("touchstart"===t.type&&"boolean"==typeof u.touch||"touchstart"!==t.type&&a.indexOf(bt[t.type])<0)){var s=mt(n,u);s&&(r=r.concat(s))}}}}function f(t,e,r,i){void 0===i&&(i=!1),t.addEventListener(e,r,i),n.push({node:t,eventType:e,handler:r,options:i})}return m(c).forEach(function(t){var e=t.destroy,o=t.enable,a=t.disable;t.destroy=function(t){void 0===t&&(t=!0),t&&r.forEach(function(t){t.destroy()}),r=[],n.forEach(function(t){var e=t.node,n=t.eventType,r=t.handler,i=t.options;e.removeEventListener(n,r,i)}),n=[],e()},t.enable=function(){o(),r.forEach(function(t){return t.enable()}),i=!1},t.disable=function(){a(),r.forEach(function(t){return t.disable()}),i=!0},function(t){var e=t.reference;f(e,"touchstart",p),f(e,"mouseover",p),f(e,"focusin",p),f(e,"click",p)}(t)}),c}var wt={name:"animateFill",defaultValue:!1,fn:function(t){var e;if(!(null==(e=t.props.render)?void 0:e.$$tippy))return{};var n=ct(t.popper),r=n.box,i=n.content,o=t.props.animateFill?xt():null;return{onCreate:function(){o&&(r.insertBefore(o,r.firstElementChild),r.setAttribute("data-animatefill",""),r.style.overflow="hidden",t.setProps({arrow:!1,animation:"shift-away"}))},onMount:function(){if(o){var t=r.style.transitionDuration,e=Number(t.replace("ms",""));i.style.transitionDelay=Math.round(e/10)+"ms",o.style.transitionDuration=t,j([o],"visible")}},onShow:function(){o&&(o.style.transitionDuration="0ms")},onHide:function(){o&&j([o],"hidden")}}}};function xt(){var t=x();return t.className=i,j([t],"hidden"),t}exports.animateFill=wt;var Et={clientX:0,clientY:0},Tt=[];function Ct(t){var e=t.clientX,n=t.clientY;Et={clientX:e,clientY:n}}function At(t){t.addEventListener("mousemove",Ct)}function Ot(t){t.removeEventListener("mousemove",Ct)}var Lt={name:"followCursor",defaultValue:!1,fn:function(t){var e=t.reference,n=k(t.props.triggerTarget||e),r=!1,i=!1,o=!0,a=t.props;function s(){return"initial"===t.props.followCursor&&t.state.isVisible}function u(){n.addEventListener("mousemove",f)}function c(){n.removeEventListener("mousemove",f)}function p(){r=!0,t.setProps({getReferenceClientRect:null}),r=!1}function f(n){var r=!n.target||e.contains(n.target),i=t.props.followCursor,o=n.clientX,a=n.clientY,s=e.getBoundingClientRect(),u=o-s.left,c=a-s.top;!r&&t.props.interactive||t.setProps({getReferenceClientRect:function(){var t=e.getBoundingClientRect(),n=o,r=a;"initial"===i&&(n=t.left+u,r=t.top+c);var s="horizontal"===i?t.top:r,p="vertical"===i?t.right:n,f="horizontal"===i?t.bottom:r,l="vertical"===i?t.left:n;return{width:p-l,height:f-s,top:s,right:p,bottom:f,left:l}}})}function l(){t.props.followCursor&&(Tt.push({instance:t,doc:n}),At(n))}function d(){0===(Tt=Tt.filter(function(e){return e.instance!==t})).filter(function(t){return t.doc===n}).length&&Ot(n)}return{onCreate:l,onDestroy:d,onBeforeUpdate:function(){a=t.props},onAfterUpdate:function(e,n){var o=n.followCursor;r||void 0!==o&&a.followCursor!==o&&(d(),o?(l(),!t.state.isMounted||i||s()||u()):(c(),p()))},onMount:function(){t.props.followCursor&&!i&&(o&&(f(Et),o=!1),s()||u())},onTrigger:function(t,e){C(e)&&(Et={clientX:e.clientX,clientY:e.clientY}),i="focus"===e.type},onHidden:function(){t.props.followCursor&&(p(),c(),o=!0)}}}};function jt(t,e){var n;return{popperOptions:Object.assign({},t.popperOptions,{modifiers:[].concat(((null==(n=t.popperOptions)?void 0:n.modifiers)||[]).filter(function(t){return t.name!==e.name}),[e])})}}exports.followCursor=Lt;var kt={name:"inlinePositioning",defaultValue:!1,fn:function(t){var e,n=t.reference;var r=-1,i=!1,o={name:"tippyInlinePositioning",enabled:!0,phase:"afterWrite",fn:function(i){var o=i.state;t.props.inlinePositioning&&(e!==o.placement&&t.setProps({getReferenceClientRect:function(){return Dt(b(o.placement),n.getBoundingClientRect(),y(n.getClientRects()),r)}}),e=o.placement)}};function a(){var e;i||(e=jt(t.props,o),i=!0,t.setProps(e),i=!1)}return{onCreate:a,onAfterUpdate:a,onTrigger:function(e,n){if(C(n)){var i=y(t.reference.getClientRects()),o=i.find(function(t){return t.left-2<=n.clientX&&t.right+2>=n.clientX&&t.top-2<=n.clientY&&t.bottom+2>=n.clientY});r=i.indexOf(o)}},onUntrigger:function(){r=-1}}}};function Dt(t,e,n,r){if(n.length<2||null===t)return e;if(2===n.length&&r>=0&&n[0].left>n[1].right)return n[r]||e;switch(t){case"top":case"bottom":var i=n[0],o=n[n.length-1],a="top"===t,s=i.top,u=o.bottom,c=a?i.left:o.left,p=a?i.right:o.right;return{top:s,bottom:u,left:c,right:p,width:p-c,height:u-s};case"left":case"right":var f=Math.min.apply(Math,n.map(function(t){return t.left})),l=Math.max.apply(Math,n.map(function(t){return t.right})),d=n.filter(function(e){return"left"===t?e.left===f:e.right===l}),v=d[0].top,m=d[d.length-1].bottom;return{top:v,bottom:m,left:f,right:l,width:l-f,height:m-v};default:return e}}exports.inlinePositioning=kt;var Pt={name:"sticky",defaultValue:!1,fn:function(t){var e=t.reference,n=t.popper;function r(e){return!0===t.props.sticky||t.props.sticky===e}var i=null,o=null;function a(){var s=r("reference")?(t.popperInstance?t.popperInstance.state.elements.reference:e).getBoundingClientRect():null,u=r("popper")?n.getBoundingClientRect():null;(s&&Rt(i,s)||u&&Rt(o,u))&&t.popperInstance&&t.popperInstance.update(),i=s,o=u,t.state.isMounted&&requestAnimationFrame(a)}return{onMount:function(){t.props.sticky&&a()}}}};function Rt(t,e){return!t||!e||(t.top!==e.top||t.right!==e.right||t.bottom!==e.bottom||t.left!==e.left)}exports.sticky=Pt,mt.setDefaultProps({render:pt});var Mt=mt;exports.default=Mt;
},{"@popperjs/core":"S1OH"}],"T0Ik":[function(require,module,exports) {

},{}],"VZdO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.unsafeHTML=void 0;var e=require("../lib/parts.js"),t=require("../lit-html.js"),r=new WeakMap,n=(0,t.directive)(function(n){return function(i){if(!(i instanceof t.NodePart))throw new Error("unsafeHTML can only be used in text bindings");var a=r.get(i);if(void 0===a||!(0,e.isPrimitive)(n)||n!==a.value||i.value!==a.fragment){var o=document.createElement("template");o.innerHTML=n;var s=document.importNode(o.content,!0);i.setValue(s),r.set(i,{value:n,fragment:s})}}});exports.unsafeHTML=n;
},{"../lib/parts.js":"PIiJ","../lit-html.js":"KMqM"}],"jBp4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.repeat=void 0;var e=require("../lit-html.js");function r(e,r){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=t(e))||r&&e&&"number"==typeof e.length){n&&(e=n);var o=0,a=function(){};return{s:a,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,f=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return l=e.done,e},e:function(e){f=!0,i=e},f:function(){try{l||null==n.return||n.return()}finally{if(f)throw i}}}}function t(e,r){if(e){if("string"==typeof e)return n(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?n(e,r):void 0}}function n(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var o=function(r,t){var n=r.startNode.parentNode,o=void 0===t?r.endNode:t.startNode,a=n.insertBefore((0,e.createMarker)(),o);n.insertBefore((0,e.createMarker)(),o);var i=new e.NodePart(r.options);return i.insertAfterNode(a),i},a=function(e,r){return e.setValue(r),e.commit(),e},i=function(r,t,n){var o=r.startNode.parentNode,a=n?n.startNode:r.endNode,i=t.endNode.nextSibling;i!==a&&(0,e.reparentNodes)(o,t.startNode,i,a)},l=function(r){(0,e.removeNodes)(r.startNode.parentNode,r.startNode,r.endNode.nextSibling)},f=function(e,r,t){for(var n=new Map,o=r;o<=t;o++)n.set(e[o],o);return n},u=new WeakMap,s=new WeakMap,d=(0,e.directive)(function(t,n,d){var c;return void 0===d?d=n:void 0!==n&&(c=n),function(n){if(!(n instanceof e.NodePart))throw new Error("repeat can only be used in text bindings");var v,p,y,N=u.get(n)||[],b=s.get(n)||[],h=[],m=[],g=[],w=0,S=r(t);try{for(S.s();!(v=S.n()).done;){var x=v.value;g[w]=c?c(x,w):w,m[w]=d(x,w),w++}}catch(W){S.e(W)}finally{S.f()}for(var A=0,M=N.length-1,j=0,k=m.length-1;A<=M&&j<=k;)if(null===N[A])A++;else if(null===N[M])M--;else if(b[A]===g[j])h[j]=a(N[A],m[j]),A++,j++;else if(b[M]===g[k])h[k]=a(N[M],m[k]),M--,k--;else if(b[A]===g[k])h[k]=a(N[A],m[k]),i(n,N[A],h[k+1]),A++,k--;else if(b[M]===g[j])h[j]=a(N[M],m[j]),i(n,N[M],N[A]),M--,j++;else if(void 0===p&&(p=f(g,j,k),y=f(b,A,M)),p.has(b[A]))if(p.has(b[M])){var I=y.get(g[j]),O=void 0!==I?N[I]:null;if(null===O){var P=o(n,N[A]);a(P,m[j]),h[j]=P}else h[j]=a(O,m[j]),i(n,O,N[A]),N[I]=null;j++}else l(N[M]),M--;else l(N[A]),A++;for(;j<=k;){var B=o(n,h[k+1]);a(B,m[j]),h[j++]=B}for(;A<=M;){var E=N[A++];null!==E&&l(E)}u.set(n,h),s.set(n,g)}});exports.repeat=d;
},{"../lit-html.js":"KMqM"}],"zFN9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.classMap=void 0;var t=require("../lit-html.js");function e(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=n(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var a=0,i=function(){};return{s:i,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,c=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return s=t.done,t},e:function(t){c=!0,o=t},f:function(){try{s||null==r.return||r.return()}finally{if(c)throw o}}}}function n(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}var s=function(){function t(n){a(this,t),this.classes=new Set,this.changed=!1,this.element=n;var r,i=e((n.getAttribute("class")||"").split(/\s+/));try{for(i.s();!(r=i.n()).done;){var o=r.value;this.classes.add(o)}}catch(s){i.e(s)}finally{i.f()}}return o(t,[{key:"add",value:function(t){this.classes.add(t),this.changed=!0}},{key:"remove",value:function(t){this.classes.delete(t),this.changed=!0}},{key:"commit",value:function(){if(this.changed){var t="";this.classes.forEach(function(e){return t+=e+" "}),this.element.setAttribute("class",t)}}}]),t}(),c=new WeakMap,u=(0,t.directive)(function(e){return function(n){if(!(n instanceof t.AttributePart)||n instanceof t.PropertyPart||"class"!==n.committer.name||n.committer.parts.length>1)throw new Error("The `classMap` directive must be used in the `class` attribute and must be the only part in the attribute.");var r=n.committer,a=r.element,i=c.get(n);void 0===i&&(a.setAttribute("class",r.strings.join(" ")),c.set(n,i=new Set));var o=a.classList||new s(a);for(var u in i.forEach(function(t){t in e||(o.remove(t),i.delete(t))}),e){var l=e[u];l!=i.has(u)&&(l?(o.add(u),i.add(u)):(o.remove(u),i.delete(u)))}"function"==typeof o.commit&&o.commit()}});exports.classMap=u;
},{"../lit-html.js":"KMqM"}],"oXRc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.styleMap=void 0;var e=require("../lit-html.js"),t=new WeakMap,r=(0,e.directive)(function(r){return function(i){if(!(i instanceof e.AttributePart)||i instanceof e.PropertyPart||"style"!==i.committer.name||i.committer.parts.length>1)throw new Error("The `styleMap` directive must be used in the style attribute and must be the only part in the attribute.");var n=i.committer,o=n.element.style,s=t.get(i);for(var a in void 0===s&&(o.cssText=n.strings.join(" "),t.set(i,s=new Set)),s.forEach(function(e){e in r||(s.delete(e),-1===e.indexOf("-")?o[e]=null:o.removeProperty(e))}),r)s.add(a),-1===a.indexOf("-")?o[a]=r[a]:o.setProperty(a,r[a])}});exports.styleMap=r;
},{"../lit-html.js":"KMqM"}],"LhRC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.cache=void 0;var e=require("../lib/template-instance.js"),t=require("../lit-html.js"),a=new WeakMap,n=(0,t.directive)(function(n){return function(o){if(!(o instanceof t.NodePart))throw new Error("cache can only be used in text bindings");var i=a.get(o);void 0===i&&(i=new WeakMap,a.set(o,i));var r=o.value;if(r instanceof e.TemplateInstance){if(n instanceof t.TemplateResult&&r.template===o.options.templateFactory(n))return void o.setValue(n);var s=i.get(r.template);void 0===s&&(s={instance:r,nodes:document.createDocumentFragment()},i.set(r.template,s)),(0,t.reparentNodes)(s.nodes,o.startNode.nextSibling,o.endNode)}if(n instanceof t.TemplateResult){var c=o.options.templateFactory(n),l=i.get(c);void 0!==l&&(o.setValue(l.nodes),o.commit(),o.value=l.instance)}o.setValue(n)}});exports.cache=n;
},{"../lib/template-instance.js":"nn5n","../lit-html.js":"KMqM"}],"CFRe":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ifDefined=void 0;var e=require("../lit-html.js"),t=new WeakMap,i=(0,e.directive)(function(i){return function(r){var o=t.get(r);if(void 0===i&&r instanceof e.AttributePart){if(void 0!==o||!t.has(r)){var n=r.committer.name;r.committer.element.removeAttribute(n)}}else i!==o&&r.setValue(i);t.set(r,i)}});exports.ifDefined=i;
},{"../lit-html.js":"KMqM"}],"i5N8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.live=void 0;var e=require("../lit-html.js"),t=(0,e.directive)(function(t){return function(r){var i;if(r instanceof e.EventPart||r instanceof e.NodePart)throw new Error("The `live` directive is not allowed on text or event bindings");if(r instanceof e.BooleanAttributePart)n(r.strings),i=r.element.hasAttribute(r.name),r.value=i;else{var o=r.committer,s=o.element,a=o.name,l=o.strings;if(n(l),r instanceof e.PropertyPart){if((i=s[a])===t)return}else r instanceof e.AttributePart&&(i=s.getAttribute(a));if(i===String(t))return}r.setValue(t)}});exports.live=t;var n=function(e){if(2!==e.length||""!==e[0]||""!==e[1])throw new Error("`live` bindings can only contain a single expression")};
},{"../lit-html.js":"KMqM"}],"KCCw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e,exports.setForceClassList=c;class s{constructor(s){this.classes=new Set,this.element=s;const t=(s.getAttribute("class")||"").split(/\s+/);for(const e of t)this.classes.add(e)}add(s){this.classes.add(s),this.commit()}remove(s){this.classes.delete(s),this.commit()}commit(){let s="";this.classes.forEach(t=>s+=t+" "),this.element.setAttribute("class",s)}}let t=!1;function e(e){return t?new s(e):e.classList||new s(e)}function c(s){t=s}
},{}],"Zmzg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.nextFrame=n,exports.classChanged=r,exports.partDomSingle=l,exports.mark=a,exports.marked=d,exports.needsLock=c,exports.recordExtents=f,exports.applyExtents=p,exports.pageVisible=x;var e=t(require("./class-list"));function t(e){return e&&e.__esModule?e:{default:e}}function n(e=1){return new Promise(t=>0==--e?requestAnimationFrame(()=>t()):t(n(e)))}function o(e){let t=e;for(;t=t.parentNode||t.host;)if(t instanceof HTMLElement)return t;return null}function r(e,t,o=!0){return new Promise(r=>{const i=new MutationObserver(async()=>{i.disconnect(),o&&await n(),r()});i.observe(e,{attributes:!0,attributeFilter:["class"]}),t&&t()})}function i(e){var t;return"#text"===e.nodeName&&!(null===(t=e.nodeValue)||void 0===t?void 0:t.trim())}function s(e){const t=[];let n=e.startNode.nextSibling;for(;n!==e.endNode;)t.push(n),n=n.nextSibling;return t}function l(e){let t=s(e).filter(e=>!i(e));if(1!=t.length)throw new Error(`lit-transition directive expects exactly one child node,\n      but was passed ${t.map(e=>e.nodeName).join(", ")}`);return t[0]}const u=new WeakMap;function a(e,t){return u.set(e,t),e}function d(e){return u.get(e)}function c(t,n){const r=o(t);if(r){if("absolute"===(()=>{const t=document.createElement("div"),o=(0,e.default)(t),i=r.shadowRoot||r;(e=>Array.isArray(e)?e.forEach(e=>o.add(e)):o.add(e))(n),i.appendChild(t);const s=window.getComputedStyle(t).position;return i.removeChild(t),s})()){return"relative"===window.getComputedStyle(r).position}}return!1}function f(e){const t=e.getBoundingClientRect();let n=0,r=0;{let t=e.offsetParent;for(;e&&e!==document&&!(e instanceof DocumentFragment)&&e!==t;)n+=e.offsetTop-(e.scrollTop||0),r+=e.offsetLeft-(e.scrollLeft||0),e=o(e)}return{left:r,top:n,width:t.width,height:t.height}}function p(e,t){e.style.marginLeft="0px",e.style.marginTop="0px",e.style.left=t.left+"px",e.style.top=t.top+"px",e.style.width=t.width+"px",e.style.height=t.height+"px"}let m;function h(e=!document.hidden){m=e}function x(){return m}h(),document.addEventListener("visibilitychange",()=>h(),!1);
},{"./class-list":"KCCw"}],"bu3h":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.transitionBase=n;var t=require("lit-html"),e=require("./utils");const a=new WeakMap;function n(n){return function(i,o){return async s=>{if(!(s instanceof t.NodePart))throw new Error("The `transition` directive can only be used on nodes");i||(i=t.html`<div></div>`),"string"!=typeof i&&"number"!=typeof i||(i=t.html`<div style="display: inline-block">${i}</div>`);const r=(0,e.marked)(i),{enter:l,leave:d,onEnter:c,onLeave:u,onAfterEnter:w,onAfterLeave:f,mode:p="in-out"}=o;let m=a.get(s);function v(e){const a=new t.NodePart(s.options);return a.appendIntoPart(s),a.setValue(e),a.commit(),a}function y(t){const{startNode:e,endNode:a}=t;try{e&&t.clear()}catch(a){}e&&e.parentNode&&e.parentNode.removeChild(e),a&&a.parentNode&&a.parentNode.removeChild(a)}if(!(0,e.pageVisible)())return m&&m.last&&y(m.last),u&&await u(),f&&await f(),c&&await c(),m&&(m.last=v(i)),void(w&&await w());async function h(t){c&&await c(),l&&await n.transition(t,l,o),w&&await w()}async function N(t){u&&await u(),d&&await n.transition(t,d,o),y(t),f&&await f()}if(m||a.set(s,m={children:new Map,styles:new Map,transition:o}),n.init&&n.init({transition:o,data:m,add:v,remove:y}),m.last&&r&&r===m.name)m.last.setValue(i),m.last.commit();else if(m.name=r,"in-out"===p){const t=m.last;await h(m.last=v(i)),t&&await N(t)}else if("out-in"===p){const t=m.last;t&&await N(t),await h(m.last=v(i))}else m.last&&N(m.last),await h(m.last=v(i))}}}
},{"lit-html":"KMqM","./utils":"Zmzg"}],"YzCS":[function(require,module,exports) {
"use strict";var o,e;Object.defineProperty(exports,"__esModule",{value:!0}),exports.GeometryLockMode=exports.TransitionMode=void 0,exports.TransitionMode=o,function(o){o.InOut="in-out",o.OutIn="out-in",o.Both="both"}(o||(exports.TransitionMode=o={})),exports.GeometryLockMode=e,function(o){o[o.None=0]="None",o[o.Lock=1]="Lock",o.Auto="auto"}(e||(exports.GeometryLockMode=e={}));
},{}],"lzab":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.normalizeCSSTransitionOptions=r,exports.instantiateDefault=n,exports.mergeObjects=o;var e=require("lit-html"),t=require("./interfaces");function r(r={}){const{css:n,duration:o,enter:i={},leave:a={},mode:s=t.TransitionMode.Both,onAfterEnter:c,onAfterLeave:f,onEnter:v,onLeave:l,skipHidden:u=!0}=r;return{duration:o,skipHidden:u,css:e.html`<style>${n}</style>`,enter:0!=i&&(Array.isArray(i)||"string"==typeof i?{active:i}:Object.assign({active:"enter-active",from:"enter-from",to:"enter-to"},i)),leave:0!=a&&(Array.isArray(a)||"string"==typeof a?{active:a,lock:!1}:Object.assign({active:"leave-active",from:"leave-from",to:"leave-to",lock:!1},a)),onEnter:v,onLeave:l,onAfterEnter:c,onAfterLeave:f,mode:s}}function n(e,t){const r=t();for(let n in r)t[n]=r[n];return Object.defineProperty(t,"name",{get:()=>e}),t}function o(e,t){for(var r in t)try{t[r].constructor==Object?e[r]=o(e[r],t[r]):e[r]=t[r]}catch(n){e[r]=t[r]}return e}
},{"lit-html":"KMqM","./interfaces":"YzCS"}],"pIoh":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.fade=void 0;var e=require("../utils");const t=(0,e.instantiateDefault)("fade",function(t={}){const{duration:a=500,ease:n="ease-out",opacity:o=0}=t;return(0,e.mergeObjects)({enter:{active:"fade-enter-active",from:"fade-enter-from",to:"fade-enter-to"},leave:{active:"fade-leave-active",from:"fade-leave-from",to:"fade-leave-to",lock:!0},css:`\n    .fade-leave-active {\n      position: fixed;\n      transition: opacity ${a}ms ${n}, transform ${a}ms ${n};\n    }\n    .fade-enter-active {\n      transition: opacity ${a}ms ${n}, transform ${a}ms ${n};\n    }\n  .fade-enter-from, .fade-leave-to {\n    opacity: ${o};\n  }\n  .fade-enter-to, .fade-leave-from {\n    opacity: 1;\n  }\n  `},t)});exports.fade=t;
},{"../utils":"lzab"}],"cCKj":[function(require,module,exports) {
var global = arguments[3];
var e=arguments[3];Object.defineProperty(exports,"__esModule",{value:!0}),exports.flow=void 0;var t=require("lit-html"),n=i(require("../core/class-list")),r=require("../core/utils"),a=require("./interfaces");function i(e){return e&&e.__esModule?e:{default:e}}const s={async transition(e,t,i){const{duration:s=i.duration,active:o,from:c,to:d,lock:l}=t,u=(0,r.partDomSingle)(e);if(!u)return;let f;l&&(l!==a.GeometryLockMode.Auto||o&&(0,r.needsLock)(u,o))&&(f=(0,r.recordExtents)(u)),await new Promise(async e=>{const t=(0,n.default)(u),a=e=>Array.isArray(e)?e.forEach(e=>t.add(e)):t.add(e),i=e=>Array.isArray(e)?e.forEach(e=>t.remove(e)):t.remove(e);function l(t){if(t){if(t.target!==u)return;t.preventDefault(),t.stopPropagation()}["transitionend","transitioncancel","animationend","animationcancel"].filter(e=>!t||e!==t.type).forEach(e=>u.removeEventListener(e,l)),o&&i(o),c&&i(c),d&&i(d),e()}f&&(0,r.applyExtents)(u,f);const m={once:!0};s?setTimeout(l,s):(u.addEventListener("transitionrun",function(){u.addEventListener("transitionend",l,m),u.addEventListener("transitioncancel",l,m)},m),u.addEventListener("animationstart",function(){u.addEventListener("animationend",l,m),u.addEventListener("animationcancel",l,m)},m)),c&&await(0,r.classChanged)(u,()=>a(c)),o&&await(0,r.classChanged)(u,()=>a(o)),c&&i(c),d&&a(d)})},init({data:e,remove:n,add:r,transition:a}){if(e._cssSource!==a.css&&(e.css&&n(e.css),a.css)){e._cssSource=a.css;let n=a.css;n="string"==typeof n?t.html`<style>${n}</style>`:n,e.css=r(n)}}};exports.flow=s;
},{"lit-html":"KMqM","../core/class-list":"KCCw","../core/utils":"Zmzg","./interfaces":"YzCS"}],"hwmx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.land=void 0;var n=require("../utils");const e=(0,n.instantiateDefault)("land",function(e={}){const{duration:t=500,ease:a="ease-out",opacity:r=0}=e;return(0,n.mergeObjects)({enter:{active:"land1-enter-active",from:"land1-enter-from",to:"land1-enter-to"},leave:{active:"land1-leave-active",from:"land1-leave-from",to:"land1-leave-to"},mode:"both",css:`\n      .land1-enter-active {\n        transform-origin: 50% 50%;\n        transition: transform ${t}ms ${a}, opacity ${t}ms ${a};\n      }\n      .land1-leave-active {\n        transform-origin: 50% 50%;\n        position: absolute;\n        transition: transform ${t}ms ${a}, opacity ${t}ms ${a};\n      }\n      .land1-enter-from {\n        opacity: ${r};\n        transform: translate(0px, 0px) scale(3);\n      }\n      .land1-leave-to {\n        transform: translate(0px, 100px);\n        opacity: ${r};\n      }`},e)});exports.land=e;
},{"../utils":"lzab"}],"GzEW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.slide=void 0;var e=require("../interfaces"),t=require("../utils");const i=(0,t.instantiateDefault)("slide",function(i={}){const{left:n,right:s,up:o,down:a}=i;let r={};n&&(r={x:"-100%",x1:"100%"}),s&&(r={x:"100%",x1:"-100%"}),o&&(r={y:"100%",y1:"-100%"}),a&&(r={y:"-100%",y1:"100%"});let{mode:l,duration:c=500,x:d="100%",y:m="0%",x1:u="",y1:v="",ease:$="ease-out",leavePosition:y="",opacity:f=0}=Object.assign(Object.assign({},r),i);return u=u||d,v=v||m,(0,t.mergeObjects)({enter:{active:"slide-enter-active",from:"slide-enter-from"},leave:{active:"slide-leave-active",to:"slide-leave-to",lock:e.GeometryLockMode.Auto},css:`\n    .slide-enter-active {\n      transition: transform ${c}ms ${$}, opacity ${c}ms ${$};\n    }\n    .slide-leave-active {\n      position: ${y||(l!==e.TransitionMode.OutIn?"absolute":"initial")};\n      transition: transform ${c}ms ${$}, opacity ${c}ms ${$};\n    }\n    .slide-leave-to {\n      opacity: ${f};\n      transform: translate(${d}, ${m});\n    }\n    .slide-enter-from {\n      opacity: ${f};\n      transform: translate(${u}, ${v});\n    }`,mode:l},i)});exports.slide=i;
},{"../interfaces":"YzCS","../utils":"lzab"}],"h7Pw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./fade");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&(r in exports&&exports[r]===e[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}}))});var r=require("./land");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===r[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}}))});var t=require("./slide");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===t[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}}))});
},{"./fade":"pIoh","./land":"hwmx","./slide":"GzEW"}],"Xvf9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e={transition:!0,mark:!0};Object.defineProperty(exports,"mark",{enumerable:!0,get:function(){return u.mark}}),exports.transition=void 0;var r=require("lit-html"),t=require("../core/transition-base"),n=require("./transitions/fade"),o=require("./utils"),i=require("./flow"),s=require("./interfaces");Object.keys(s).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in exports&&exports[r]===s[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return s[r]}}))});var a=require("./transitions");Object.keys(a).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in exports&&exports[r]===a[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return a[r]}}))});var u=require("../core/utils");const c=(0,r.directive)(function(e,r=n.fade){return"function"==typeof r&&(r=r()),(0,t.transitionBase)(i.flow)(e,(0,o.normalizeCSSTransitionOptions)(r))});exports.transition=c;
},{"lit-html":"KMqM","../core/transition-base":"bu3h","./transitions/fade":"pIoh","./utils":"lzab","./flow":"cCKj","./interfaces":"YzCS","./transitions":"h7Pw","../core/utils":"Zmzg"}],"Hfmq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./css/index");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&(r in exports&&exports[r]===e[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}}))});
},{"./css/index":"Xvf9"}],"jUSW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.formatMoney=a;var e="${{amount}}";function a(a,t){"string"==typeof a&&(a=a.replace(".",""));var r="",o=/\{\{\s*(\w+)\s*\}\}/,n=t||e;function c(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:",",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".";if(isNaN(e)||null==e)return 0;var o=(e=(e/100).toFixed(a)).split(".");return o[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1".concat(t))+(o[1]?r+o[1]:"")}switch(n.match(o)[1]){case"amount":r=c(a,2);break;case"amount_no_decimals":r=c(a,0);break;case"amount_with_comma_separator":r=c(a,2,".",",");break;case"amount_no_decimals_with_comma_separator":r=c(a,0,".",",")}return n.replace(o,r)}
},{}],"QqYi":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DiscountType=exports.ThemeCurrency=exports.ThemeConfig=exports.CartItemProperties=void 0;var t={OPTIONS:"_cl_options",ID:"_cl_options_id",PRICE:"_cl_options_price",VALIDATE:!0};exports.CartItemProperties=t;var r={cartItem:!0,cartItemPreview:!0,cartItemPrice:!0,cartItemPriceOptions:!0,cartItemEdit:!1,cartItemClOptions:!0,cartCount:!0,cartTotal:!0,cartFormCapture:!0,cartDiscount:!1,productPrice:!0,productVariantHide:!0,productVariantFilter:!1,productVariantReset:!1,productPriceTimeout:!1,productItemUpdate:!0,productItemModal:!1,productOptionsClear:!1};exports.ThemeConfig=r;var e={currency:"",currencyFactor:1,moneyFormat:"$ {{amount}}",moneyFormatWithCurrency:"${{amount}} USD"};exports.ThemeCurrency=e;var o={NONE:0,CODE:1,AUTO:2};exports.DiscountType=o;
},{}],"WtKS":[function(require,module,exports) {
"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=function t(){e(this,t)};t.templates={};var a=t;exports.default=a;
},{}],"AYOv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=o(require("./../request")),t=o(require("./../util")),n=a(require("loglevel"));function r(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return r=function(){return e},e}function a(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=r();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var u=a?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(n,o,u):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}function o(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}var c=function(){function r(e){u(this,r);this.settings=t.default.extend({api:"",path:"/api/storage",queryParams:{}},e||{})}return f(r,[{key:"upload",value:function(t,r){for(var a=this,o=[],u=[],i=function(n){var i=t[n];o.push(new Promise(function(t,o){a._getSignedUrl(i).then(function(a){var f={method:"PUT",headers:{"Content-type":i.mimeType},data:i._file};0===n&&(f.onProgress=r);var c=new e.default(a.upload,f);u.push(c),c.then(function(){i.url=a.download,i.path=a.path,t(i)}).catch(function(e){o(e)})}).catch(function(e){o(e)})}))},f=0;f<t.length;f++)i(f);var c=Promise.all(o).then(function(e){return n.info(e),e});return c.cancel=function(){for(var e=0;e<u.length;e++){u[e].cancel()}},c}},{key:"_getSignedUrl",value:function(n){var r=this.settings.api+this.settings.path,a=t.default.extend(this.settings.queryParams,{name:encodeURIComponent(n.name),type:encodeURIComponent(n.mimeType),public:"1",cb:1e18*Math.random()+""});return new e.default(r,{method:"GET",withCredentials:!0,queryParams:a}).then(function(e){return e.data})}}]),r}(),l=c;exports.default=l;
},{"./../request":"mx8w","./../util":"zY0S","loglevel":"ohSP"}],"B0kr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=n(require("./../request")),t=n(require("./../util"));function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}var s=function(){function n(e){i(this,n);this.settings=t.default.extend({api:"",path:"/api/upload",queryParams:{}},e||{}),this.findToken()}return r(n,[{key:"findToken",value:function(){var e=t.default.readCookie("token");e&&(this.settings.queryParams.token=e)}},{key:"blobToFile",value:function(e,t){return new File([e],t,{lastModified:(new Date).getTime(),type:e.type})}},{key:"fromBlob",value:function(e,t){return{name:t,size:e.size,mimeType:e.type,meta:{},_file:e}}},{key:"fromNative",value:function(e){return{name:e.name?e.name:"",size:e.size,mimeType:e.type,meta:{},_file:e}}},{key:"saveFile",value:function(n){var i=this;return this.settings.queryParams.token||this.findToken(),this.settings.origin&&(n.origin=this.settings.origin),new e.default(this.settings.api+this.settings.path,{method:"POST",responseType:"json",headers:{"Content-type":"application/json"},withCredentials:!0,data:n,queryParams:this.settings.queryParams}).then(function(e){if(!i.settings.queryParams.token&&e.data.token){var n=e.data.token;t.default.writeCookie("token",n,10,"/"),i.settings.queryParams.token=n}return e.data}).catch(function(e){throw e})}},{key:"removeFile",value:function(t){return new e.default(this.settings.api+this.settings.path+"/"+t.uuid,{method:"DELETE",responseType:"json",withCredentials:!0,queryParams:this.settings.queryParams}).then(function(e){return e.data}).catch(function(e){throw e})}}]),n}(),o=s;exports.default=o;
},{"./../request":"mx8w","./../util":"zY0S"}],"xAgl":[function(require,module,exports) {
var define;
var e;!function(n,t){"function"==typeof e&&e.amd?e([],t):"object"==typeof exports?module.exports=t():n.loadjs=t()}(this,function(){var e=function(){},n={},t={},r={};function s(e,n){if(e){var s=r[e];if(t[e]=n,s)for(;s.length;)s[0](e,n),s.splice(0,1)}}function i(n,t){n.call&&(n={success:n}),t.length?(n.error||e)(t):(n.success||e)(n)}function o(n,t,r,s){var i,c,f=document,u=r.async,l=(r.numRetries||0)+1,a=r.before||e,h=n.replace(/[\?|#].*$/,""),p=n.replace(/^(css|img)!/,"");s=s||0,/(^css!|\.css$)/.test(h)?((c=f.createElement("link")).rel="stylesheet",c.href=p,(i="hideFocus"in c)&&c.relList&&(i=0,c.rel="preload",c.as="style")):/(^img!|\.(png|gif|jpg|svg|webp)$)/.test(h)?(c=f.createElement("img")).src=p:((c=f.createElement("script")).src=n,c.async=void 0===u||u),c.onload=c.onerror=c.onbeforeload=function(e){var f=e.type[0];if(i)try{c.sheet.cssText.length||(f="e")}catch(u){18!=u.code&&(f="e")}if("e"==f){if((s+=1)<l)return o(n,t,r,s)}else if("preload"==c.rel&&"style"==c.as)return c.rel="stylesheet";t(n,f,e.defaultPrevented)},!1!==a(n,c)&&f.head.appendChild(c)}function c(e,t,r){var c,f;if(t&&t.trim&&(c=t),f=(c?r:t)||{},c){if(c in n)throw"LoadJS";n[c]=!0}function u(n,t){!function(e,n,t){var r,s,i=(e=e.push?e:[e]).length,c=i,f=[];for(r=function(e,t,r){if("e"==t&&f.push(e),"b"==t){if(!r)return;f.push(e)}--i||n(f)},s=0;s<c;s++)o(e[s],r,t)}(e,function(e){i(f,e),n&&i({success:n,error:t},e),s(c,e)},f)}if(f.returnPromise)return new Promise(u);u()}return c.ready=function(e,n){return function(e,n){e=e.push?e:[e];var s,i,o,c=[],f=e.length,u=f;for(s=function(e,t){t.length&&c.push(e),--u||n(c)};f--;)i=e[f],(o=t[i])?s(i,o):(r[i]=r[i]||[]).push(s)}(e,function(e){i(n,e)}),c},c.done=function(e){s(e,[])},c.reset=function(){n={},t={},r={}},c.isDefined=function(e){return e in n},c});
},{}],"U86w":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=n(require("loadjs"));function n(e){return e&&e.__esModule?e:{default:e}}function r(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function t(e,n){for(var r=0;r<n.length;r++){var t=n[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function u(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}var a=function(){function n(){r(this,n)}return u(n,null,[{key:"load",value:function(n,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{async:!0};return t.returnPromise=!0,(0,e.default)(n,r,t)}},{key:"isReady",value:function(n){return Array.isArray(n)||(n=[n]),new Promise(function(r,t){e.default.ready(n,function(){r(n)})})}},{key:"isDefined",value:function(n){return e.default.isDefined(n)}},{key:"loadOnce",value:function(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{async:!0};return n.isDefined(r)?n.isReady(r):n.load(e,r,t)}}]),n}(),i=a;exports.default=i;
},{"loadjs":"xAgl"}],"k2Pi":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=a(require("../util")),t=a(require("./provider-google")),r=a(require("./file-meta")),n=a(require("../translate")),l=a(require("../resource-loader"));function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e}var s=function(){function a(n){i(this,a);this.settings=e.default.extend({api:"",queryParams:{}},n||{}),this._fileMeta=new r.default({api:this.settings.api,queryParams:this.settings.queryParams,origin:4}),this._provider=new t.default({api:this.settings.api,queryParams:this.settings.queryParams})}return u(a,[{key:"controller",value:function(){var t=this,r={files:[],inputs:[],onValidate:function(e){var t=!0;return e.required&&0===r.files.length&&(e.errors.push(n.default.get("product.options.validity.upload.required")),t=!1),t},onChange:function(l,a,i){var o=l.target;if(o.value&&o.files.length>0){for(var u=o.files,s=[],d=0;d<u.length;d++){var p=u[d],f=a.params.maxMb||10,c=1024*f*1024;if(p.size>c)return o.value="",a.errors=a.errors||[],a.errors.push(n.default.get("product.options.validity.upload.max",{max:f})),void o.dispatchEvent(new CustomEvent("options:render",{detail:a,cancelable:!0,bubbles:!0}));s.push(t._fileMeta.fromNative(p))}var v=e.default.findParent(o,".cl-po--upload"),h=v.querySelector("progress");h.max=100,h.value=0,h.style.display="block",t.upload(s,function(e){if(e.lengthComputable){var t=e.loaded/e.total*100;t>h.value&&(h.value=t)}}).then(function(e){h.style.display="none";for(var n=0;n<r.files.length;n++){var l=r.files[n];l.uuid&&t._fileMeta.removeFile(l)}for(var u=0;u<r.inputs.length;u++){var s=r.inputs[u];s.parentNode&&s.parentNode.removeChild(s)}r.inputs.length=0,r.files=e;for(var d="",p=0;p<r.files.length;p++){var f=r.files[p];d+=t._corsUrl(f.url);var c=p+1;c<r.files.length&&(d+=",");var g=document.createElement("input");g.type="hidden",a.params.multiple?g.name="properties["+a.name+"_"+c+"]":g.name="properties["+a.name+"]",g.value=f.url,v.appendChild(g),r.inputs.push(g)}a.value=d,o.value="",i(a)})}},update:function(e,n){if(e.value){if(0===r.inputs.length){r.files.push({url:e.value,name:"file"+e.value.substring(e.value.lastIndexOf(".")),meta:{}});var l=document.createElement("input");l.type="hidden",l.name="properties["+e.name+"]",l.value=e.value,e.value=t._corsUrl(e.value),n.querySelector('[data-option="'+e.name+'"] .cl-po--upload').appendChild(l),r.inputs.push(l)}}else if(r.inputs.length>0){for(var a=0;a<r.inputs.length;a++){var i=r.inputs[a];i.parentNode&&i.parentNode.removeChild(i)}r.inputs.length=0,r.files.length=0}}};return r}},{key:"controllerLift",value:function(e,t,r,a){var i=this,o={option:e,selector:".cl-po-upload-lift-".concat(e.id),container:null,field:null,urls:[],setup:function(){if(e._controller.native=inputDateSupported(),e._controller.native)e._controller.ready=Promise.resolve();else{var t=[config.assets+"/static/lib/dateinput/dateinput.min.js"];e._controller.ready=l.default.loadOnce(t,"option-date",{async:!1})}},onValidate:function(e){var t=!0;if(e.required&&0===o.urls.length)e.errors.push(n.default.get("product.options.validity.upload.required")),t=!1;else if(o.field)return o.field.validate();return t},syncValue:function(){for(var e="",t=0;t<o.urls.length;t++){e+=i._corsUrl(o.urls[t]),t+1<o.urls.length&&(e+=",")}o.option.value=e,a(o.option)},watchUploads:function(){o.container=document.querySelector(o.selector),o.container&&(o.container.addEventListener("upload:added",function(t){var r=t.detail,n=e.params.variant||"original";r.url&&r.meta.variant===n&&(o.urls.push(r.url),o.syncValue())}),o.container.addEventListener("upload:removed",function(t){var r=t.detail,n=e.params.variant||"original";if(r.url&&r.meta.variant===n){var l=o.urls.indexOf(r.url);-1!==l&&(o.urls.splice(l,1),o.syncValue())}}))},update:function(e,t){e.value?0===o.urls.length&&e._controller.ready.then(function(){var t=e.value.split(",");e._controller.field.restore(t),e.value=""}):o.urls.length>0&&e._controller.field&&e._controller.field.clearFiles()}};return r.addEventListener("options:rendered",function n(){var l=function(){var n=window.Cloudlift.upload.App;if(n.fields.length>0)for(var l=0;l<n.fields.length;l++){var a=n.fields[l];a.config.uuid==e.params.uuid&&(a.destroy(),n.fields.splice(l,1))}else n.config.setup=!1;for(var i=0;i<window.Cloudlift.upload.config.fields.length;i++){var u=window.Cloudlift.upload.config.fields[i];if(u.uuid===e.params.uuid){var s=JSON.parse(JSON.stringify(u));s.field=e.name,s.fileFetch=!1,s.selector=o.selector,n._createUploadField(s,t);var d=n.fields.length-1;o.field=n.fields[d],o.field._productForm=r,n.fields.splice(d,1),e._controller.onReady(o.field)}}};e._controller.ready=new Promise(function(t,r){e._controller.onReady=t}),window.Cloudlift&&window.Cloudlift.upload&&window.Cloudlift.upload.App&&l(),window.addEventListener("cloudlift.upload.ready",function(e){o.field||l()}),o.watchUploads(),r.removeEventListener("options:rendered",n)}),o}},{key:"_corsUrl",value:function(e){return e=(e=e.replace("https://upload.dev.cloudlift.app/s/dev","https://storage.googleapis.com/cloudlift-app-cloud-dev-upload")).replace("https://upload.cloudlift.app/s","https://storage.googleapis.com/cloudlift-app-cloud-prod-upload")}},{key:"upload",value:function(e,t){var r=this;try{var n=this._provider.upload(e,t),l=new Promise(function(e,t){n.then(function(n){for(var l=0;l<n.length;l++)delete n[l]._file;var a=n[0];r._fileMeta.saveFile(a).then(function(t){for(var l=[],a=1;a<n.length;a++){var i=n[a];i.parent=t.uuid,l.push(r._fileMeta.saveFile(i).then(function(e){return e}))}Promise.all(l).then(function(r){r.unshift(t),e(r)})}).catch(function(e){t(e)})}),n.catch(function(e){t(e)})});return l.cancel=function(){n.cancel()},l}catch(a){return Promise.reject(a)}}}],[{key:"getInstance",value:function(e){return a._instance?a._instance:(a._instance=new a(e),a._instance)}}]),a}(),d=s;exports.default=d;
},{"../util":"zY0S","./provider-google":"AYOv","./file-meta":"B0kr","../translate":"IkY8","../resource-loader":"U86w"}],"GxDM":[function(require,module,exports) {
var define;
var t;!function(){function n(t,n,i){return t.call.apply(t.bind,arguments)}function i(t,n,i){if(!t)throw Error();if(2<arguments.length){var e=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,e),t.apply(n,i)}}return function(){return t.apply(n,arguments)}}function e(t,o,a){return(e=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?n:i).apply(null,arguments)}var o=Date.now||function(){return+new Date};function a(t,n){this.a=t,this.o=n||t,this.c=this.o.document}var s=!!window.FontFace;function r(t,n,i,e){if(n=t.c.createElement(n),i)for(var o in i)i.hasOwnProperty(o)&&("style"==o?n.style.cssText=i[o]:n.setAttribute(o,i[o]));return e&&n.appendChild(t.c.createTextNode(e)),n}function f(t,n,i){(t=t.c.getElementsByTagName(n)[0])||(t=document.documentElement),t.insertBefore(i,t.lastChild)}function c(t){t.parentNode&&t.parentNode.removeChild(t)}function h(t,n,i){n=n||[],i=i||[];for(var e=t.className.split(/\s+/),o=0;o<n.length;o+=1){for(var a=!1,s=0;s<e.length;s+=1)if(n[o]===e[s]){a=!0;break}a||e.push(n[o])}for(n=[],o=0;o<e.length;o+=1){for(a=!1,s=0;s<i.length;s+=1)if(e[o]===i[s]){a=!0;break}a||n.push(e[o])}t.className=n.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function l(t,n){for(var i=t.className.split(/\s+/),e=0,o=i.length;e<o;e++)if(i[e]==n)return!0;return!1}function u(t,n,i){function e(){h&&o&&a&&(h(c),h=null)}n=r(t,"link",{rel:"stylesheet",href:n,media:"all"});var o=!1,a=!0,c=null,h=i||null;s?(n.onload=function(){o=!0,e()},n.onerror=function(){o=!0,c=Error("Stylesheet failed to load"),e()}):setTimeout(function(){o=!0,e()},0),f(t,"head",n)}function p(t,n,i,e){var o=t.c.getElementsByTagName("head")[0];if(o){var a=r(t,"script",{src:n}),s=!1;return a.onload=a.onreadystatechange=function(){s||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(s=!0,i&&i(null),a.onload=a.onreadystatechange=null,"HEAD"==a.parentNode.tagName&&o.removeChild(a))},o.appendChild(a),setTimeout(function(){s||(s=!0,i&&i(Error("Script load timeout")))},e||5e3),a}return null}function g(){this.a=0,this.c=null}function d(t){return t.a++,function(){t.a--,w(t)}}function v(t,n){t.c=n,w(t)}function w(t){0==t.a&&t.c&&(t.c(),t.c=null)}function m(t){this.a=t||"-"}function y(t,n){this.c=t,this.f=4,this.a="n";var i=(n||"n4").match(/^([nio])([1-9])$/i);i&&(this.a=i[1],this.f=parseInt(i[2],10))}function b(t){var n=[];t=t.split(/,\s*/);for(var i=0;i<t.length;i++){var e=t[i].replace(/['"]/g,"");-1!=e.indexOf(" ")||/^\d/.test(e)?n.push("'"+e+"'"):n.push(e)}return n.join(",")}function x(t){return t.a+t.f}function j(t){var n="normal";return"o"===t.a?n="oblique":"i"===t.a&&(n="italic"),n}function _(t){var n=4,i="n",e=null;return t&&((e=t.match(/(normal|oblique|italic)/i))&&e[1]&&(i=e[1].substr(0,1).toLowerCase()),(e=t.match(/([1-9]00|normal|bold)/i))&&e[1]&&(/bold/i.test(e[1])?n=7:/[1-9]00/.test(e[1])&&(n=parseInt(e[1].substr(0,1),10)))),i+n}function k(t,n){this.c=t,this.f=t.o.document.documentElement,this.h=n,this.a=new m("-"),this.j=!1!==n.events,this.g=!1!==n.classes}function T(t){if(t.g){var n=l(t.f,t.a.c("wf","active")),i=[],e=[t.a.c("wf","loading")];n||i.push(t.a.c("wf","inactive")),h(t.f,i,e)}S(t,"inactive")}function S(t,n,i){t.j&&t.h[n]&&(i?t.h[n](i.c,x(i)):t.h[n]())}function C(){this.c={}}function A(t,n){this.c=t,this.f=n,this.a=r(this.c,"span",{"aria-hidden":"true"},this.f)}function N(t){f(t.c,"body",t.a)}function E(t){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+b(t.c)+";font-style:"+j(t)+";font-weight:"+t.f+"00;"}function W(t,n,i,e,o,a){this.g=t,this.j=n,this.a=e,this.c=i,this.f=o||3e3,this.h=a||void 0}function F(t,n,i,e,o,a,s){this.v=t,this.B=n,this.c=i,this.a=e,this.s=s||"BESbswy",this.f={},this.w=o||3e3,this.u=a||null,this.m=this.j=this.h=this.g=null,this.g=new A(this.c,this.s),this.h=new A(this.c,this.s),this.j=new A(this.c,this.s),this.m=new A(this.c,this.s),t=E(t=new y(this.a.c+",serif",x(this.a))),this.g.a.style.cssText=t,t=E(t=new y(this.a.c+",sans-serif",x(this.a))),this.h.a.style.cssText=t,t=E(t=new y("serif",x(this.a))),this.j.a.style.cssText=t,t=E(t=new y("sans-serif",x(this.a))),this.m.a.style.cssText=t,N(this.g),N(this.h),N(this.j),N(this.m)}m.prototype.c=function(t){for(var n=[],i=0;i<arguments.length;i++)n.push(arguments[i].replace(/[\W_]+/g,"").toLowerCase());return n.join(this.a)},W.prototype.start=function(){var t=this.c.o.document,n=this,i=o(),e=new Promise(function(e,a){!function s(){o()-i>=n.f?a():t.fonts.load(function(t){return j(t)+" "+t.f+"00 300px "+b(t.c)}(n.a),n.h).then(function(t){1<=t.length?e():setTimeout(s,25)},function(){a()})}()}),a=null,s=new Promise(function(t,i){a=setTimeout(i,n.f)});Promise.race([s,e]).then(function(){a&&(clearTimeout(a),a=null),n.g(n.a)},function(){n.j(n.a)})};var I={D:"serif",C:"sans-serif"},O=null;function P(){if(null===O){var t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);O=!!t&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))}return O}function B(t,n,i){for(var e in I)if(I.hasOwnProperty(e)&&n===t.f[I[e]]&&i===t.f[I[e]])return!0;return!1}function L(t){var n,i=t.g.a.offsetWidth,a=t.h.a.offsetWidth;(n=i===t.f.serif&&a===t.f["sans-serif"])||(n=P()&&B(t,i,a)),n?o()-t.A>=t.w?P()&&B(t,i,a)&&(null===t.u||t.u.hasOwnProperty(t.a.c))?D(t,t.v):D(t,t.B):function(t){setTimeout(e(function(){L(this)},t),50)}(t):D(t,t.v)}function D(t,n){setTimeout(e(function(){c(this.g.a),c(this.h.a),c(this.j.a),c(this.m.a),n(this.a)},t),0)}function $(t,n,i){this.c=t,this.a=n,this.f=0,this.m=this.j=!1,this.s=i}F.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.m.a.offsetWidth,this.A=o(),L(this)};var q=null;function H(t){0==--t.f&&t.j&&(t.m?((t=t.a).g&&h(t.f,[t.a.c("wf","active")],[t.a.c("wf","loading"),t.a.c("wf","inactive")]),S(t,"active")):T(t.a))}function M(t){this.j=t,this.a=new C,this.h=0,this.f=this.g=!0}function z(t,n,i,o,a){var s=0==--t.h;(t.f||t.g)&&setTimeout(function(){var t=a||null,r=o||{};if(0===i.length&&s)T(n.a);else{n.f+=i.length,s&&(n.j=s);var f,c=[];for(f=0;f<i.length;f++){var l=i[f],u=r[l.c],p=n.a,g=l;if(p.g&&h(p.f,[p.a.c("wf",g.c,x(g).toString(),"loading")]),S(p,"fontloading",g),p=null,null===q)if(window.FontFace){g=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent);var d=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);q=g?42<parseInt(g[1],10):!d}else q=!1;p=q?new W(e(n.g,n),e(n.h,n),n.c,l,n.s,u):new F(e(n.g,n),e(n.h,n),n.c,l,n.s,t,u),c.push(p)}for(f=0;f<c.length;f++)c[f].start()}},0)}function G(t,n){this.c=t,this.a=n}function K(t,n){this.c=t,this.a=n}function R(t,n){this.c=t||U,this.a=[],this.f=[],this.g=n||""}$.prototype.g=function(t){var n=this.a;n.g&&h(n.f,[n.a.c("wf",t.c,x(t).toString(),"active")],[n.a.c("wf",t.c,x(t).toString(),"loading"),n.a.c("wf",t.c,x(t).toString(),"inactive")]),S(n,"fontactive",t),this.m=!0,H(this)},$.prototype.h=function(t){var n=this.a;if(n.g){var i=l(n.f,n.a.c("wf",t.c,x(t).toString(),"active")),e=[],o=[n.a.c("wf",t.c,x(t).toString(),"loading")];i||e.push(n.a.c("wf",t.c,x(t).toString(),"inactive")),h(n.f,e,o)}S(n,"fontinactive",t),H(this)},M.prototype.load=function(t){this.c=new a(this.j,t.context||this.j),this.g=!1!==t.events,this.f=!1!==t.classes,function(t,n,i){var e=[],o=i.timeout;!function(t){t.g&&h(t.f,[t.a.c("wf","loading")]),S(t,"loading")}(n);var e=function(t,n,i){var e,o=[];for(e in n)if(n.hasOwnProperty(e)){var a=t.c[e];a&&o.push(a(n[e],i))}return o}(t.a,i,t.c),a=new $(t.c,n,o);for(t.h=e.length,n=0,i=e.length;n<i;n++)e[n].load(function(n,i,e){z(t,a,n,i,e)})}(this,new k(this.c,t),t)},G.prototype.load=function(t){var n=this,i=n.a.projectId,e=n.a.version;if(i){var o=n.c.o;p(this.c,(n.a.api||"https://fast.fonts.net/jsapi")+"/"+i+".js"+(e?"?v="+e:""),function(e){e?t([]):(o["__MonotypeConfiguration__"+i]=function(){return n.a},function n(){if(o["__mti_fntLst"+i]){var e,a=o["__mti_fntLst"+i](),s=[];if(a)for(var r=0;r<a.length;r++){var f=a[r].fontfamily;null!=a[r].fontStyle&&null!=a[r].fontWeight?(e=a[r].fontStyle+a[r].fontWeight,s.push(new y(f,e))):s.push(new y(f))}t(s)}else setTimeout(function(){n()},50)}())}).id="__MonotypeAPIScript__"+i}else t([])},K.prototype.load=function(t){var n,i,e=this.a.urls||[],o=this.a.families||[],a=this.a.testStrings||{},s=new g;for(n=0,i=e.length;n<i;n++)u(this.c,e[n],d(s));var r=[];for(n=0,i=o.length;n<i;n++)if((e=o[n].split(":"))[1])for(var f=e[1].split(","),c=0;c<f.length;c+=1)r.push(new y(e[0],f[c]));else r.push(new y(e[0]));v(s,function(){t(r,a)})};var U="https://fonts.googleapis.com/css";function V(t){this.f=t,this.a=[],this.c={}}var X={latin:"BESbswy","latin-ext":"",cyrillic:"",greek:"",khmer:"",Hanuman:""},J={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},Q={i:"i",italic:"i",n:"n",normal:"n"},Y=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;function Z(t,n){this.c=t,this.a=n}var tt={Arimo:!0,Cousine:!0,Tinos:!0};function nt(t,n){this.c=t,this.a=n}function it(t,n){this.c=t,this.f=n,this.a=[]}Z.prototype.load=function(t){var n=new g,i=this.c,e=new R(this.a.api,this.a.text),o=this.a.families;!function(t,n){for(var i=n.length,e=0;e<i;e++){var o=n[e].split(":");3==o.length&&t.f.push(o.pop());var a="";2==o.length&&""!=o[1]&&(a=":"),t.a.push(o.join(a))}}(e,o);var a=new V(o);!function(t){for(var n=t.f.length,i=0;i<n;i++){var e=t.f[i].split(":"),o=e[0].replace(/\+/g," "),a=["n4"];if(2<=e.length){var s;if(s=[],r=e[1])for(var r,f=(r=r.split(",")).length,c=0;c<f;c++){var h;if((h=r[c]).match(/^[\w-]+$/))if(null==(u=Y.exec(h.toLowerCase())))h="";else{if(h=null==(h=u[2])||""==h?"n":Q[h],null==(u=u[1])||""==u)u="4";else var l=J[u],u=l||(isNaN(u)?"4":u.substr(0,1));h=[h,u].join("")}else h="";h&&s.push(h)}0<s.length&&(a=s),3==e.length&&(s=[],0<(e=(e=e[2])?e.split(","):s).length&&(e=X[e[0]])&&(t.c[o]=e))}for(t.c[o]||(e=X[o])&&(t.c[o]=e),e=0;e<a.length;e+=1)t.a.push(new y(o,a[e]))}}(a),u(i,function(t){if(0==t.a.length)throw Error("No fonts to load!");if(-1!=t.c.indexOf("kit="))return t.c;for(var n=t.a.length,i=[],e=0;e<n;e++)i.push(t.a[e].replace(/ /g,"+"));return n=t.c+"?family="+i.join("%7C"),0<t.f.length&&(n+="&subset="+t.f.join(",")),0<t.g.length&&(n+="&text="+encodeURIComponent(t.g)),n}(e),d(n)),v(n,function(){t(a.a,a.c,tt)})},nt.prototype.load=function(t){var n=this.a.id,i=this.c.o;n?p(this.c,(this.a.api||"https://use.typekit.net")+"/"+n+".js",function(n){if(n)t([]);else if(i.Typekit&&i.Typekit.config&&i.Typekit.config.fn){n=i.Typekit.config.fn;for(var e=[],o=0;o<n.length;o+=2)for(var a=n[o],s=n[o+1],r=0;r<s.length;r++)e.push(new y(a,s[r]));try{i.Typekit.load({events:!1,classes:!1,async:!0})}catch(f){}t(e)}},2e3):t([])},it.prototype.load=function(t){var n=this.f.id,i=this.c.o,e=this;n?(i.__webfontfontdeckmodule__||(i.__webfontfontdeckmodule__={}),i.__webfontfontdeckmodule__[n]=function(n,i){for(var o=0,a=i.fonts.length;o<a;++o){var s=i.fonts[o];e.a.push(new y(s.name,_("font-weight:"+s.weight+";font-style:"+s.style)))}t(e.a)},p(this.c,(this.f.api||"https://f.fontdeck.com/s/css/js/")+function(t){return t.o.location.hostname||t.a.location.hostname}(this.c)+"/"+n+".js",function(n){n&&t([])})):t([])};var et=new M(window);et.a.c.custom=function(t,n){return new K(n,t)},et.a.c.fontdeck=function(t,n){return new it(n,t)},et.a.c.monotype=function(t,n){return new G(n,t)},et.a.c.typekit=function(t,n){return new nt(n,t)},et.a.c.google=function(t,n){return new Z(n,t)};var ot={load:e(et.load,et)};"function"==typeof t&&t.amd?t(function(){return ot}):"undefined"!=typeof module&&module.exports?module.exports=ot:(window.WebFont=ot,window.WebFontConfig&&et.load(window.WebFontConfig))}();
},{}],"G9B6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=a(require("webfontloader")),t=n(require("./util"));function n(e){return e&&e.__esModule?e:{default:e}}function r(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return r=function(){return e},e}function a(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=r();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}function i(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=o(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return u=e.done,e},e:function(e){l=!0,i=e},f:function(){try{u||null==n.return||n.return()}finally{if(l)throw i}}}}function o(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),e}var c=function(){function n(){l(this,n)}return s(n,null,[{key:"getFont",value:function(e){var t,n=i(this.fonts);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.name===e)return r}}catch(a){n.e(a)}finally{n.f()}}},{key:"addFvd",value:function(e,t){return t+=":n4",e.files.italic&&(t+=",i4"),e.files.bold&&(t+=",n7"),e.files.bold_italic&&(t+=",i7"),t}},{key:"addGoogleFontStyle",value:function(e,t){var n=[];if(e.files.regular&&(e.files.regular_300?n.push("300"):n.push("400")),e.files.italic&&(e.files.italic_300?n.push("300italic"):n.push("italic")),e.files.bold&&n.push("bold"),e.files.bold_italic&&n.push("bolditalic"),n.length)return t+":"+n.join(",")}},{key:"loadFontsByName",value:function(e){var t,n=[],r=[],a=i(e);try{for(a.s();!(t=a.n()).done;){var o=t.value,u=this.getFont(o);if(u&&!u.loaded)switch(u.type){case 0:u.loaded=!0;break;case 1:var l=this.addGoogleFontStyle(u,o);-1===r.indexOf(l)&&r.push(l);break;case 2:var f=this.addFvd(u,o);-1===n.indexOf(f)&&n.push(f)}}}catch(s){a.e(s)}finally{a.f()}return n.length>0||r.length>0?this.loadFontsByFamilies(n,r):Promise.resolve(!0)}},{key:"loadFontsByFamilies",value:function(t,r){var a=this;return new Promise(function(i,o){var u={timeout:1e4};if(t&&t.length){var l=t.map(function(e){return e.substring(0,e.indexOf(":"))});u.custom={families:t,urls:[a.fontCss(l)]}}r&&r.length&&(u.google={families:r}),u.active=function(){i()},u.inactive=function(){o()},u.fontactive=function(e,t){var r=n.getFont(e);r?r.loaded=!0:n.fonts.push({name:e,loaded:!0})},e.load(u)})}},{key:"fontPreview",value:function(e){var r=t.default.extend(n.apiParams,{name:e});return n.api+"/preview?"+t.default.buildQueryParams(r)}},{key:"fontCss",value:function(e){var r=t.default.extend(n.apiParams,{names:e.join(",")});return n.api+"/css?"+t.default.buildQueryParams(r)}}]),n}();c.fonts=[],c.api="",c.apiParams={};var d=c;exports.default=d;
},{"webfontloader":"GxDM","./util":"zY0S"}],"kRzK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("lit-html"),t=require("lit-html/directives/unsafe-html"),n=require("lit-html/directives/repeat"),r=require("lit-html/directives/class-map"),a=require("lit-html/directives/style-map"),o=require("lit-html/directives/cache"),l=require("lit-html/directives/if-defined"),i=require("lit-html/directives/live"),u=require("lit-transition"),c=require("@shopify/theme-currency"),s=w(require("../util")),p=require("../const"),d=w(require("./template-registry")),f=w(require("../upload/upload")),m=w(require("../translate")),v=w(require("../font-loader")),h=w(require("../resource-loader")),g=_(require("loglevel"));function y(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return y=function(){return e},e}function _(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=y();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}return n.default=e,t&&t.set(e,n),n}function w(e){return e&&e.__esModule?e:{default:e}}function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(){var e=Ve(['  \n            <div class="cl-editor-mode">\n                <p data-live-price="','" ></p>\n                <button class="cl-po--swatch cl-po--swatch-button cl-po--small" @click="','">\n                    Add to cart (validation test)\n                </button>\n            </div>\n            ']);return b=function(){return e},e}function D(){var e=Ve(['\n                    <div class="cl-po--error" @click=',">","</div>\n                "]);return D=function(){return e},e}function M(){var e=Ve(['\n            <div class="cl-po--errors global">\n                ',"\n            </div>\n        "]);return M=function(){return e},e}function q(){var e=Ve(["\n        ","\n        \n        ","\n\n        ","\n    "]);return q=function(){return e},e}function H(){var e=Ve(['\n<div class="cl-po--options"> \n\n',' \n    \n    <input type="hidden" name="properties[_cl_options]" value=',">\n</div>\n"]);return H=function(){return e},e}function E(){var e=Ve(['\n                            <div class="cl-po--error" @click=',">","</div>\n                        "]);return E=function(){return e},e}function T(){var e=Ve(['\n                    <div class="cl-po--errors">\n                        ',"\n                    </div>\n                    "]);return T=function(){return e},e}function z(){var e=Ve(['\n                    <div class="cl-po--help">',"</div>\n                    "]);return z=function(){return e},e}function F(){var e=Ve(["\n                      ","\n                    "]);return F=function(){return e},e}function O(){var e=Ve(['<span class="cl-po--info" data-tippy-content="','"></span>']);return O=function(){return e},e}function k(){var e=Ve(['\n                    <label class="cl-po--label" for="','">',"    ","</label>\n                    "]);return k=function(){return e},e}function C(){var e=Ve(['\n                 <div class="cl-po--option" data-option="','">\n                    ',"\n                    \n                    ","\n                     \n                    ","\n                    \n                    ","\n                   \n                </div>\n             "]);return C=function(){return e},e}function S(){var e=Ve(["\n            \n             ","\n    "]);return S=function(){return e},e}function A(){var e=Ve(["\n    ","\n"]);return A=function(){return e},e}function L(){var e=Ve(['<div class="cl-po-upload-lift-','"></div>']);return L=function(){return e},e}function V(){var e=Ve(["\n                   <div>","</div>\n             "]);return V=function(){return e},e}function j(){var e=Ve(['  \n        <div class="cl-po--upload ','">\n            <label class="cl-po--input cl-po--upload-button">\n                 <input type="file" @change='," \n                    ?required="," ?multiple=","  accept="," >\n                 <span>",'</span>\n            </label>\n            <progress class="cl-po--preview-progress" style="display:none;"></progress>\n            <div class="cl-po--upload-files">\n             ',"\n            </div>\n        </div>\n    "]);return j=function(){return e},e}function P(){var e=Ve(["\n    ","\n"]);return P=function(){return e},e}function W(){var e=Ve(["\n                    ","\n                "]);return W=function(){return e},e}function B(){var e=Ve(['\n            <div class="cl-po--group" >\n                ',"\n            </div>"]);return B=function(){return e},e}function R(){var e=Ve(['\n    <div class="cl-po--collapse ','" @click=',">",'</div>\n    <div class="cl-po--panel ','">\n        ',"\n    </div>\n"]);return R=function(){return e},e}function U(){var e=Ve(['\n        <select class="cl-po--input ','" id="','" name="','" @change='," ?required=",">\n        </select>\n    "]);return U=function(){return e},e}function N(){var e=Ve(['\n        <div class="cl-po--font-selector">\n            ',"\n        </div>\n    "]);return N=function(){return e},e}function Y(){var e=Ve(["            \n            <option .value="," ?selected="," > ","</option>\n        "]);return Y=function(){return e},e}function I(){var e=Ve(['\n           <option value="" selected></option>']);return I=function(){return e},e}function $(){var e=Ve(['\n    <select class="cl-po--input ','" id="','" .value=',' name="','" @change='," ?required=",">\n        ","\n        \n        ","\n    </select>\n"]);return $=function(){return e},e}function G(){var e=Ve(['\n        <label class="cl-po--checkbox-item" >\n            <input type="checkbox" class="cl-po--input ','" id="',"-",'" .value='," @change=","\n                   .checked="," >\n            ","\n        </label>\n    "]);return G=function(){return e},e}function J(){var e=Ve(['\n        <input type="hidden" name="','" id="','" value='," />\n        ","\n    "]);return J=function(){return e},e}function K(){var e=Ve(['\n        <label class="cl-po--radio-item" >\n            <input type="radio" class="cl-po--input ','" id="',"-",'" name="','" .value='," @change=","\n                   .checked="," ?required=",">\n            ","\n        </label>\n    "]);return K=function(){return e},e}function Q(){var e=Ve(["\n    ","\n"]);return Q=function(){return e},e}function X(){var e=Ve(['\n        <label class="cl-po--swatch-item" >\n            <input type="radio" class="cl-po--input ','" id="',"-",'" name="','" .value='," @change=","\n                   .checked="," ?required=",'>\n            <div class="cl-po--swatch cl-po--swatch-button ','" style=',' data-tippy-content="','" data-tippy-placement="bottom"\n                 @click=',">\n                ","\n            </div>\n        </label>\n    "]);return X=function(){return e},e}function Z(){var e=Ve(["\n    ","\n"]);return Z=function(){return e},e}function ee(){var e=Ve(['<img src="','" />']);return ee=function(){return e},e}function te(){var e=Ve(['\n        <label class="cl-po--swatch-item">\n            <input type="radio" class="cl-po--input ','" id="',"-",'" name="','" .value='," @change=","\n                   .checked="," ?required=",'>\n            <div class="cl-po--swatch cl-po--swatch-img  ','" data-tippy-content="','" data-tippy-placement="bottom"\n                 @click=',">\n                ","\n            </div>\n        </label>\n    "]);return te=function(){return e},e}function ne(){var e=Ve(["\n    ","\n"]);return ne=function(){return e},e}function re(){var e=Ve(['\n        <label class="cl-po--swatch-item">\n            <input type="radio" class="cl-po--input ','" id="',"-",'" name="','" .value='," @change=","\n                   .checked="," ?required=",'>\n            <div class="cl-po--swatch cl-po--swatch-color ','" style=',' data-tippy-content="','" data-tippy-placement="bottom"\n                 @click=',">\n            </div>\n        </label>\n    "]);return re=function(){return e},e}function ae(){var e=Ve(["\n    ","\n"]);return ae=function(){return e},e}function oe(){var e=Ve(['\n      <input type="text" class="cl-po--input ','" id="','" name="','" .value='," @change="," \n      ?required=",' pattern="#[0-9A-Fa-f]{6}" placeholder=',">\n"]);return oe=function(){return e},e}function le(){var e=Ve(['\n     <input type="color" class="cl-po--input ','" id="','" name="','" .value='," @change=","\n     ?required="," minlength="," maxlength="," placeholder=",">\n        "]);return le=function(){return e},e}function ie(){var e=Ve(["\n    ","\n"]);return ie=function(){return e},e}function ue(){var e=Ve(['\n    <input type="number" class="cl-po--input ','" id="','" name="','" .value='," @input=","\n     ?required="," min="," max="," placeholder=",">\n"]);return ue=function(){return e},e}function ce(){var e=Ve(['\n         <input type="hidden" name="','" id="','" .value=','  />\n         <input type="date" class="cl-po--input ','" id="','-date" @change=',"\n            ?required="," min="," max=",">\n    "]);return ce=function(){return e},e}function se(e,t){se=function(e,t){return new o(e,void 0,t)};var n=me(RegExp),r=RegExp.prototype,a=new WeakMap;function o(e,t,r){var o=n.call(this,e,t);return a.set(o,r||a.get(e)),o}function l(e,t){var n=a.get(t);return Object.keys(n).reduce(function(t,r){return t[r]=e[n[r]],t},Object.create(null))}return pe(o,n),o.prototype.exec=function(e){var t=r.exec.call(this,e);return t&&(t.groups=l(t,this)),t},o.prototype[Symbol.replace]=function(e,t){if("string"==typeof t){var n=a.get(this);return r[Symbol.replace].call(this,e,t.replace(/\$<([^>]+)>/g,function(e,t){return"$"+n[t]}))}if("function"==typeof t){var o=this;return r[Symbol.replace].call(this,e,function(){var e=[];return e.push.apply(e,arguments),"object"!==x(e[e.length-1])&&e.push(l(e,o)),t.apply(this,e)})}return r[Symbol.replace].call(this,e,t)},se.apply(this,arguments)}function pe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ye(e,t)}function de(e,t){return!t||"object"!==x(t)&&"function"!=typeof t?fe(e):t}function fe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function me(e){var t="function"==typeof Map?new Map:void 0;return(me=function(e){if(null===e||!ge(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return ve(e,arguments,_e(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),ye(n,e)})(e)}function ve(e,t,n){return(ve=he()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&ye(a,n.prototype),a}).apply(null,arguments)}function he(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function ge(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function ye(e,t){return(ye=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _e(e){return(_e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function we(){var e=Ve(['\n            <div class="cl-po--font-color-input">\n            ',"\n              </div>"]);return we=function(){return e},e}function xe(){var e=Ve([' \n        <div class="cl-po--editor-group cl-po--font-color">\n            ',"\n            ","\n        </div>"]);return xe=function(){return e},e}function be(){var e=Ve([' \n        <div class="cl-po--editor-group cl-po--font-size">\n            <div @click=',' class="cl-po--swatch cl-po--swatch-button">\n                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path fill="none" d="M0 0h24v24H0z"/><path d="M5 11h14v2H5z" fill="var(--text-editor-color)"/></svg>\n            </div>\n            <div class="cl-po--swatch cl-po--swatch-button icon" data-tippy-content="','" data-tippy-placement="bottom">\n                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path fill="none" d="M0 0h24v24H0z"/><path d="M11.246 15H4.754l-2 5H.6L7 4h2l6.4 16h-2.154l-2-5zm-.8-2L8 6.885 5.554 13h4.892zM21 12.535V12h2v8h-2v-.535a4 4 0 1 1 0-6.93zM19 18a2 2 0 1 0 0-4 2 2 0 0 0 0 4z" fill="var(--text-editor-color)"/></svg>\n            </div>\n            <div @click=',' class="cl-po--swatch cl-po--swatch-button">\n                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path fill="none" d="M0 0h24v24H0z"/><path d="M11 11V5h2v6h6v2h-6v6h-2v-6H5v-2z" fill="var(--text-editor-color)"/></svg>\n            </div>\n        </div>']);return be=function(){return e},e}function De(){var e=Ve([' \n        <div class="cl-po--editor-group cl-po--text-align">\n            <div @click=',' class="cl-po--swatch cl-po--swatch-button ','" data-tippy-content="','" data-tippy-placement="bottom">\n                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path fill="none" d="M0 0h24v24H0z"/><path d="M3 4h18v2H3V4zm0 15h14v2H3v-2zm0-5h18v2H3v-2zm0-5h14v2H3V9z" fill="var(--text-editor-color)"/></svg>\n            </div>\n            <div @click=',' class="cl-po--swatch cl-po--swatch-button ','" data-tippy-content="','" data-tippy-placement="bottom">\n                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path fill="none" d="M0 0h24v24H0z"/><path d="M3 4h18v2H3V4zm2 15h14v2H5v-2zm-2-5h18v2H3v-2zm2-5h14v2H5V9z" fill="var(--text-editor-color)"/></svg>\n            </div>\n            <div @click=',' class="cl-po--swatch cl-po--swatch-button ','" data-tippy-content="','" data-tippy-placement="bottom">\n                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path fill="none" d="M0 0h24v24H0z"/><path d="M3 4h18v2H3V4zm4 15h14v2H7v-2zm-4-5h18v2H3v-2zm4-5h14v2H7V9z" fill="var(--text-editor-color)"/></svg>\n            </div>\n        </div>']);return De=function(){return e},e}function Me(){var e=Ve([' \n        <div class="cl-po--editor-group cl-po--font-style">\n            <div @click=',' class="cl-po--swatch cl-po--swatch-button ','" data-tippy-content="','" data-tippy-placement="bottom">\n                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path fill="none" d="M0 0h24v24H0z"/><path d="M8 11h4.5a2.5 2.5 0 1 0 0-5H8v5zm10 4.5a4.5 4.5 0 0 1-4.5 4.5H6V4h6.5a4.5 4.5 0 0 1 3.256 7.606A4.498 4.498 0 0 1 18 15.5zM8 13v5h5.5a2.5 2.5 0 1 0 0-5H8z" fill="var(--text-editor-color)"/></svg>\n            </div>\n            <div @click=',' class="cl-po--swatch cl-po--swatch-button ','" data-tippy-content="','" data-tippy-placement="bottom">\n                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path fill="none" d="M0 0h24v24H0z"/><path d="M15 20H7v-2h2.927l2.116-12H9V4h8v2h-2.927l-2.116 12H15z" fill="var(--text-editor-color)"/></svg>\n            </div>\n        </div>']);return Me=function(){return e},e}function qe(){var e=Ve(['\n        <div class="cl-po--editor-group cl-po--font-family">\n            ',"\n        </div>"]);return qe=function(){return e},e}function He(){var e=Ve(['\n    <div class="cl-po--text-editor">\n        \n        ',"\n        ","\n        ","\n        ","\n         ","\n        \n    </div>\n"]);return He=function(){return e},e}function Ee(){var e=Ve(['\n        <div class="cl-po--help cl-po--text-help"></div>\n    ']);return Ee=function(){return e},e}function Te(){var e=Ve(["",""]);return Te=function(){return e},e}function ze(){var e=Ve(["",""]);return ze=function(){return e},e}function Fe(){var e=Ve(['\n    <textarea class="cl-po--input ','" id="','" name="','" .value='," @input="," @keyup=","\n     ?required="," minlength="," maxlength="," rows="," placeholder="," style=",">\n    </textarea>\n\n    ","\n        \n    ","\n"]);return Fe=function(){return e},e}function Oe(){var e=Ve(["",""]);return Oe=function(){return e},e}function ke(){var e=Ve(["",""]);return ke=function(){return e},e}function Ce(){var e=Ve(['\n    <input type="text" class="cl-po--input ','" id="','" name="','" .value='," @input=","\n      ?required="," minlength="," maxlength="," pattern="," placeholder="," style=",">\n\n    ","\n"]);return Ce=function(){return e},e}function Se(){var e=Ve(['<span class="cl-po--edit-label">',"</span>"]);return Se=function(){return e},e}function Ae(){var e=Ve(["\n    ",'\n    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path fill="none" d="M0 0h24v24H0z"/><path d="M15.728 9.686l-1.414-1.414L5 17.586V19h1.414l9.314-9.314zm1.414-1.414l1.414-1.414-1.414-1.414-1.414 1.414 1.414 1.414zM7.242 21H3v-4.243L16.435 3.322a1 1 0 0 1 1.414 0l2.829 2.829a1 1 0 0 1 0 1.414L7.243 21z" fill="var(--text-editor-color)"/></svg>\n']);return Ae=function(){return e},e}function Le(){var e=Ve(['\n    <input type="hidden" id="','" name="','" .value=',">\n"]);return Le=function(){return e},e}function Ve(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var je=function(e,t){var n=e.target;if(n){var r=n.parentNode.querySelector(".cl-po--text-help");r&&(t.value=n.value,r.innerHTML=Pe(t.params.textHelp,t))}},Pe=function(e,t){if(e){var n={};for(var r in n.used=t.value.length,n.min=t.params.min?t.params.min:0,n.max=t.params.max?t.params.max:1e3,n.left=n.max-n.used,n)n.hasOwnProperty(r)&&(e=e.replace(new RegExp("{"+r+"}","g"),n[r]));return e}},We=function(e){return e.replace(/(<([^>]+)>)/gi,"")},Be=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=t.text?t.text:t.value||"";return e.params.valuePriceText&&t.price&&n&&(a+=" (+ "+Re(e,t,n)+")"),r&&(a=We(a)),a},Re=function(e,t,n){return t.price&&n?(0,c.formatMoney)(100*t.price,n):""},Ue=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=Be(e,t,n,r);return e.params.imgTooltip&&(a='<img src="'.concat(t.img,'" style="max-width:100%;max-height:300px; display: block; margin:auto; margin-bottom:5px;" />').concat(a)),a},Ne={mode:"both",enter:{active:"cl-po--fade-enter-active",from:"cl-po--fade-enter-from",to:"cl-po--fade-enter-to"},leave:{active:"cl-po--fade-leave-active",from:"cl-po--fade-leave-from",to:"cl-po--fade-leave-to"},duration:500},Ye=function(){var e=document.createElement("input");return e.type="color",e.value="!","color"===e.type&&"!"!==e.value},Ie=function(){var e=document.createElement("input");return e.setAttribute("type","date"),e.setAttribute("value","a"),"a"!==e.value},$e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t["cl-po--invalid"]=e.errors&&e.errors.length>0,e._editor&&e._layer.params.collapse&&(t["cl-po--b-radius-0"]=!0),t},Ge=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.params.size?n["cl-po--"+e.params.size]=!0:t&&(n["cl-po--"+t]=!0),e.params.shape&&(n["cl-po--"+e.params.shape]=!0),n},Je=function(e,t,n,r){t.params.toggle&&t.value===n.value&&(e.preventDefault(),e.stopImmediatePropagation(),t.value="",r(t))},Ke=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.params.minWidth&&e.params.minWidth>0&&(t.minWidth=e.params.minWidth+"px"),t},Qe=function(e,t){var n=e.params.debounce||300;return 0===n?t:s.default.debounced(n,t)},Xe=function(e){return e.params.name?e.params.name:"properties[".concat(e.name,"]")},Ze=function(e,t,n){return e.target.value&&("uppercase"===t.params.textTransform?e.target.value=e.target.value.toUpperCase():"lowercase"===t.params.textTransform&&(e.target.value=e.target.value.toLowerCase())),et(e,t,n)},et=function(e,t,n){return t.value=e.target.value,n(t)};d.default.templates.hidden=function(t,n,r){return(0,e.html)(Le(),t.id,Xe(t),(0,i.live)(t.value))};var tt=function(t){return(0,e.html)(Ae(),t._layer.params.collapseLabel?(0,e.html)(Se(),t._layer.params.collapseLabel):null)};d.default.templates.text=function(t,n,o){return(0,e.html)(Ce(),(0,r.classMap)($e(t)),t.id,Xe(t),(0,i.live)(t.value),Qe(t,function(e){return Ze(e,t,o)}),t.required,(0,l.ifDefined)(t.params.min),(0,l.ifDefined)(t.params.max),(0,l.ifDefined)(t.params.pattern||void 0),(0,l.ifDefined)(t.params.placeholder),(0,a.styleMap)({textTransform:t.params.textTransform}),t._editor?t._layer.params.collapse?(0,e.html)(ke(),rt(tt(t),d.default.templates.text_editor(t,n,o),"cl-po--edit")):(0,e.html)(Oe(),d.default.templates.text_editor(t,n,o)):null)},d.default.templates.textarea=function(t,n,o){return(0,e.html)(Fe(),(0,r.classMap)($e(t)),t.id,Xe(t),(0,i.live)(t.value),Qe(t,function(e){return Ze(e,t,o)}),t.params.textUsage?function(e){return je(e,t)}:null,t.required,(0,l.ifDefined)(t.params.min),(0,l.ifDefined)(t.params.max),(0,l.ifDefined)(t.params.rows),(0,l.ifDefined)(t.params.placeholder),(0,a.styleMap)({textTransform:t.params.textTransform}),t._editor?t._layer.params.collapse?(0,e.html)(ze(),rt(tt(t),d.default.templates.text_editor(t,n,o),"cl-po--edit")):(0,e.html)(Te(),d.default.templates.text_editor(t,n,o)):null,t.params.textUsage?(0,e.html)(Ee()):null)},d.default.templates.text_editor=function(t,n,r){return(0,e.html)(He(),t._layer.params.editor.font?(0,e.html)(qe(),d.default.templates.font({id:t.id+"_font",name:t.name+"_font",params:{name:t.name+"_font"},value:t._editor.fontFamily},n,function(e){t._editor.fontFamily=e.value,r(t)})):null,t._layer.params.editor.style?(0,e.html)(Me(),function(e){t._editor.fontWeight="bold"===t._editor.fontWeight?"normal":"bold",r(t)},"bold"===t._editor.fontWeight?"selected":"",m.default.get("product.options.text.style.bold"),function(e){t._editor.fontStyle="italic"===t._editor.fontStyle?"normal":"italic",r(t)},"italic"===t._editor.fontStyle?"selected":"",m.default.get("product.options.text.style.italic")):null,t._layer.params.editor.align?(0,e.html)(De(),function(e){t._editor.textAlign="left",r(t)},"left"===t._editor.textAlign?"selected":"",m.default.get("product.options.text.align.left"),function(e){t._editor.textAlign="center",r(t)},"center"===t._editor.textAlign?"selected":"",m.default.get("product.options.text.align.center"),function(e){t._editor.textAlign="right",r(t)},"right"===t._editor.textAlign?"selected":"",m.default.get("product.options.text.align.right")):null,t._layer.params.editor.size?(0,e.html)(be(),function(e){t._editor.fontSize-=t._layer.params.fontSizeStep||1,r(t)},m.default.get("product.options.text.fontSize"),function(e){t._editor.fontSize+=t._layer.params.fontSizeStep||1,r(t)}):null,t._layer.params.editor.color?(0,e.html)(xe(),d.default.templates.color({id:t.id+"_color",name:t.name+"_color",params:{name:t.name+"_color"},value:t._editor.color||"#000000"},n,function(e){t._editor.color=e.value,r(t)}),Ye()?(0,e.html)(we(),d.default.templates.color_input({id:t.id+"_color",name:t.name+"_color",params:{name:t.name+"_color"},value:t._editor.color||"#000000"},n,function(e){t._editor.color=e.value,r(t)})):null):null)},d.default.templates.date=function(t,n,a){var o=void 0===t._controller;if(t._controller=t._controller||{setup:function(){if(t._controller.native=Ie(),t._controller.native)t._controller.ready=Promise.resolve();else{var e=[n.assets+"/static/lib/dateinput/dateinput.min.js"];t._controller.ready=h.default.loadOnce(e,"option-date",{async:!1})}},onValidate:function(){var e=t._controller.dateEl,n=e.checkValidity(),r=!1,a=!1;if(n&&!t._controller.native){if(e.min){var o=new Date(e.min+"T00:00:00");e.valueAsDate<o&&(n=!1,r=!0)}if(e.max){var l=new Date(e.max+"T00:00:00");e.valueAsDate>l&&(n=!1,a=!0)}}if(!n){if(e.validity.rangeUnderflow||r){var i=e.min,u=new Date(i+"T00:00:00");u.setDate(u.getDate()-1),i=t._controller.format(u,t.params.dateFormat||"yyyy-mm-dd"),t.errors.push(m.default.get("product.options.validity.dateMin",{min:i}))}else if(e.validity.rangeOverflow||a){var c=e.max,s=new Date(c+"T00:00:00");s.setDate(s.getDate()+1),c=t._controller.format(s,t.params.dateFormat||"yyyy-mm-dd"),t.errors.push(m.default.get("product.options.validity.dateMax",{max:c}))}else t.errors.push(m.default.get("product.options.validity.valueMissing"));return!1}return!0},onChange:function(e,t){t._controller.mapDateValue(),a(t)},mapDateValue:function(){t._controller.dateEl.value?t.params.dateFormat?t._controller.el.value=t._controller.format(t._controller.dateEl.valueAsDate,t.params.dateFormat):t._controller.el.value=t._controller.dateEl.value:t._controller.el.value="",t.value=t._controller.el.value},mapOptionValue:function(){if(t.value&&t.value!==t._controller.el.value){var e,n,r=t.params.dateFormat;if(r&&"yyyy-mm-dd"!==r){if(-1!==r.indexOf("/")?n=r.startsWith("yyyy")?se(/([0-9]{4})\/([0-9]{2})\/([0-9]{2})/,{year:1,month:2,day:3}):se(/([0-9]{2})\/([0-9]{2})\/([0-9]{4})/,{day:1,month:2,year:3}):-1!==r.indexOf(".")&&(n=r.startsWith("dd")?se(/([0-9]{2})\.([0-9]{2})\.([0-9]{4})/,{day:1,month:2,year:3}):se(/([0-9]{2})\.([0-9]{2})\.([0-9]{4})/,{month:1,day:2,year:3})),n){var a=n.exec(t.value);a&&(e=new Date(a.groups.year,a.groups.month-1,a.groups.day))}}else e=new Date(t.value+"T00:00:00");if(e)return t._controller.dateEl.valueAsDate=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())),!0}return!1},format:function(e,t){return t=(t=(t=t.replace("yyyy",e.getFullYear())).replace("mm",("0"+(e.getMonth()+1)).slice(-2))).replace("dd",("0"+e.getDate()).slice(-2))},init:function(e,t){t&&(e._controller.options=t),e._controller.ready.then(function(){if(e._controller.el=n.productForm.querySelector("#"+e.id),e._controller.dateEl=n.productForm.querySelector("#"+e.id+"-date"),!e._controller.native){if(window.navigator&&window.navigator.language){var t=navigator.language,r=t.substr(0,2);e._controller.dateEl.setAttribute("lang",t),"en"!==r&&e._controller.dateEl.setAttribute("data-first-day","mo")}e.params.dateFormat&&e._controller.dateEl.setAttribute("data-date-format",e.params.dateFormat)}e._controller.mapOptionValue(),e._controller.initMinMax(e)})},initMinMax:function(e){var t=!isNaN(e.params.maxDays)&&null!=e.params.maxDays,r=!isNaN(e.params.minDays)&&null!=e.params.minDays;if(r||t){var o=function(n){t&&function(t){if(t.setDate(t.getDate()+e.params.maxDays),e.params.maxDate){var n=new Date(e.params.maxDate+"T00:00:00");t>n&&(t=n)}e._controller.dateEl.max=e._controller.format(t,"yyyy-mm-dd"),e._controller.dateEl.valueAsDate&&e._controller.dateEl.valueAsDate>t&&(e._controller.dateEl.valueAsDate=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate())),e._controller.mapDateValue())}(new Date(n.getTime())),r&&function(t){if(t.setDate(t.getDate()+e.params.minDays),e.params.minDate){var n=new Date(e.params.minDate+"T00:00:00");t<n&&(t=n)}e._controller.dateEl.min=e._controller.format(t,"yyyy-mm-dd"),(!e.value||e._controller.dateEl.valueAsDate&&e._controller.dateEl.valueAsDate<t)&&(e._controller.dateEl.valueAsDate=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate())),e._controller.mapDateValue())}(new Date(n.getTime()))},l=new Date;if(e.params.optionDate){if(e._controller.options)for(var i=0;i<e._controller.options.length;i++){var u=e._controller.options[i];if(u.name===e.params.optionDate&&u._controller&&u._controller.dateEl){l=u._controller.dateEl.valueAsDate;break}}e._controller.optionChanged&&n.productForm.removeEventListener("option:changed",e._controller.optionChanged),e._controller.optionChanged=function(t){var n=t.detail;n.name===e.params.optionDate&&n._controller&&n._controller.dateEl&&(o(n._controller.dateEl.valueAsDate),a(e))},n.productForm.addEventListener("option:changed",e._controller.optionChanged)}o(l)}else if(e._controller.dateEl.min){var c=new Date(e._controller.dateEl.min+"T00:00:00");(!e.value||e._controller.dateEl.valueAsDate&&e._controller.dateEl.valueAsDate<c)&&(e._controller.dateEl.valueAsDate=new Date(Date.UTC(date.getFullYear(),date.getMonth(),date.getDate())),e._controller.mapDateValue())}}},n.productForm)if(o){t._controller.setup();n.productForm.addEventListener("options:rendered",function e(r){var a=r.detail;n.productForm.removeEventListener("options:rendered",e),t._controller.init(t,a.config.options)})}else n.editorMode?t._controller.init(t):t._controller.mapOptionValue()&&t._controller.initMinMax(t);return(0,e.html)(ce(),Xe(t),t.id,(0,i.live)(t.value),(0,r.classMap)($e(t)),t.id,function(e){return t._controller.onChange(e,t)},t.required,(0,l.ifDefined)(null!=t.params.minDate?t.params.minDate:void 0),(0,l.ifDefined)(null!=t.params.maxDate?t.params.maxDate:void 0))},d.default.templates.number=function(t,n,a){return(0,e.html)(ue(),(0,r.classMap)($e(t)),t.id,Xe(t),(0,i.live)(t.value),Qe(t,function(e){return et(e,t,a)}),t.required,(0,l.ifDefined)(t.params.min),(0,l.ifDefined)(t.params.max),(0,l.ifDefined)(t.params.placeholder))},d.default.templates.color=function(t,n,a){return(0,e.html)(ie(),Ye()?(0,e.html)(le(),(0,r.classMap)($e(t)),t.id,Xe(t),(0,i.live)(t.value),function(e){return et(e,t,a)},t.required,(0,l.ifDefined)(t.params.min),(0,l.ifDefined)(t.params.max),(0,l.ifDefined)(t.params.placeholder)):d.default.templates.color_input(t,n,a))},d.default.templates.color_input=function(t,n,a){return(0,e.html)(oe(),(0,r.classMap)($e(t)),t.id,Xe(t),(0,i.live)(t.value),function(e){return et(e,t,a)},t.required,(0,l.ifDefined)(t.params.placeholder))},d.default.templates["color-swatch"]=function(t,o,l){return(0,e.html)(ae(),(0,n.repeat)(t.values||[],function(n,o){return(0,e.html)(re(),(0,r.classMap)($e(t)),t.id,o,Xe(t),n.value,function(e){return et(e,t,l)},(0,i.live)(t.value==n.value),t.required,(0,r.classMap)(Ge(t,"small")),(0,a.styleMap)({backgroundColor:n.color}),Be(t,n,p.ThemeCurrency.moneyFormat),function(e){return Je(e,t,n,l)})}))},d.default.templates["img-swatch"]=function(t,a,o){return(0,e.html)(ne(),(0,n.repeat)(t.values||[],function(n,a){return(0,e.html)(te(),(0,r.classMap)($e(t)),t.id,a,Xe(t),n.value,function(e){return et(e,t,o)},(0,i.live)(t.value==n.value),t.required,(0,r.classMap)(Ge(t,"large")),Ue(t,n,p.ThemeCurrency.moneyFormat),function(e){return Je(e,t,n,o)},n.img?(0,e.html)(ee(),n.img):null)}))},d.default.templates["button-swatch"]=function(o,u,c){return(0,e.html)(Z(),(0,n.repeat)(o.values||[],function(n,u){return(0,e.html)(X(),(0,r.classMap)($e(o)),o.id,u,Xe(o),n.value,function(e){return et(e,o,c)},(0,i.live)(o.value==n.value),o.required,(0,r.classMap)(Ge(o,"small")),(0,a.styleMap)(Ke(o)),(0,l.ifDefined)(!o.params.valuePriceText&&n.price?"+ "+Re(o,n,p.ThemeCurrency.moneyFormat):void 0),function(e){return Je(e,o,n,c)},(0,t.unsafeHTML)(Be(o,n,p.ThemeCurrency.moneyFormat)))}))},d.default.templates.radio=function(a,o,l){return(0,e.html)(Q(),(0,n.repeat)(a.values||[],function(n,o){return(0,e.html)(K(),(0,r.classMap)($e(a)),a.id,o,Xe(a),n.value,function(e){return et(e,a,l)},(0,i.live)(a.value==n.value),a.required,(0,t.unsafeHTML)(Be(a,n,p.ThemeCurrency.moneyFormat)))}))},d.default.templates.checkbox=function(a,o,l){return a._controller=a._controller||{onValidate:function(){return!(a.required&&!a.value)||(a.errors.push(m.default.get("product.options.validity.valueMissing")),!1)},onChange:function(e,t){if(o.productForm){var n=o.productForm.querySelector("#"+t.id);if(n){for(var r=o.productForm.querySelectorAll('[id^="'+t.id+'"]'),a=[],i=0;i<r.length;i++){var u=r[i];u!==n&&u.checked&&a.push(u.value)}var c=a.join(",");n.value=c,t.value=c,l(t)}}}},(0,e.html)(J(),Xe(a),a.id,a.value,(0,n.repeat)(a.values||[],function(n,o){return(0,e.html)(G(),(0,r.classMap)($e(a)),a.id,o,n.value,function(e){return a._controller.onChange(e,a)},(0,i.live)(a.value==n.value||a.value&&-1!==a.value.indexOf(n.value)),(0,t.unsafeHTML)(Be(a,n,p.ThemeCurrency.moneyFormat)))}))},d.default.templates.select=function(t,a,o){return(0,e.html)($(),(0,r.classMap)($e(t)),t.id,(0,i.live)(t.value),Xe(t),function(e){return et(e,t,o)},t.required,t.value?null:(0,e.html)(I()),(0,n.repeat)(t.values||[],function(n,r){return(0,e.html)(Y(),n.value,t.value==n.value,Be(t,n,p.ThemeCurrency.moneyFormat,!0))}))},d.default.templates.font=function(t,n,r){var a;return a=t.params.fontFamilies&&t.params.fontFamilies.length?t.params.fontFamilies:v.default.fonts.map(function(e){return e.name}),t.values=a.map(function(e){return{value:e,text:" ",img:v.default.fontPreview(e)}}),(0,e.html)(N(),d.default.templates.dropdown(t,n,r))},d.default.templates.dropdown=function(t,n,a){var o=void 0===t._controller;if(t._controller=t._controller||{setup:function(){var e=[n.assets+"/static/lib/choicesjs/choices.min.css",n.assets+"/static/lib/choicesjs/choices.min.js"];t._controller.ready=h.default.loadOnce(e,"option-dropdown",{async:!1})},mapValues:function(e){var t=e.values?e.values.map(function(t){return{value:t.value,label:Be(e,t,p.ThemeCurrency.moneyFormat),customProperties:t.img,selected:e.value==t.value}}):[];return e.value||t.unshift({value:"",label:"",selected:!0}),t},init:function(e){e._controller.ready.then(function(){e._controller.selectEl=n.productForm.querySelector("#"+e.id);var t=function(e){var t='<span class="o--text">'.concat(e.label,"</span>");return e.customProperties?'<img src="'.concat(e.customProperties,'" class="o--img"/> ').concat(t):t};e._controller.instance=new Choices(e._controller.selectEl,{choices:e._controller.mapValues(e),itemSelectText:"",searchEnabled:!1,searchChoices:!1,shouldSort:!1,callbackOnCreateTemplates:function(e){var n=this;return{item:function(e,r,a){var o=Choices.defaults.templates.item.apply(n,[e,r,a]);return o.innerHTML=t(r),o},choice:function(e,r,a){var o=Choices.defaults.templates.choice.apply(n,[e,r,a]);return o.innerHTML=t(r),o}}}})})},updateChoices:function(e){e._controller.instance.setChoices(e._controller.mapValues(e),"value","label",!0)},update:function(e){e._controller.selectEl&&e.value!==e._controller.selectEl.value&&e._controller.instance.setChoiceByValue(e.value)}},n.productForm)if(o){t._controller.setup();n.productForm.addEventListener("options:rendered",function e(){n.productForm.removeEventListener("options:rendered",e),t._controller.init(t)})}else n.editorMode?t._controller.updateChoices(t):t._controller.update(t);return(0,e.html)(U(),(0,r.classMap)($e(t)),t.id,Xe(t),function(e){return et(e,t,a)},t.required)};var nt=function(e){var t=e.currentTarget;t.classList.toggle("cl-po--open");var n=t.nextElementSibling;n.style.maxHeight?n.style.maxHeight=null:n.style.maxHeight=n.scrollHeight+100+"px"},rt=function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return(0,e.html)(R(),r,function(e){return nt(e)},t,r,n)};d.default.templates.group=function(n,r,a,o){var l=(0,e.html)(B(),n.options&&n.options.length>0?(0,e.html)(W(),at(n.options,r,a,o)):null);return n.params.collapse?rt((0,t.unsafeHTML)(n.params.collapseLabel),l):l},d.default.templates.html=function(n,r,a){return(0,e.html)(P(),(0,t.unsafeHTML)(n.params.html))},d.default.templates.upload=function(t,a,o){var i=void 0===t._controller;return t._controller=t._controller||f.default.getInstance().controller(),i||t._controller.update(t,a.productForm),(0,e.html)(j(),(0,r.classMap)($e(t)),function(e){return t._controller.onChange(e,t,o)},t.required,t.params.multiple,(0,l.ifDefined)(t.params.accept),(0,l.ifDefined)(t.params.button||"Choose file"),(0,n.repeat)(t._controller.files,function(t){return(0,e.html)(V(),t.name)}))},d.default.templates["upload-lift"]=function(t,n,r){if(t.params.uuid){t._controller&&(t._controller.field&&t._controller.field.config.uuid!==t.params.uuid?(t._controller.field.destroy(),delete t._controller):t._controller.field||delete t._controller);var a=void 0===t._controller;return t._controller=t._controller||f.default.getInstance().controllerLift(t,n.product,n.productForm,r),a||t._controller.update(t,n.productForm),t._controller.option=t,(0,e.html)(L(),t.id)}return null};var at=function(r,a,l,i){return(0,e.html)(A(),(0,n.repeat)(r,function(e){return e.name},function(r,c){return(0,e.html)(S(),(0,o.cache)(r.visible?(0,e.html)(C(),r.name,r.label?(0,e.html)(k(),r.id,(0,t.unsafeHTML)(r.label),r.params.info?(0,e.html)(O(),r.params.info):null):null,d.default.templates[r.type]?(0,e.html)(F(),d.default.templates[r.type](r,a,l,i)):null,r.params.help?(0,e.html)(z(),(0,t.unsafeHTML)(r.params.help)):null,(0,u.transition)(r.errors&&r.errors.length>0?(0,u.mark)((0,e.html)(T(),(0,n.repeat)(r.errors,function(t,n){return(0,e.html)(E(),function(e){return i(e,r,t)},t)})),"".concat(r.id,"-errors")):null,Ne)):null))}))},ot=function(t,r,a,o,l){return(0,e.html)(H(),t.length>0?(0,e.html)(q(),at(t,r,a,o),(0,u.transition)(r.errors&&r.errors.length>0?(0,u.mark)((0,e.html)(M(),(0,n.repeat)(r.errors,function(t,n){return(0,e.html)(D(),function(e){return o(e,r,t)},t)})),"".concat(r.uuid,"-option-errors")):null,Ne),r.editorMode?(0,e.html)(b(),r.product.id,function(e){return l(e)}):null):null,r.uuid)},lt=ot;exports.default=lt;
},{"lit-html":"KMqM","lit-html/directives/unsafe-html":"VZdO","lit-html/directives/repeat":"jBp4","lit-html/directives/class-map":"zFN9","lit-html/directives/style-map":"oXRc","lit-html/directives/cache":"LhRC","lit-html/directives/if-defined":"CFRe","lit-html/directives/live":"i5N8","lit-transition":"Hfmq","@shopify/theme-currency":"jUSW","../util":"zY0S","../const":"QqYi","./template-registry":"WtKS","../upload/upload":"k2Pi","../translate":"IkY8","../font-loader":"G9B6","../resource-loader":"U86w","loglevel":"ohSP"}],"XKb4":[function(require,module,exports) {
var define;
var t;!function(o){"use strict";var e=o.HTMLCanvasElement&&o.HTMLCanvasElement.prototype,n=o.Blob&&function(){try{return Boolean(new Blob)}catch(t){return!1}}(),a=n&&o.Uint8Array&&function(){try{return 100===new Blob([new Uint8Array(100)]).size}catch(t){return!1}}(),r=o.BlobBuilder||o.WebKitBlobBuilder||o.MozBlobBuilder||o.MSBlobBuilder,i=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,l=(n||r)&&o.atob&&o.ArrayBuffer&&o.Uint8Array&&function(t){var o,e,l,u,c,b,B,s,f;if(!(o=t.match(i)))throw new Error("invalid data URI");for(e=o[2]?o[1]:"text/plain"+(o[3]||";charset=US-ASCII"),l=!!o[4],u=t.slice(o[0].length),c=l?atob(u):decodeURIComponent(u),b=new ArrayBuffer(c.length),B=new Uint8Array(b),s=0;s<c.length;s+=1)B[s]=c.charCodeAt(s);return n?new Blob([a?B:b],{type:e}):((f=new r).append(b),f.getBlob(e))};o.HTMLCanvasElement&&!e.toBlob&&(e.mozGetAsFile?e.toBlob=function(t,o,n){var a=this;setTimeout(function(){n&&e.toDataURL&&l?t(l(a.toDataURL(o,n))):t(a.mozGetAsFile("blob",o))})}:e.toDataURL&&l&&(e.msToBlob?e.toBlob=function(t,o,n){var a=this;setTimeout(function(){(o&&"image/png"!==o||n)&&e.toDataURL&&l?t(l(a.toDataURL(o,n))):t(a.msToBlob(o))})}:e.toBlob=function(t,o,e){var n=this;setTimeout(function(){t(l(n.toDataURL(o,e)))})})),"function"==typeof t&&t.amd?t(function(){return l}):"object"==typeof module&&module.exports?module.exports=l:o.dataURLtoBlob=l}(window);
},{}],"K90H":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("lit-html"),r=require("lit-html/directives/repeat"),t=require("lit-html/directives/cache"),i=require("lit-transition");function n(){var e=c(['\n<div class="cl-po--preview"> \n    <canvas class="cl-po--canvas"></canvas>\n</div>\n']);return n=function(){return e},e}function c(e,r){return r||(r=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(r)}}))}var a=function(r,t,i){return(0,e.html)(n())},l=a;exports.default=l;
},{"lit-html":"KMqM","lit-html/directives/repeat":"jBp4","lit-html/directives/cache":"LhRC","lit-transition":"Hfmq"}],"Uk2d":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=n(require("./util")),e=a(require("loglevel"));function r(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return r=function(){return t},t}function a(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=r();if(e&&e.has(t))return e.get(t);var a={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var i=n?Object.getOwnPropertyDescriptor(t,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=t[o]}return a.default=t,e&&e.set(t,a),a}function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var r=0;r<e.length;r++){var a=e[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function u(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),t}var s=function(){function r(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,r);this.settings=t.default.extend({},e||{}),this.data=a}return u(r,[{key:"evaluateConditions",value:function(t,r,a){var n=1===r?"OR":"AND",o=e.getLevel();o<=e.levels.TRACE&&e.debug("====> evaluating conditions for: "+a+" in mode "+n,t);var i=!1;if(t.length)for(var u=0;u<t.length;u++){var s=t[u];if(i=this.evaluateCondition(s,this.data),o<=e.levels.TRACE&&e.debug("evaluated condition: ",s,i),1===r){if(i)break}else if(!i)break}else i=!0;return e.debug("======> evaluated conditions for: "+a+" in mode "+n,i),!!i}},{key:"evaluateCondition",value:function(t,e){return"options"===t.data?this.evaluateOptionCondition(t,e.options):"product"===t.data?this.evaluateProductCondition(t,e.product):"variant"===t.data&&this.evaluateVariantCondition(t,e.variant)}},{key:"evaluateOptionCondition",value:function(t,e){for(var r=0;r<e.length;r++){var a=e[r];if(a.name===t.field){if(t.value&&-1!==t.value.indexOf(","))for(var n=t.value.split(","),o=0;o<n.length;o++){var i=n[o];if(this.evaluateOperation(t.operator,i,a.value))return!0}return this.evaluateOperation(t.operator,t.value,a.value)}if(a.options&&a.options.length>0&&this.evaluateOptionCondition(t,a.options))return!0}return!1}},{key:"evaluateVariantCondition",value:function(t,e){if(e)switch(t.field){case"variant":if(t.variants)for(var r=0;r<t.variants.length;r++)if(t.variants[r]&&t.variants[r].id.toString()===e.id.toString())return!0;break;case"variant_title":if(this.evaluateOperation(t.operator,t.value,e.title))return!0}return!1}},{key:"evaluateProductCondition",value:function(t,e){switch(t.field){case"product":for(var r=0;r<t.products.length;r++)if(t.products[r]&&t.products[r].id.toString()===e.id.toString())return!0;break;case"product_handle":if(this.evaluateOperation(t.operator,t.value,e.handle))return!0;break;case"product_title":if(this.evaluateOperation(t.operator,t.value,e.title))return!0;break;case"product_type":if(e.type&&this.evaluateOperation(t.operator,t.value,e.type))return!0;if(e.product_type&&this.evaluateOperation(t.operator,t.value,e.product_type))return!0;break;case"product_vendor":if(this.evaluateOperation(t.operator,t.value,e.vendor))return!0;break;case"product_tags":var a;a=Array.isArray(e.tags)?e.tags:e.tags.indexOf(", ")>=0?e.tags.split(", "):[e.tags];for(var n=0;n<t.tags.length;n++)for(var o=0;o<a.length;o++)if(t.tags[n].toString().toLowerCase().trim()===a[o].toString().toLowerCase().trim())return!0}return!1}},{key:"evaluateOperation",value:function(t,e,r){if(void 0!==r){switch(t){case"equals":return r.toString().toLowerCase().trim()===e.toString().toLowerCase().trim();case"!equals":return r.toString().toLowerCase().trim()!==e.toString().toLowerCase().trim();case"contains":return r.toString().toLowerCase().trim().indexOf(e.toString().toLowerCase().trim())>-1;case"!contains":return-1===r.toString().toLowerCase().trim().indexOf(e.toString().toLowerCase().trim());case"empty":return!r;case"!empty":return!!r;case"=":return parseFloat(r)===parseFloat(e);case"!=":return parseFloat(r)!==parseFloat(e);case">":return parseFloat(r)>parseFloat(e);case">=":return parseFloat(r)>=parseFloat(e);case"<":return parseFloat(r)<parseFloat(e);case"<=":return parseFloat(r)<=parseFloat(e)}return!1}}}]),r}();s.MODE={OR:1,AND:2};var l=s;exports.default=l;
},{"./util":"zY0S","loglevel":"ohSP"}],"fCYj":[function(require,module,exports) {
"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r=function(){function t(){e(this,t)}return n(t,null,[{key:"getProductOption",value:function(e,t){for(var n=0;n<t.length;n++){var r=t[n];if(r.name===e)return r;if(r.options&&r.options.length>0){var a=this.getProductOption(e,r.options);if(null!=a)return a}}return null}},{key:"hasEditLayer",value:function(e,n){return e&&n&&n!==t.editLayer}},{key:"isEditLayer",value:function(e,t,n){return!!t&&(!n||!(e.name!==n&&!e.name.startsWith(n+"_")))}},{key:"hasRefRect",value:function(e){return e.params.refRect&&(e.params.autoScale||e.params.autoPos)}}]),t}();r.editLayer="_";var a=r;exports.default=a;
},{}],"wIMs":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=o(require("loglevel")),t=a(require("./render-util"));function a(e){return e&&e.__esModule?e:{default:e}}function i(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}function o(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=o?Object.getOwnPropertyDescriptor(e,n):null;r&&(r.get||r.set)?Object.defineProperty(a,n,r):a[n]=e[n]}return a.default=e,t&&t.set(e,a),a}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function l(e,t,a){return t&&r(e.prototype,t),a&&r(e,a),e}var c=function(){function a(){n(this,a)}return l(a,[{key:"render",value:function(e,t,a){}},{key:"_getOptions",value:function(e,a){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.params,o={visible:!0,selectable:!1,evented:!1,lockUniScaling:!0,lockRotation:!0,lockScalingX:!0,lockScalingY:!0,lockMovementX:!0,lockMovementY:!0,hasControls:!1,lockScalingFlip:!0};if(o.visible=!0,o.centeredRotation=!0,i.autoRotate?o.angle=0:void 0!==i.angle&&(o.angle=i.angle%360),i.autoPos&&!e._interactive?(o.left=0,o.top=0):(void 0!==i.x&&(o.left=i.x),void 0!==i.y&&(o.top=i.y)),i.autoScale&&!e._interactiveScaled?(o.scaleX=1,o.scaleY=1):(void 0!==i.scaleX&&(o.scaleX=i.scaleX),void 0!==i.scaleY&&(o.scaleY=i.scaleY)),void 0!==i.width&&(o.width=i.width),void 0!==i.height&&(o.height=i.height),t.default.isEditLayer(e,a.editorMode,a.editLayer)){if(!t.default.hasRefRect(e)){o.lockMovementX=!0===e.params.autoPos,o.lockMovementY=!0===e.params.autoPos,o.lockScalingX=!0===e.params.autoScale,o.lockScalingY=!0===e.params.autoScale;var n=!e.params.autoPos||!e.params.autoScale;o.hasControls=n,o.selectable=n,o.evented=n,o.lockRotation=!1}}else if(e.params.interactive&&(!a.editorMode||!t.default.hasEditLayer(a.editorMode,a.editLayer))){o.lockMovementX=!1,o.lockMovementY=!1;var r="upload"===e.type&&!i.autoScaleOverlay;o.lockScalingX=!r,o.lockScalingY=!r,o.hasControls=r,o.selectable=!0,o.evented=!0,o.borderColor=e.params.interactiveColor||"rgb(178,204,255)"}return o._layer=e,o}},{key:"_isEditorMode",value:function(e,t){return!!t.editorMode&&(!t.editLayer||!(e.name!==t.editLayer&&!e.name.startsWith(t.editLayer+"_")))}},{key:"_printObject",value:function(t){e.debug("width/height =",t.width,t.height),e.debug("scaled width/height =",t.getScaledWidth(),t.getScaledHeight()),e.debug("left/top = ",t.left,t.top),e.debug("boundingRect = ",t.getBoundingRect()),e.debug("boundingRectAbsolute = ",t.getBoundingRect(!0)),e.debug("boundingRectCalc = ",t.getBoundingRect(!1,!0)),e.debug("boundingRectAbsoluteCalc = ",t.getBoundingRect(!0,!0))}},{key:"_applyAutoParams",value:function(e,t,a){var i=this._getRefCoordinates(t,a),o=this._getRefDimensions(t,a,i),n=this._getDimensions(e),r={width:e.width,height:e.height},l=!1;if(t.params.autoRotate){var c=0;r.width<r.height&&o.width>o.height?(l=!0,c=90):r.width>r.height&&o.width<o.height&&(l=!0,c=-90),l&&(e.rotate(c),r={width:e.height,height:e.width},n=this._getDimensions(e,l),t.params.canvasRotate&&(a.canvasRotate=-1*c))}if(t.params.autoScale&&!t._interactiveScaled){var s=t.params.autoScaleRatio,h=t.params.autoScaleMax,d=t.params.autoScaleOverlay||!1;"text"===t.type&&(s=!0);var u=1,g=o.width/r.width,f=o.height/r.height;(h||n.height>o.height||n.width>o.width)&&(s?(d?(u=Math.max(g,f),t.params.interactive&&(g>f?e.lockMovementX=!0:e.lockMovementY=!0)):u=Math.min(g,f),e.scaleX=u,e.scaleY=u):(e.scaleY=f,e.scaleX=g),e.setCoords(),n=this._getDimensions(e,l)),1!==u&&t.type}t.params.autoPos&&!t._interactive&&(t.params.autoCenter?this._center(e,n,i,o):(t.params.autoCenterH?(this._centerHorizontal(e,n,i,o),l&&90===e.angle&&(e.left+=n.width)):e.left=i.x,t.params.autoCenterV?(this._centerVertical(e,n,i,o),l&&-90===e.angle&&(e.top+=n.height)):e.top=i.y))}},{key:"_getDimensions",value:function(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?{height:e.getScaledWidth(),width:e.getScaledHeight()}:{width:e.getScaledWidth(),height:e.getScaledHeight()}}},{key:"_center",value:function(e,t,a,i){this._centerHorizontal(e,t,a,i),this._centerVertical(e,t,a,i)}},{key:"_centerHorizontal",value:function(e,t,a,i){var o=a.x+i.width/2-t.width/2;e.left=parseFloat(o.toFixed(2))}},{key:"_centerVertical",value:function(e,t,a,i){var o=a.y+i.height/2-t.height/2;e.top=parseFloat(o.toFixed(2))}},{key:"_addRefRect",value:function(e,a,i,o){if(t.default.isEditLayer(a,i.editorMode,i.editLayer))if(t.default.hasRefRect(a)){var n=this._getRefRect(a,i);o.add(n),o.uniformScaling=!1}else o.uniformScaling=!0}},{key:"_getRefRect",value:function(e,t){var a=e._objectRef||new fabric.Rect,i={visible:!0,lockUniScaling:!1,lockRotation:!0,lockMovementX:!1,lockMovementY:!1,lockScalingX:!1,lockScalingY:!1,hasControls:!0,lockScalingFlip:!0,selectable:!0,evented:!0};return i.left=e.params.refX||50,i.top=e.params.refY||50,i.width=e.params.refWidth||t.config.width-100,i.height=e.params.refHeight||t.config.height-100,i.scaleX=1,i.scaleY=1,i.fill="#139cf6",i.opacity=.5,i._layerRef=e,a.setOptions(i),e._objectRef=a,a}},{key:"_getRefDimensions",value:function(e,a,i){return t.default.hasRefRect(e)?{width:e.params.refWidth||a.config.width-100,height:e.params.refHeight||a.config.height-100}:{width:a.config.width,height:a.config.height}}},{key:"_getRefCoordinates",value:function(e,a){return t.default.hasRefRect(e)?{x:e.params.refX||50,y:e.params.refY||50}:e.params.autoPos?{x:0,y:0}:{x:0|e.params.x,y:0|e.params.y}}}]),a}(),s=c;exports.default=s;
},{"loglevel":"ohSP","./render-util":"fCYj"}],"Li6q":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=u(require("./layer-renderer")),e=o(require("loglevel")),r=u(require("./render-util"));function n(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return n=function(){return t},t}function o(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=n();if(e&&e.has(t))return e.get(t);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in t)if(Object.prototype.hasOwnProperty.call(t,u)){var i=o?Object.getOwnPropertyDescriptor(t,u):null;i&&(i.get||i.set)?Object.defineProperty(r,u,i):r[u]=t[u]}return r.default=t,e&&e.set(t,r),r}function u(t){return t&&t.__esModule?t:{default:t}}function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e,r){return e&&f(t.prototype,e),r&&f(t,r),t}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(t){var e=d();return function(){var r,n=m(t);if(e){var o=m(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return y(this,r)}}function y(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?b(t):e}function b(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var _=function(n){l(u,t.default);var o=p(u);function u(){return c(this,u),o.apply(this,arguments)}return a(u,[{key:"render",value:function(t,e,n){var o=this;return t._object&&t._object.clipPath&&delete t._object.clipPath,this._getImage(t,e,n).then(function(u){if(o._addRefRect(u,t,e,n),null==u)return u;var i=o._getOptions(t,e);return u.set(i),i.hasControls&&!r.default.isEditLayer(t,e.editorMode,e.editLayer)&&u.setControlsVisibility({mt:!1,mb:!1,ml:!1,mr:!1,bl:!0,br:!0,tl:!0,tr:!0,mtr:!1}),o._applyAutoParams(u,t,e),n.add(u),t._object=u,t._object})}},{key:"_getImage",value:function(t,r,n){return t._object?Promise.resolve(t._object):new Promise(function(r,n){fabric.Image.fromURL(t.params.url,function(n){void 0===n&&(e.warn("layer url not found: ",t.params.url),r(null)),r(n)},{crossOrigin:"anonymous"})})}}]),u}(),v=_;exports.default=v;
},{"./layer-renderer":"wIMs","loglevel":"ohSP","./render-util":"fCYj"}],"qA57":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=a(require("./layer-renderer")),e=i(require("loglevel")),r=a(require("../util")),o=a(require("./render-util"));function n(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return n=function(){return t},t}function i(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=n();if(e&&e.has(t))return e.get(t);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var a=o?Object.getOwnPropertyDescriptor(t,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=t[i]}return r.default=t,e&&e.set(t,r),r}function a(t){return t&&t.__esModule?t:{default:t}}function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,o)}return r}function c(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?u(Object(r),!0).forEach(function(e){l(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function l(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function d(t,e,r){return e&&s(t.prototype,e),r&&s(t,r),t}function y(t,e,r){return(y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var o=b(t,e);if(o){var n=Object.getOwnPropertyDescriptor(o,e);return n.get?n.get.call(r):n.value}})(t,e,r||t)}function b(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_(t)););return t}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&v(t,e)}function v(t,e){return(v=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function O(t){var e=w();return function(){var r,o=_(t);if(e){var n=_(this).constructor;r=Reflect.construct(o,arguments,n)}else r=o.apply(this,arguments);return g(this,r)}}function g(t,e){return!e||"object"!==f(e)&&"function"!=typeof e?m(t):e}function m(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function w(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function _(t){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var j=function(e){h(i,t.default);var n=O(i);function i(){return p(this,i),n.apply(this,arguments)}return d(i,[{key:"render",value:function(t,e,n){var i;i=t.params.textBox?t._object&&"textbox"===t._object.type?t._object:new fabric.Textbox(""):t._object&&"text"===t._object.type?t._object:new fabric.Text("");var a=t.params.text||"",f=c({},t.params);if(t.params.option){var u=o.default.getProductOption(t.params.option,e.options);if(u){u.value&&(a=u.value),u._layer=t;var l=!1;t.params.textEditor?(t._editor?f=r.default.extend(t.params,u._editor):t._editor=r.default.extend({},t.params),u._editor&&u._editor===t._editor||(u._editor=t._editor,l=!0)):u._editor&&(delete u._editor,l=!0),l&&e.productForm&&e.productForm.dispatchEvent(new CustomEvent("options:render",{detail:u,cancelable:!0,bubbles:!0}))}}if(t.params.optionFont){var p=o.default.getProductOption(t.params.optionFont,e.options);p&&p.value&&(f.fontFamily=p.value)}if(t.params.optionColor){var s=o.default.getProductOption(t.params.optionColor,e.options);if(s&&s.value)if("color"===s.type)f.color=s.value;else if(s.values&&s.values.length){var d=s.values.filter(function(t){return t.value===s.value});d.length&&(f.color=d[0].color)}}var y=this._getOptions(t,e,f);return y.text=a.replace(/\\n/g,"\n"),i.set(y),this._applyAutoParams(i,t,e),this._addRefRect(i,t,e,n),n.add(i),t._object=i,Promise.resolve(t._object)}},{key:"_getOptions",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.params,n=y(_(i.prototype),"_getOptions",this).call(this,t,e,r);return n.fill=r.color||"#000000",n.fontSize=r.fontSize||10,n.fontFamily=r.fontFamily||"Arial",n.fontStyle=r.fontStyle?r.fontStyle:"normal",n.fontWeight=r.fontWeight?r.fontWeight:"normal",n.textAlign=r.textAlign?r.textAlign:"left",r.fontSizeFactor&&(n.fontSize*=r.fontSizeFactor),n.charSpacing=r.letterSpacing?100*r.letterSpacing:0,n.shadow=r.textShadow?new fabric.Shadow({color:r.textShadowColor?r.textShadowColor:"#000000",blur:r.textShadowBlur?r.textShadowBlur:1,offsetX:r.textShadowOffsetX?r.textShadowOffsetX:.5,offsetY:r.textShadowOffsetY?r.textShadowOffsetY:.5}):void 0,t.params.textBox&&(o.default.hasRefRect(t)&&(r.refWidth||r.refHeight)?(n.width=r.refWidth,n.height=r.refHeight):(n.width=e.config.width,n.height=e.config.height)),n}}]),i}(),x=j;exports.default=x;
},{"./layer-renderer":"wIMs","loglevel":"ohSP","../util":"zY0S","./render-util":"fCYj"}],"YKbV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=a(require("./layer-renderer")),t=n(require("loglevel"));function r(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return r=function(){return e},e}function n(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=r();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}function a(e){return e&&e.__esModule?e:{default:e}}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t,r){return t&&c(e.prototype,t),r&&c(e,r),e}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=y();return function(){var r,n=m(e);if(t){var a=m(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return p(this,r)}}function p(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=function(r){u(a,e.default);var n=f(a);function a(){return o(this,a),n.apply(this,arguments)}return s(a,[{key:"render",value:function(e,t,r){var n=this;if(e.params.maskLayers&&e.params.maskLayers.length>0){r.clipPath&&delete r.clipPath;var a=[];return r.forEachObject(function(i){i._layer&&-1!==e.params.maskLayers.indexOf(i._layer.name)&&a.push(n._getClipPath(e,t,r,i).then(function(e){e?i.clipPath=e:delete i.clipPath}))}),Promise.all(a)}return this._getClipPath(e,t,r).then(function(n){return n?(t.mask=!0,r.clipPath=n,e._object=n):(delete r.clipPath,delete e._object),n})}},{key:"_getClipPath",value:function(e,r,n,a){var i=this._getOptions(e,r),o=null;if(e.params.shape)switch(e.params.shape){case"circle":if(e._object&&"circle"!==e._object.type&&delete e._object,o=e._object||new fabric.Circle,e.params.radius)i.radius=e.params.radius;else if(!e.params.maskLayers||0===e.params.maskLayers.length){var c=r.config.width;i.radius=c/2}a&&(e.params.radius||(i.radius=a.width/2),i.left=-i.radius,i.top=-i.radius),o.setOptions(i);break;case"triangle":e._object&&"triangle"!==e._object.type&&delete e._object,o=e._object||new fabric.Triangle,e.params.maskLayers&&0!==e.params.maskLayers.length||(i.width=r.config.width,i.height=r.config.height),a&&(i.width=a.width,i.height=a.height,i.left=-i.width/2,i.top=-i.height/2),o.setOptions(i);break;case"svg":if(e.params.url){return(a&&a.clipPath&&a.clipPath._url===e.params.url?Promise.resolve(a.clipPath):n.clipPath&&n.clipPath._url===e.params.url?Promise.resolve(n.clipPath):new Promise(function(r,n){fabric.loadSVGFromURL(e.params.url,function(n,a){if(n){var i=fabric.util.groupSVGElements(n,a);r(i)}else t.warn("svg mask not found",e.params.url),r(null)})})).then(function(t){if(t){i._url=e.params.url,i.width=t.width,i.height=t.height;var n=e.params.padding||3;if(e.params.maskLayers&&0!==e.params.maskLayers.length?a&&(i.scaleX=(a.width-n)/t.width,i.scaleY=(a.height-n)/t.height):(i.scaleX=(r.config.width-n)/t.width,i.scaleY=(r.config.height-n)/t.height),e.params.ratio||!0){var o=Math.min(i.scaleX,i.scaleY);i.scaleX=o,i.scaleY=o}a&&(i.left=-t.width*i.scaleX/2,i.top=-t.height*i.scaleY/2),t.setOptions(i)}return t})}t.warn("svg mask missing url",e)}return Promise.resolve(o)}}]),a}(),b=d;exports.default=b;
},{"./layer-renderer":"wIMs","loglevel":"ohSP"}],"CzOF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=o(require("./overlay-renderer")),e=n(require("loglevel"));function r(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return r=function(){return t},t}function n(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=r();if(e&&e.has(t))return e.get(t);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in t)if(Object.prototype.hasOwnProperty.call(t,u)){var i=o?Object.getOwnPropertyDescriptor(t,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,i):n[u]=t[u]}return n.default=t,e&&e.set(t,n),n}function o(t){return t&&t.__esModule?t:{default:t}}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e,r){return e&&f(t.prototype,e),r&&f(t,r),t}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=d();return function(){var r,n=v(t);if(e){var o=v(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return p(this,r)}}function p(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?y(t):e}function y(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var b=function(r){c(o,t.default);var n=s(o);function o(){return i(this,o),n.apply(this,arguments)}return a(o,[{key:"_findProductUrl",value:function(t,e){var r=e.product;if(t.params.imgPos){var n=parseInt(t.params.imgPos);if(!isNaN(n)&&r.images.length>n-1)return r.images[n-1]}if(t.params.variant&&e.variantId)for(var o=0;o<e.product.variants.length;o++){var u=e.product.variants[o];if(u.id.toString()===e.variantId.toString()){if(u.featured_image&&u.featured_image.src)return u.featured_image.src;break}}return r.featured_image}},{key:"_getImage",value:function(t,r,n){if(r.product){var o=this._findProductUrl(t,r);if(o)return t._object&&t._url===o?Promise.resolve(t._object):new Promise(function(r,n){fabric.Image.fromURL(o,function(n){void 0===n&&(e.warn("product url not found: ",o),r(null)),t._url=o,r(n)},{crossOrigin:"anonymous"})})}else e.warn("missing product in render context");return Promise.resolve(null)}}]),o}(),m=b;exports.default=m;
},{"./overlay-renderer":"Li6q","loglevel":"ohSP"}],"km6Y":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=u(require("./overlay-renderer")),t=o(require("loglevel")),r=u(require("./render-util"));function n(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return n=function(){return e},e}function o(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=n();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var i=o?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(r,u,i):r[u]=e[u]}return r.default=e,t&&t.set(e,r),r}function u(e){return e&&e.__esModule?e:{default:e}}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t,r){return t&&c(e.prototype,t),r&&c(e,r),e}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=d();return function(){var r,n=v(e);if(t){var o=v(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return y(this,r)}}function y(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?b(e):t}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=function(n){a(u,e.default);var o=s(u);function u(){return f(this,u),o.apply(this,arguments)}return l(u,[{key:"_getImage",value:function(e,n,o){if(e.params.option){var u=r.default.getProductOption(e.params.option,n.options);if(u){if(u._layer=e,u.value){var i=u.value;if(u.params.multiple||-1!==i.indexOf(",")){var f=i.split(","),c=e.params.fileIndex||f.length;if(c-=1,!(f.length>c))return Promise.resolve(null);i=f[c]}return e._object&&e._url===i?Promise.resolve(e._object):new Promise(function(r,n){e._interactive&&(delete e._interactive,delete e._interactiveScaled),fabric.Image.fromURL(i,function(n){void 0===n&&(t.warn("upload url not found: ",i),r(null)),e._url=i,r(n)},{crossOrigin:"anonymous"})})}}else t.warn("no upload option found for layer",e)}else t.warn("missing option for layer",e);return Promise.resolve(null)}}]),u}(),_=m;exports.default=_;
},{"./overlay-renderer":"Li6q","loglevel":"ohSP","./render-util":"fCYj"}],"P0y1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=u(require("./overlay-renderer")),t=u(require("../resource-loader")),r=i(require("loglevel")),n=u(require("./render-util"));function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}function i(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var u=n?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(r,i,u):r[i]=e[i]}return r.default=e,t&&t.set(e,r),r}function u(e){return e&&e.__esModule?e:{default:e}}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t,r){return t&&f(e.prototype,t),r&&f(e,r),e}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=b();return function(){var r,n=_(e);if(t){var o=_(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return y(this,r)}}function y(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?v(e):t}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=function(o){s(u,e.default);var i=d(u);function u(){return a(this,u),i.apply(this,arguments)}return l(u,[{key:"_getImage",value:function(e,o,i){var u=e.params.text||"";if(e.params.option){var c=n.default.getProductOption(e.params.option,o.options);c&&c.value&&(u=c.value)}if(u){var a=r.getLevel();if(a<=r.levels.DEBUG&&console.time("====> QR RENDER"),e._object&&e._qrText===u)return a<=r.levels.DEBUG&&console.timeEnd("====> QR RENDER"),Promise.resolve(e._object);var f=[o.assets+"/static/lib/easyqrcodejs/easy.qrcode.min.js"];return t.default.loadOnce(f,"qrcode",{async:!1}).then(function(){return new Promise(function(t,n){var i=function(n,o){a<=r.levels.DEBUG&&console.timeEnd("====> QR RENDER"),fabric.Image.fromURL(o,function(n){if(void 0===n)return r.warn("qr image invalid"),void t(null);e._qrText=u,t(n)})};if(e._qrDiv||(e._qrDiv=document.createElement("div")),o.editorMode&&e._qrCode&&(e._qrCode.clear(),delete e._qrCode),e._qrCode)e._qrCode._htOption.onRenderingEnd=i,e._qrCode._oDrawing._htOption.onRenderingEnd=i,e._qrCode.makeCode(u);else{var c=Math.min(o.config.width/2,1e3),f={text:u,width:c,height:c,onRenderingEnd:i};e.params.url&&(f.logo=e.params.url,f.crossOrigin="anonymous"),e._qrCode=new QRCode(e._qrDiv,f)}})})}return Promise.resolve(null)}}]),u}(),g=m;exports.default=g;
},{"./overlay-renderer":"Li6q","../resource-loader":"U86w","loglevel":"ohSP","./render-util":"fCYj"}],"izQH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=a(require("./overlay-renderer")),r=a(require("./text-renderer")),n=a(require("./mask-renderer")),d=a(require("./product-renderer")),t=a(require("./upload-renderer")),u=a(require("./qrcode-renderer"));function a(e){return e&&e.__esModule?e:{default:e}}function o(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}var s=function e(){o(this,e)};s.renderers={},s.renderers.overlay=new e.default,s.renderers.text=new r.default,s.renderers.mask=new n.default,s.renderers.product=new d.default,s.renderers.upload=new t.default,s.renderers.qrcode=new u.default;var l=s;exports.default=l;
},{"./overlay-renderer":"Li6q","./text-renderer":"qA57","./mask-renderer":"YKbV","./product-renderer":"CzOF","./upload-renderer":"km6Y","./qrcode-renderer":"P0y1"}],"wweK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=f(require("./util")),t=f(require("./translate")),i=u(require("loglevel")),r=f(require("./shopify-store")),n=require("lit-html"),a=f(require("./font-loader")),s=f(require("blueimp-canvas-to-blob")),o=f(require("./template/product-preview.template")),l=f(require("./conditions-engine")),c=f(require("./renderer/render-util")),d=f(require("./renderer/renderer-registry")),h=f(require("./resource-loader"));function v(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return v=function(){return e},e}function u(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=v();if(t&&t.has(e))return t.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=r?Object.getOwnPropertyDescriptor(e,n):null;a&&(a.get||a.set)?Object.defineProperty(i,n,a):i[n]=e[n]}return i.default=e,t&&t.set(e,i),i}function f(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t,i){return t&&p(e.prototype,t),i&&p(e,i),e}var y=function(){function t(n,a,s,o){var l=this;g(this,t);var d={api:"https://api.cloudlift.app",assets:"https://assets.cloudlift.app",queryParams:{},selector:".cl-preview",position:"",classNamePrefix:"cl-po",product:{},variantId:null,editorMode:!1,editLayer:c.default.editLayer};this.config=n,this.settings=e.default.extend(d,o||{}),this.visible={},this.visibleEditor={},this.shopifyStore=r.default.getInstance(),this._productForm=a,this.conditionsEngine=s,null!==this.settings.selector&&(e.default.isElement(this.settings.selector)?this.element=this.settings.selector:this.element=document.querySelector(this.settings.selector)),null!=this.element?(i.info("--\x3e new product-preview: ",this.element),this.resources=[this.settings.assets+"/static/lib/fabricjs/fabric.min.js"],this.ready=h.default.loadOnce(this.resources,"product-preview",{async:!1}),this.ready.then(function(){return l._init()})):i.warn("no elements with selector found: ",this.settings.selector)}return _(t,[{key:"destroy",value:function(){this.element.removeChild(this._wrapper)}},{key:"render",value:function(){(0,n.render)((0,o.default)(this.settings.product,{uuid:this.config.uuid}),this._wrapper)}},{key:"renderPreview",value:function(){var e=this;return null==this._renderQueue&&(this._renderQueue=Promise.resolve()),this._renderQueue=this._renderQueue.then(function(){return e._loadUsedFonts()}).then(function(){return function(){var t=i.getLevel();t<=i.levels.DEBUG&&console.time("====> RENDER PREVIEW");var r={config:e.config.previewConfig,options:e.config.options,product:e.settings.product,assets:e.settings.assets,productForm:e._productForm,variantId:e.settings.variantId,editorMode:e.settings.editorMode,editLayer:e.settings.editLayer,mask:!1},n=null;if(!e.static){var a=e._canvas.getActiveObject();e._canvas.discardActiveObject(),a&&(n=a._layer)}return e._rotateGroup&&e._rotateGroup.forEachObject(function(t){e._rotateGroup.remove(t)}),e._canvas.clear(),e._renderLayers(e.config.previewConfig.layers,r).then(function(){e._canvas.clipPath&&!r.mask&&delete e._canvas.clipPath,n?e.selectLayer(n.name,!1):c.default.hasEditLayer(e.settings.editorMode,e.settings.editLayer)&&e.selectLayer(e.settings.editLayer,!1),void 0!==r.canvasRotate&&(e._rotateGroup=new fabric.Group(e._canvas.getObjects()),e._rotateGroup.rotate(r.canvasRotate),e._rotateGroup.setCoords()),e._canvas.renderAll(),e._responsiveCanvasHeight(),t<=i.levels.DEBUG&&console.timeEnd("====> RENDER PREVIEW"),e._triggerEvent("preview:rendered",e)})}()}),this._renderQueue}},{key:"export",value:function(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"jpeg",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:.8;if(this._canvas){var l=i.getLevel();l<=i.levels.DEBUG&&console.time("====> EXPORT PREVIEW");var c=!1,d=!1;if(this._canvas.forEachObject(function(e){e.visible&&e._layer&&(!0===e._layer.params[n]?(e.visible=!1,e._visible=!0,d=!0):c||"product"===e._layer.type||(c=!0))}),!c&&!d)return i.debug("==> no layers except product - skipping export"),null;this._canvas.renderAll();var h={multiplier:e.width/this._canvas.getWidth(),format:a,quality:o};t&&(h.left=t.x/h.multiplier,h.top=t.y/h.multiplier,h.width=t.width/h.multiplier,h.height=t.height/h.multiplier);var v,u=this._canvas.toDataURL(h);return v=r?(0,s.default)(u):u,d&&(this._canvas.forEachObject(function(e){e._visible&&(e.visible=!0,delete e._visible)}),this._canvas.renderAll()),l<=i.levels.DEBUG&&console.timeEnd("====> EXPORT PREVIEW"),v}return null}},{key:"clear",value:function(){this._canvas&&this._canvas.clear()}},{key:"updateConfig",value:function(e){var t=!1;return this.config.previewConfig.width===e.width&&this.config.previewConfig.height===e.height||(t=!0),this.config.previewConfig=e,t&&this._setDimensions(),this.renderPreview()}},{key:"selectLayer",value:function(e){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.config.previewConfig.layers,r=0;r<i.length;r++){var n=i[r];if(n.layers&&n.layers.length>0&&this.selectLayer(e,t,n.layers))return!0;if(n.name===e&&n._object)return c.default.isEditLayer(n,this.settings.editorMode,this.settings.editLayer)&&(this._canvas.preserveObjectStacking=!1,delete n._interactive),this._canvas.setActiveObject(n._object),t&&this._canvas.renderAll(),!0}return!1}},{key:"deSelect",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._canvas.discardActiveObject(),this.settings.editorMode&&!this._canvas.preserveObjectStacking&&(this._canvas.preserveObjectStacking=!0),e&&this._canvas.renderAll()}},{key:"_init",value:function(){var e=this;this._wrapper=document.createElement("div"),this._wrapper.className=this.settings.classNamePrefix+"--preview-wrapper",this._wrapper.setAttribute("id",this.config.uuid+"_preview"),this._wrapper.style.width="100%",this.settings.position?(this.element.insertAdjacentElement(this.settings.position,this._wrapper),this.element!==this._wrapper.parentNode&&(this.element=this._wrapper.parentNode)):this.element.appendChild(this._wrapper),this.render(),this._preview=this._wrapper.querySelector("."+this.settings.classNamePrefix+"--preview"),this._preview.classList.add("cl-hide");var t=this._wrapper.querySelector("."+this.settings.classNamePrefix+"--canvas");this.static=this._isStatic(),fabric.devicePixelRatio<2&&(fabric.devicePixelRatio=2),window.clPreviewRatio&&(fabric.devicePixelRatio=parseInt(window.clPreviewRatio)),this.static?this._canvas=new fabric.StaticCanvas(t):(this._canvas=new fabric.Canvas(t,{selection:!1,preserveObjectStacking:!0}),this._subscribeCanvasEvents()),this._setDimensions(),this.renderPreview().then(function(){e._watchWindowResize(),e._watchFormChanges(),e._preview.classList.remove("cl-hide")}).catch(function(e){i.error("[live-options] failed render preview",e)})}},{key:"_setDimensions",value:function(){var t=this._canvas.getZoom();1!==t&&this._canvas.setZoom(1);var i=fabric.devicePixelRatio,r=this.config.previewConfig.width*this.config.previewConfig.height,n=window.clPreviewMaxRetina||9e6;i>1&&r>n&&e.default.isMobile(e.default.getAgent())&&(this._canvas.enableRetinaScaling=!1),this._canvas.setDimensions({width:this.config.previewConfig.width,height:this.config.previewConfig.height}),1!==t&&this._resizeCanvas()}},{key:"_renderLayers",value:function(e,t){for(var i=this,r=Promise.resolve(),n=function(n){var a=e[n];r=r.then(function(){return i._renderLayer(a,t)})},a=0;a<e.length;a++)n(a);return r}},{key:"_renderLayer",value:function(e,t){var r=!0;if(e.conditions&&e.conditions.length&&(r=this.conditionsEngine.evaluateConditions(e.conditions,l.default.MODE.AND,"layer.name="+e.name)),this.settings.editorMode&&this.visibleEditor.hasOwnProperty(e.name)&&(r=this.visibleEditor[e.name]),this.visible[e.name]=r,r){if(i.debug("rendering layer: ",e),e.layers&&e.layers.length>0)return this._renderLayers(e.layers,t);var n=d.default.renderers[e.type];if(n)return n.render(e,t,this._canvas)}return Promise.resolve()}},{key:"_loadUsedFonts",value:function(){for(var e=[],t=0;t<this.config.previewConfig.layers.length;t++){var i=this.config.previewConfig.layers[t];if("text"===i.type){if(i.params.fontFamily&&e.push(i.params.fontFamily),i.params.option&&i.params.textEditor){var r=c.default.getProductOption(i.params.option,this.config.options);r&&r._editor&&r._editor.fontFamily&&e.push(r._editor.fontFamily)}if(i.params.optionFont){var n=c.default.getProductOption(i.params.optionFont,this.config.options);n&&n.value&&e.push(n.value)}}}return e.length>0?a.default.loadFontsByName(e):Promise.resolve(!0)}},{key:"_isStatic",value:function(){if(this.settings.editorMode)return!1;for(var e=0;e<this.config.previewConfig.layers.length;e++){if(this.config.previewConfig.layers[e].params.interactive)return!1}return!0}},{key:"_watchFormChanges",value:function(){var e=this;this._productForm?(this._productForm.addEventListener("option:changed",function(t){return e._optionChanged(t)}),this._productForm.addEventListener("variant:changed",function(t){return e._variantChanged(t)})):i.warn("product-preview no productForm found for config: "+this.config.uuid)}},{key:"_subscribeCanvasEvents",value:function(){var t=this,r=i.getLevel();this._canvas.on("object:modified",function(n){var a=n.target;if(r<=i.levels.TRACE&&i.debug("object:modified",a),a._layer){var s=a._layer,o=s.params;o.x=Math.round(a.left),o.y=Math.round(a.top),r<=i.levels.TRACE&&i.debug("=> layer x,y = ",o.x,o.y),o.scaleX=parseFloat(a.scaleX.toFixed(2)),o.scaleY=parseFloat(a.scaleY.toFixed(2)),0!==a.angle&&(o.angle=Math.round(n.target.angle)),s._editor&&(e.default.merge(s._editor,s.params,["x","y","scaleX","scaleY","angle"]),t._productForm&&t._productForm.dispatchEvent(new CustomEvent("options:render",{detail:null,cancelable:!0,bubbles:!0}))),t._triggerEvent("layer:changed",s)}else if(a._layerRef){var l=a._layerRef.params;l.refX=Math.round(a.left),l.refY=Math.round(a.top),l.refWidth=Math.round(a.getScaledWidth()),l.refHeight=Math.round(a.getScaledHeight()),i.debug("updated layer rectRef params",l),t._triggerEvent("layer:changed",a._layerRef),t.renderPreview()}}),this._canvas.on("object:moving",function(e){var n=e.target;if(r<=i.levels.TRACE&&i.debug("object:moving",n),n._layer){var a=n._layer,s=a.params;if(s.interactive&&!c.default.isEditLayer(a,t.settings.editorMode,t.settings.editLayer)){a._interactive=!0;var o={x:0,y:0},l={x:t.config.previewConfig.width,y:t.config.previewConfig.height},d={width:t.config.previewConfig.width,height:t.config.previewConfig.height};c.default.hasRefRect(a)&&(o.x=s.refX,o.y=s.refY,l.x=s.refX+s.refWidth,l.y=s.refY+s.refHeight,d.width=s.refWidth,d.height=s.refHeight);var h=n.getBoundingRect(!0,!0);if(r<=i.levels.TRACE&&i.debug("boundingRect = ",h),s.interactiveBox)s.autoScaleOverlay?(o.x-=h.width-d.width,o.y-=h.height-d.height,l.x-=d.width,l.y-=d.height):(l.x-=h.width,l.y-=h.height);else{var v=50/t._canvas.getZoom();o.x-=h.width-v,o.y-=h.height-v,l.x-=v,l.y-=v}h.left<o.x?(n.left=o.x,r<=i.levels.TRACE&&i.debug("=> reset object.left  = ",n.left)):h.left>l.x&&(n.left=l.x,r<=i.levels.TRACE&&i.debug("=> reset object.left  = ",n.left)),h.top<o.y?(n.top=o.y,r<=i.levels.TRACE&&i.debug("=> reset object.top  = ",n.left)):h.top>l.y&&(n.top=l.y,r<=i.levels.TRACE&&i.debug("=> reset object.top  = ",n.left))}}});var n=function(e){var n=e.target;if(r<=i.levels.TRACE&&i.debug("object:scaling",n),n._layer){var a=n._layer,s=a.params;if(s.interactive&&s.interactiveBox&&!c.default.isEditLayer(a,t.settings.editorMode,t.settings.editLayer)){a._interactive=!0,a._interactiveScaled=!0;var o={x:0,y:0},l={x:t.config.previewConfig.width,y:t.config.previewConfig.height};c.default.hasRefRect(a)&&(o.x=s.refX,o.y=s.refY,l.x=s.refX+s.refWidth,l.y=s.refY+s.refHeight);var d=n.getBoundingRect(!0,!0);r<=i.levels.TRACE&&i.debug("boundingRect = ",d);var h=null;if(e.transform.corner&&("tr"==e.transform.corner?(o.x-=20,l.y+=20):"tl"==e.transform.corner?(l.x+=20,l.y+=20):"br"==e.transform.corner?(o.x-=20,o.y-=20):"bl"==e.transform.corner&&(l.x+=20,o.y-=20)),Math.floor(d.left)<o.x)h=(n.aCoords.tr.x-o.x)/n.width,n.left=o.x;else if(Math.floor(d.left+d.width)>l.x){var v=l.x-d.left;h=v/n.width,n.left=l.x-v}if(Math.floor(d.top)<o.y)h=(n.aCoords.br.y-o.y)/n.height,n.top=o.y;else if(Math.floor(d.top+d.height)>l.y){var u=l.y-d.top;h=u/n.height,n.top=l.y-u}null!=h&&(n.scaleX=h,n.scaleY=h,n.setCoords(),t._canvas.requestRenderAll(),r<=i.levels.TRACE&&i.debug("=> reset object.scale  = ",h))}}};this._canvas.on("object:scaling",n),this._canvas.on("object:scaled",n),this._canvas.on("selection:created",function(e){var n=e.selected?e.selected[0]:null;r<=i.levels.TRACE&&i.debug("selection:created",n),n._layer?t._triggerEvent("layer:selected",n._layer):n._layerRef&&t._triggerEvent("layer:selected",n._layerRef)}),this._canvas.on("selection:updated",function(e){var n=e.selected?e.selected[0]:null;r<=i.levels.TRACE&&i.debug("selection:updated",n),n._layer?t._triggerEvent("layer:selected",n._layer):n._layerRef&&t._triggerEvent("layer:selected",n._layerRef)}),this._canvas.on("selection:cleared",function(e){r<=i.levels.TRACE&&i.debug("selection:cleared")})}},{key:"_variantChanged",value:function(e){this.settings.variantId=e.detail.variantId,this._clearVisibleEditor(),this.renderPreview()}},{key:"_optionChanged",value:function(e){var t=this,i=e.detail;this._clearVisibleEditor(),this.renderPreview().then(function(){t.static||i._layer&&i._layer.params.interactive&&t.selectLayer(i._layer.name,!1)})}},{key:"_clearVisibleEditor",value:function(){this.settings.editorMode&&(this.visibleEditor={})}},{key:"_optionLayerUpdate",value:function(e){var t=this;if(e._layer&&e._layer._object){var i=this._canvas.getObjects().indexOf(e._layer._object);return this._canvas.remove(e._layer._object),this._renderLayer(e._layer).then(function(e){t._canvas.moveTo(e,i)})}}},{key:"_watchWindowResize",value:function(){var t=this,i=e.default.debounced(200,function(e){t._resizeCanvas()});this._resizeCanvas(),window.addEventListener("resize",i)}},{key:"_getContainerWidth",value:function(){for(var t=this._wrapper.offsetWidth,i=this._wrapper;0===t&&i.parentNode;)(i=i.parentNode).offsetWidth>0&&(t=e.default.findInnerDimensions(i).width);return t}},{key:"_responsiveCanvasHeight",value:function(){var e=0;this._canvas.forEachObject(function(t){if(t.visible&&t._layer&&t._layer.params.responsive){var i=t.getBoundingRect(),r=i.top+i.height;r>e&&(e=r)}});var t=this.config.previewConfig.height*this._canvas.getZoom();e>0&&e<t?this._canvas.setHeight(e):this._canvas.setHeight(t)}},{key:"_resizeCanvas",value:function(){var e=this._canvas.getWidth()/this._canvas.getHeight(),t=this._getContainerWidth(),i=t/this._canvas.getWidth(),r=this._canvas.getZoom()*i;1!==r&&(this._canvas.setDimensions({width:t,height:t/e}),this._canvas.setZoom(r))}},{key:"_triggerEvent",value:function(e,t){var i=new CustomEvent(e,{detail:t,cancelable:!0,bubbles:!0});this.element.dispatchEvent(i)}}]),t}(),m=y;exports.default=m;
},{"./util":"zY0S","./translate":"IkY8","loglevel":"ohSP","./shopify-store":"cEki","lit-html":"KMqM","./font-loader":"G9B6","blueimp-canvas-to-blob":"XKb4","./template/product-preview.template":"K90H","./conditions-engine":"Uk2d","./renderer/render-util":"fCYj","./renderer/renderer-registry":"izQH","./resource-loader":"U86w"}],"Qfvf":[function(require,module,exports) {
"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=function(){function t(){e(this,t)}return r(t,null,[{key:"generateId",value:function(){return Date.now().toString()}},{key:"getItem",value:function(e){return t.storage.hasOwnProperty(e)||(t.storage[e]=t.parseItem(e)),t.storage[e]}},{key:"storeItem",value:function(e,r){t.storage[e]=r,window.localStorage&&localStorage.setItem(t.keyPrefix+e,JSON.stringify(r))}},{key:"parseItem",value:function(e){if(window.localStorage){var r=localStorage.getItem(t.keyPrefix+e);if(r)return JSON.parse(r)}return{}}}]),t}();n.storage={},n.keyPrefix="cl_";var o=n;exports.default=o;
},{}],"nk7O":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("./util")),e=require("./const"),n=a(require("loglevel"));function i(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return i=function(){return t},t}function a(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=i();if(e&&e.has(t))return e.get(t);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var o=a?Object.getOwnPropertyDescriptor(t,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=t[r]}return n.default=t,e&&e.set(t,n),n}function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function l(t,e,n){return e&&s(t.prototype,e),n&&s(t,n),t}var u=function(){function n(e,i,a){o(this,n);this.settings=t.default.extend({product:{},variant:{},editorMode:!1},a||{}),this.config=e,this._productForm=i,this._init()}return l(n,[{key:"_init",value:function(){for(var n=this,i=[],a=function(a){for(var r=n.settings.product.options[a],o={name:r.name,label:r.name,type:"select",id:"option_"+n.settings.product.id+"_"+r.name,params:{name:r.name},visible:!0,values:[],_variantOption:r,_themeEl:null},s=0;s<n.config.variantOptions.length;s++){var l=n.config.variantOptions[s];if(l.name===r.name){t.default.merge(o,l);break}}n.settings.variant.id?o.value=n.settings.variant["option"+r.position]:o.value=r.values[0];for(var u=o.values.length>0,v=[],f=0;f<r.values.length;f++){var p=r.values[f],h=null;if(u)for(var c=0;c<o.values.length;c++){var d=o.values[c];if(d&&d.value===p){h=d;break}}h||(h={text:p,value:p}),v.push(h)}if(o.values=v,i.push(o),!n.settings.editorMode){if(o._themeEl=n._productForm.querySelector('[data-live-variant-option="'+r.position+'"]'),!o._themeEl){for(var g=n._productForm.querySelectorAll("select"),m=function(t){if(t.length===r.values.length){for(var e=0;e<t.length;e++){var n=t[e];if(-1===r.values.indexOf(n))return!1}return!0}return!1},_=0;_<g.length;_++){var y=g[_];if(y.dataset.index&&-1!==y.dataset.index.indexOf(r.position.toString())){o._themeEl=y;break}for(var O=[],b=y.querySelectorAll("option"),E=0;E<b.length;E++){var k=b[E];O.push(k.value)}if(m(O)){o._themeEl=y;break}}if(!o._themeEl)for(var x=n._productForm.querySelectorAll("input[type=radio]"),w=[],S=0;S<x.length;S++){var q=x[S];if(-1===w.indexOf(q.name)){w.push(q.name);var j=n._productForm.querySelectorAll('input[name="'+q.name+'"]');if(q.dataset.index&&-1!==q.dataset.index.indexOf(r.position.toString())){o._themeEl=j;break}for(var F=[],P=0;P<j.length;P++){var V=j[P];F.push(V.value)}if(m(F)){o._themeEl=j;break}}}}if(o._themeEl&&e.ThemeConfig.productVariantHide){var M=o._themeEl;t.default.isNodeList(o._themeEl)&&(M=M[0]);var C=M;if(M.parentNode!==n._productForm)for(C=M.parentNode;C!==n._productForm&&-1===C.textContent.indexOf(r.name);)C=C.parentNode;C.style.display="none"}var N=n._productForm.querySelector("[data-live-variant-options]");null!=N&&(N.style.display="none")}},r=0;r<this.settings.product.options.length;r++)a(r);this.config.variantOptions=i}},{key:"syncVariantChanges",value:function(e){if(e._themeEl)if(t.default.isNodeList(e._themeEl))for(var n=0;n<e._themeEl.length;n++){var i=e._themeEl[n];i.value==e.value&&(i.checked=!0,i.dispatchEvent(new Event("change",{bubbles:!0})))}else if("SELECT"===e._themeEl.tagName){for(var a=0;a<e._themeEl.options.length;a++){if(e._themeEl.options[a].value==e.value){e._themeEl.selectedIndex=a;break}}e._themeEl.dispatchEvent(new Event("change",{bubbles:!0}))}}},{key:"syncAllVariantOptions",value:function(){for(var t=0;t<this.config.variantOptions.length;t++){var e=this.config.variantOptions[t];this.syncVariantChanges(e)}}},{key:"findSelectedVariant",value:function(){this.settings.variant=null;for(var t=0;t<this.settings.product.variants.length;t++){for(var e=this.settings.product.variants[t],n=!0,i=0;i<this.config.variantOptions.length;i++){var a=this.config.variantOptions[i];if(e["option"+a._variantOption.position]!=a.value){n=!1;break}}if(n){this.settings.variant=e;break}}return this.settings.variant}},{key:"resetVariant",value:function(){this.settings.variant=this.settings.product.variants[0];for(var t=0;t<this.config.variantOptions.length;t++){var e=this.config.variantOptions[t],n="option"+e._variantOption.position;e.value=this.settings.variant[n]}}},{key:"filterVariantValues",value:function(){var t={};if(this.config.variantOptions.length>1)for(var e=0;e<this.config.variantOptions.length;e++){var n=this.config.variantOptions[e],i="option"+n._variantOption.position;if(e>0){for(var a=n._values||n.values,r=[],o=0;o<a.length;o++){for(var s=a[o],l=!1,u=0;u<this.settings.product.variants.length;u++){var v=this.settings.product.variants[u],f=!0;for(var p in t)if(t.hasOwnProperty(p)&&t[p]!==v[p]){f=!1;break}if(f&&v[i]===s.value){l=!0;break}}l&&r.push(s)}a.length!==r.length&&(n._values=a,n.values=r)}t[i]=n.value}}}]),n}(),v=u;exports.default=v;
},{"./util":"zY0S","./const":"QqYi","loglevel":"ohSP"}],"RI7z":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=_(require("./util")),e=_(require("./translate")),i=m(require("loglevel")),r=_(require("./shopify-store")),n=require("lit-html"),o=_(require("tippy.js"));require("tippy.js/dist/tippy.css"),require("./style/style.css");var s=_(require("./template/product-options.template")),a=_(require("./product-preview")),l=_(require("./conditions-engine")),p=_(require("./upload/upload")),h=_(require("./shopify-cart")),u=require("./const"),c=require("@shopify/theme-currency"),d=_(require("./cart-options-price")),f=_(require("./product-variant-options")),v=_(require("./resource-loader"));function g(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return g=function(){return t},t}function m(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=g();if(e&&e.has(t))return e.get(t);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var o=r?Object.getOwnPropertyDescriptor(t,n):null;o&&(o.get||o.set)?Object.defineProperty(i,n,o):i[n]=t[n]}return i.default=t,e&&e.set(t,i),i}function _(t){return t&&t.__esModule?t:{default:t}}function y(t){return I(t)||b(t)||C(t)||w()}function w(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function C(t,e){if(t){if("string"==typeof t)return P(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?P(t,e):void 0}}function b(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function I(t){if(Array.isArray(t))return P(t)}function P(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function O(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function V(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function E(t,e,i){return e&&V(t.prototype,e),i&&V(t,i),t}var F=function(){function g(e,n){O(this,g);this.config=e,this.settings=t.default.extend({api:"https://api.cloudlift.app",assets:"https://assets.cloudlift.app",queryParams:{},selector:".cl-options",position:"",selectorPreview:".cl-preview",positionPreview:"",selectorForm:'form[action*="/cart/add"]',classNamePrefix:"cl-po",product:{},priceDraft:!0,priceVariantId:"",priceVariantValue:.01,errorPrefix:"product.options.validity.",editorMode:!1,visible:{},visibleEditor:{}},n||{}),this.visible={},this.visibleEditor={},this.shopifyStore=r.default.getInstance(),this.shopifyCart=h.default.getInstance(),this.conditionsEngine=new l.default({},{product:this.settings.product,options:this.config.options}),this._upload=p.default.getInstance({api:this.settings.api,queryParams:this.settings.queryParams}),this.errors=[],this.price={options:{},total:0,variants:[],variantTotal:0},t.default.isElement(this.settings.selector)?this.element=this.settings.selector:this.element=document.querySelector(this.settings.selector),null!=this.element?(i.info("--\x3e new product-options: ",this.element),this._init()):i.warn("no elements with selector found: ",this.settings.selector)}return E(g,[{key:"destroy",value:function(){this.removeCss(),this.element.removeChild(this._wrapper),this._preview&&this._preview.destroy()}},{key:"updateVariantOptions",value:function(t){this.config.variantOptions=t,this._variantOptions&&(this._variantOptions.settings.variant=this._getVariantById(this._variantId),this._variantOptions._init())}},{key:"updateOptions",value:function(t){var e,i,r,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];n&&(i=this.getValues()),o&&(r=this._getControllers()),this.config.options.length=0,(e=this.config.options).push.apply(e,y(t)),this._generateOptionIds(this.config.options,"option_"+this.settings.product.id+"_"),n&&this.setValues(i),o&&this._setControllers(r),this._destroyTooltips(),this.render()}},{key:"updatePreview",value:function(t){this.config.preview=!0,this._preview?this._preview.updateConfig(t):(this.config.previewConfig=t,this._initPreview())}},{key:"updateCss",value:function(e){this.removeCss(),this._style=t.default.addStyleElement(e,this.settings.styleSelector)}},{key:"removeCss",value:function(){this._style&&this._style.parentNode.removeChild(this._style)}},{key:"validate",value:function(){this.errors.length=0;var t=this._validateOptions(this.config.options);return i.debug("validated product-options: ",this.config,t),this.render(),t}},{key:"render",value:function(){this._evaluateOptionConditions(this.config.options),this._evaluateOptionPrice(this.config.options);var t=[];this._variantIdOption&&t.push(this._variantIdOption),this._variantOptions&&this.config.variantOptions.length&&t.push.apply(t,y(this.config.variantOptions)),t.push.apply(t,y(this.config.options)),(0,n.render)((0,s.default)(t,{uuid:this.config.uuid,errors:this.errors,editorMode:this.settings.editorMode,price:this.price,product:this.settings.product,productForm:this._productForm,assets:this.settings.assets},this._optionValueChanged.bind(this),this._clearOptionError.bind(this),this.validate.bind(this)),this._wrapper),this._triggerEvent("options:rendered",this),this._initTooltips()}},{key:"getValues",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.config.options,i=0;i<e.length;i++){var r=e[i];r.options&&r.options.length?this.getValues(t,r.options):t[r.name]=r.value}return t}},{key:"setValues",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.config.options,i=0;i<e.length;i++){var r=e[i];if(r.options&&r.options.length)this.setValues(t,r.options);else if(t.hasOwnProperty(r.name))r.value=t[r.name];else if("upload-lift"===r.type){var n=[];for(var o in t)t.hasOwnProperty(o)&&-1!==o.indexOf(r.name+"_")&&n.push(t[o]);n.length&&(r.value=n.join(","))}}}},{key:"_init",value:function(){var e=this;this.config.css&&this.updateCss(this.config.css),this._wrapper=document.createElement("div"),this._wrapper.className=this.settings.classNamePrefix+"--wrapper",this._wrapper.setAttribute("id",this.config.uuid),this.settings.position?(this.element.insertAdjacentElement(this.settings.position,this._wrapper),this.element!==this._wrapper.parentNode&&(this.element=this._wrapper.parentNode)):this.element.appendChild(this._wrapper),this._generateOptionIds(this.config.options,"option_"+this.settings.product.id+"_"),u.ThemeConfig.productOptionsClear&&(this._optionValuesClear=this.getValues()),this._findProductForm()?(this._productForm.noValidate=!0,this._productForm.addEventListener("options:render",function(t){return e.render()}),this._watchFormSubmit(),this._watchVariantChanges(),this.config.preview&&this._initPreview(),t.default.hasQueryParam(window.location.href,"item")&&this._restoreCartItem()):i.warn("product-options no product form found for element: ",this.element,this.config)}},{key:"_initPreview",value:function(){this._preview=new a.default(this.config,this._productForm,this.conditionsEngine,{api:this.settings.api,assets:this.settings.assets,selector:this.settings.selectorPreview,position:this.settings.positionPreview,product:this.settings.product,variantId:this._variantId,editorMode:this.settings.editorMode})}},{key:"_validateOptions",value:function(r){for(var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=!0,s=0;s<r.length;s++){var a=r[s];if(a.visible)if(a.options&&a.options.length)this._validateOptions(a.options,n)||(o=!1);else if(a._controller&&"function"==typeof a._controller.onValidate){a.errors=[],a._controller.onValidate(a)||(o=!1)}else{var l=this.element.querySelector("#".concat(a.id));if(null==l&&(l=this.element.querySelector("#".concat(a.id,"-0"))),null!=l&&!l.checkValidity()){if(o=!1,n||!l.scrollIntoView||t.default.isScrolledIntoView(l)||(l.style.scrollMargin="50px",l.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"}),l.style.scrollMargin="",n=!0),a.errors=[],a.params.validationMsg){a.errors.push(a.params.validationMsg);continue}for(var p in l.validity)if(l.validity[p]){var h="";(h="tooLong"===p?e.default.get(this.settings.errorPrefix+p,{max:l.maxLength}):"tooShort"===p?e.default.get(this.settings.errorPrefix+p,{min:l.minLength}):"rangeOverflow"===p?e.default.get(this.settings.errorPrefix+p,{max:l.max}):"rangeUnderflow"===p?e.default.get(this.settings.errorPrefix+p,{min:l.min}):"patternMismatch"===p?e.default.get(this.settings.errorPrefix+p,{pattern:l.pattern}):e.default.get(this.settings.errorPrefix+p))&&(-1===h.indexOf(this.settings.errorPrefix)?a.errors.push(h):i.warn("missing translation for "+h))}}}}return o}},{key:"_findProductForm",value:function(){return this._productForm=t.default.findParent(this.element,this.settings.selectorForm),null!==this._productForm}},{key:"_initVariantOptions",value:function(){var t=this.shopifyStore.findProductFormVariantId(this._productForm);if(this.settings.product&&this.settings.product.variants&&(t||(t=this.settings.product.variants[0].id.toString()),this.config.variantOption&&this.settings.product.variants.length>1&&(this._variantOptions=new f.default(this.config,this._productForm,{product:this.settings.product,variant:this._getVariantById(t),editorMode:this.settings.editorMode}),u.ThemeConfig.productVariantFilter&&this._variantOptions.filterVariantValues()),this.settings.editorMode))if(this._variantIdOption={name:"id",id:"option_"+this.settings.product.id+"_id",value:t,params:{name:"id",info:"<b>Only shown in the App to test conditional options based on the selected variant.</b>"},visible:!0},1===this.settings.product.variants.length||this.config.variantOption)this._variantIdOption.type="hidden";else{this._variantIdOption.label="Variant",this._variantIdOption.type="select",this._variantIdOption.values=[];for(var e=0;e<this.settings.product.variants.length;e++){var i=this.settings.product.variants[e];this._variantIdOption.values.push({text:i.title,value:i.id.toString()})}}return t}},{key:"_watchVariantChanges",value:function(){var t=this,e=this._initVariantOptions();return this._onVariantChange(null,e),this._productForm.addEventListener("change",function(e){return t._onVariantChange(e)}),null!==this._variantId}},{key:"_onVariantChange",value:function(t,e){if(e||(e=this.shopifyStore.findProductFormVariantId(this._productForm)),e!==this._variantId){if(this._variantId=e,delete this.conditionsEngine.data.variant,this._variantId){var i=this._getVariantById(this._variantId);i&&(this.conditionsEngine.data.variant=i),this._clearVisibleEditor(),this._triggerEvent("variant:changed",{variantId:this._variantId})}this.render()}}},{key:"_getVariantById",value:function(t){if(this.settings.product.variants&&this.settings.product.variants.length>0)for(var e=0;e<this.settings.product.variants.length;e++){var i=this.settings.product.variants[e];if(i.id.toString()===t.toString())return i}return null}},{key:"_triggerEvent",value:function(t,e){var i=new CustomEvent(t,{detail:e,cancelable:!0,bubbles:!0});this.element.dispatchEvent(i)}},{key:"_optionValueChanged",value:function(t){t._variantOption&&this._variantOptions&&this._variantOptionValueChanged(t),this._clearVisibleEditor(),this._triggerEvent("option:changed",t),t.errors&&t.errors.length&&(t.errors.length=0),this.errors&&this.errors.length&&(this.errors.length=0),this.render()}},{key:"_variantOptionValueChanged",value:function(t){var e=this._variantOptions.findSelectedVariant();!e&&u.ThemeConfig.productVariantReset&&(this._variantOptions.resetVariant(),this._variantOptions.syncAllVariantOptions()),u.ThemeConfig.productVariantFilter&&this._variantOptions.filterVariantValues(),this._variantOptions.syncVariantChanges(t),this._variantIdOption&&e&&(this._variantIdOption.value=e.id.toString(),this._onVariantChange(null,this._variantIdOption.value))}},{key:"_clearVisibleEditor",value:function(){this.settings.editorMode&&(this.visibleEditor={})}},{key:"_clearOptionError",value:function(t,e,i){var r=e.errors.indexOf(i);r>-1&&e.errors.splice(r,1),this.errors&&(this.errors.length=0),this.render()}},{key:"_generateOptionIds",value:function(t,e){for(var i=0;i<t.length;i++){var r=t[i],n=r.name.replace(/^[^a-zA-Z]+|[^\w]+/g,"");r.id=e+n,r.options&&r.options.length&&this._generateOptionIds(r.options,e)}}},{key:"_evaluateOptionConditions",value:function(t){for(var e=0;e<t.length;e++){var i=t[e],r=!0;i.conditions&&i.conditions.length&&(r=this.conditionsEngine.evaluateConditions(i.conditions,l.default.MODE.AND,"option.name="+i.name)),this.settings.editorMode&&this.visibleEditor.hasOwnProperty(i.name)&&(r=this.visibleEditor[i.name]),this.visible[i.name]=r,i.visible=r,i.options&&i.options.length&&this._evaluateOptionConditions(i.options)}}},{key:"_evaluateOptionPrice",value:function(e){var i=this;if(this.price.options={},this.price.total=0,this.price.variants=[],this.price.variantTotal=0,this._evaluateOptionPriceTotal(e),0!==this.price.total||this._priceElList&&this._priceElList.length){var r=this._variantPrice;if(this._variantId){var n=this._getVariantById(this._variantId);n&&(r=n.price,this._variantPrice=r)}if(!isNaN(r)){if(this._priceElList&&this._priceElList.length)for(var o=0;o<this._priceElList.length;o++)if(!t.default.isInPage(this._priceElList[o])){delete this._priceElList;break}if((!this._priceElList||0===this._priceElList.length)&&(this._priceElList=document.querySelectorAll('[data-live-price="'+this.settings.product.id+'"]'),0===this._priceElList.length&&u.ThemeConfig.productPrice)){var s=(0,c.formatMoney)(r,this.shopifyStore.trimMoneyFormatAmount(u.ThemeCurrency.moneyFormat)),a=t.default.findElementContainsRegex("*",new RegExp("^.{0,50}".concat(s,".{0,50}$"),"s"));if(a.length){for(var l=null,p=-1,h=this.element.getBoundingClientRect(),d=0;d<a.length;d++){var f=a[d];if(!t.default.isHidden(f)&&!this.element.contains(f)){var v=f.getBoundingClientRect(),g=Math.abs(h.top-v.top)+Math.abs(h.left-v.left);(!l||l.contains(f)||g<p)&&(l=f,p=g)}}l&&(this._priceElList=[l])}}var m=function(){if(i._priceElList&&i._priceElList.length)for(var t=0;t<i._priceElList.length;t++){i._priceElList[t].innerHTML=(0,c.formatMoney)(r+100*i.price.total,u.ThemeCurrency.moneyFormat)}};m(),u.ThemeConfig.productPriceTimeout&&setTimeout(function(){return m()},1e3)}if(!this._paymentBtns&&(this._paymentBtns=this.shopifyStore.findExpressPaymentButtons(),this._paymentBtns.length))for(var _=0;_<this._paymentBtns.length;_++){this._paymentBtns[_].style.display="none"}}}},{key:"_evaluateOptionPriceTotal",value:function(t){for(var e=0;e<t.length;e++){var i=t[e];if(i.visible){if(i._label&&(i.label=i._label),i.value&&i.values)for(var r=0;r<i.values.length;r++){var n=i.values[r],o=n.value==i.value;if(!o&&"checkbox"===i.type&&i.values.length>1&&i.value&&"string"==typeof i.value&&-1!==i.value.indexOf(n.value)&&(o=!0),o&&(n.priceVariant&&(this.price.variants.push(n.priceVariant),this.price.variantTotal+=n.price),n.price)){var s=void 0;this.price.options.hasOwnProperty(i.name)?(s=this.price.options[i.name]).price+=n.price:s={option:i,price:n.price},this.price.total+=n.price,s.priceText=(0,c.formatMoney)(100*s.price,u.ThemeCurrency.moneyFormat),i.label&&i.params.labelPriceText&&(i._label||(i._label=i.label),i.label=i._label+'<span class="cl-po--price">&nbsp;(+ '+s.priceText+")</span>"),n.priceVariant||(this.price.options[i.name]=s)}}i.options&&i.options.length&&this._evaluateOptionPriceTotal(i.options)}}}},{key:"_watchFormSubmit",value:function(){var t=this;this._productFormSubmit=!1,this.shopifyStore.onProductFormSubmit(this._productForm,function(e){return t._handleFormSubmit(e)})||i.warn("[live-options] failed to find add to cart button")}},{key:"_handleFormSubmit",value:function(t){var r=this;if(!this._productFormSubmit){if(this._productFormSubmit=!0,!this.validate())return this._productFormSubmit=!1,t.preventDefault(),void t.stopImmediatePropagation();var n=this._preview&&this.config.previewConfig.export&&(this.config.previewConfig.exportConfig.thumbnail||this.config.previewConfig.exportConfig.original),o=0!==this.price.total||this.price.variants.length,s=n||o||this._itemKey;s&&(t.preventDefault(),t.stopImmediatePropagation(),this._productFormEvent=t);var a=[];if(n){var l=[],p=document.createElement("progress");if(p.max=100,p.value=0,p.className="cl-po--preview-progress",this._wrapper.appendChild(p),this.config.previewConfig.exportConfig.original){p.value=5;var h=!(!this.config.previewConfig.exportConfig.crop||!this.config.previewConfig.exportConfig.cropConfig.width)&&this.config.previewConfig.exportConfig.cropConfig,c=this._preview.export({width:this.config.previewConfig.width,height:this.config.previewConfig.height},h,!0,"excludeOriginal","png");if(c){var f=this._upload._fileMeta.fromBlob(c,"preview_original.png");f.meta.variant="original",l.push(f)}p.value=10}if(this.config.previewConfig.exportConfig.thumbnail){p.value=10;var v=this._preview.export({width:this.config.previewConfig.exportConfig.thumbnailWidth,height:this.config.previewConfig.exportConfig.thumbnailHeight},!1,!0,"excludeThumbnail","png",.8);if(v){var g=this._upload._fileMeta.fromBlob(v,"preview_thumbnail.png");g.meta.variant="thumbnail",l.push(g)}p.value=15}l.length>0?a.push(this._upload.upload(l,function(t){if(t.lengthComputable){var e=t.loaded/t.total*100;e>p.value&&(p.value=e)}}).then(function(t){r._wrapper.removeChild(p);for(var e=0;e<t.length;e++){var n=t[e];"original"===n.meta.variant?r._setFormProperty(r.config.previewConfig.exportConfig.originalProperty,n.url):r._setFormProperty(r.config.previewConfig.exportConfig.thumbnailProperty,n.url)}i.debug("preview upload",t)})):(this._removeFormProperty(this.config.previewConfig.exportConfig.originalProperty),this._removeFormProperty(this.config.previewConfig.exportConfig.thumbnailProperty),this._wrapper.removeChild(p))}if(o){var m=d.default.generateId(),_=Promise.resolve();if(this.price.variants.length)for(var y=function(t){var e=r.price.variants[t],i=r.shopifyCart.toItem(e.id,e.quantity,{});_=_.then(function(){return r.shopifyCart.addItem(i)})},w=0;w<this.price.variants.length;w++)y(w);var C=this.price.total-this.price.variantTotal,b=Math.round(100*C),I={};for(var P in I[u.CartItemProperties.ID]=m,this.price.options)if(this.price.options.hasOwnProperty(P)){var O=this.price.options[P],V=O.priceText.replace(/(<([^>]+)>)/gi,"");I[O.option.name]=V}if(this._setFormProperty(u.CartItemProperties.ID,m),this._setFormProperty(u.CartItemProperties.PRICE,b),this.settings.priceDraft)d.default.storeItem(m,{properties:I});else if(this.settings.priceVariantId){var E=C/this.settings.priceVariantValue,F=this._productForm.querySelector('[name="quantity"]');F&&F.value&&(E*=F.value),E=Math.round(E);var x=this.shopifyCart.toItem(this.settings.priceVariantId,E,I);u.CartItemProperties.VALIDATE=!1,_=_.then(function(){return r.shopifyCart.addItem(x)})}else i.warn("[live-options] missing price options product variant");a.push(_)}else this._removeFormProperty(u.CartItemProperties.ID),this._removeFormProperty(u.CartItemProperties.PRICE);if(s)return Promise.all(a).then(function(){var t=!0;if(r._itemKey&&-1!==r._itemKey.indexOf(r._variantId)){var i=function(){r.shopifyCart.updateItemById({id:r._itemKey,quantity:r.shopifyStore.findProductFormQuantity(r._productForm),properties:r._getFormProperties()}).then(function(){window.location.href="/cart"})};if(u.ThemeConfig.productItemModal){t=!1;var n="product.options.item.modal.",o=document.createElement("dialog");o.className="cl-po--dialog",o.innerHTML='\n                                  <form method="dialog">\n                                    <h4>'.concat(e.default.get(n+"title"),'</h4>\n                                    <div class="action">\n                                      <button class="cl-po--swatch cl-po--swatch-button cl-po--small" value="update">').concat(e.default.get(n+"update"),'</button>\n                                      <button class="cl-po--swatch cl-po--swatch-button cl-po--small" value="add">').concat(e.default.get(n+"add"),"</button>\n                                    </div>\n                                  </form>"),void 0!==window.dialogPolyfill&&(window.dialogPolyfill.registerDialog(o),o.style.height="auto"),r._wrapper.appendChild(o),o.showModal(),o.addEventListener("close",function(){"update"===o.returnValue?i():r._triggerFormEvent()})}else u.ThemeConfig.productItemUpdate&&(t=!1,i())}t&&(r._triggerFormEvent(),setTimeout(function(){u.CartItemProperties.VALIDATE=!0},5e3))}).catch(function(t){i.error("[live-options] submit handler error",t)});setTimeout(function(){return r._productFormSubmit=!1},300)}}},{key:"_setFormProperty",value:function(t,e){var i;this._formInputs?this._formInputs.hasOwnProperty(t)&&(i=this._formInputs[t]):this._formInputs={},i?i.value=e:((i=document.createElement("input")).type="hidden",i.name="properties["+t+"]",i.value=e,this._productForm.appendChild(i)),this._formInputs[t]=i}},{key:"_removeFormProperty",value:function(t){if(this._formInputs&&this._formInputs.hasOwnProperty(t)){var e=this._formInputs[t];e.parentNode.removeChild(e),delete this._formInputs[t]}}},{key:"_getFormProperties",value:function(){var t=new FormData(this._productForm);return Array.from(t.keys()).reduce(function(e,i){if(-1!==i.indexOf("properties")){var r=i.indexOf("["),n=i.indexOf("]");if(-1!==r&&-1!==n)e[i.substring(r+1,n)]=t.get(i)}return e},{})}},{key:"_triggerFormEvent",value:function(){var t=this;if(this._productFormEvent){var e=this._productFormEvent;e.target||e.currentTarget?"click"===e.type?e.target&&e.target.click?e.target.click():e.currentTarget&&e.currentTarget.click?e.currentTarget.click():"BUTTON"===e.target.parentNode.tagName&&e.target.parentNode.click():"submit"===e.type&&e.target.submit():(i.error("missing event target - manual form submit"),this._productForm.submit()),this._productFormEvent=null,this._productFormSubmit=!1}this._optionValuesClear&&setTimeout(function(){t.setValues(t._optionValuesClear),t.render(),t._preview&&t._preview.ready&&t._preview.renderPreview()},1e3)}},{key:"_getControllers",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.config.options,i=0;i<e.length;i++){var r=e[i];r.options&&r.options.length?this._getControllers(t,r.options):r._controller&&(t[r.name+"_"+r.type]=r._controller)}return t}},{key:"_setControllers",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.config.options,i=0;i<e.length;i++){var r=e[i];r.options&&r.options.length?this._setControllers(t,r.options):t.hasOwnProperty(r.name+"_"+r.type)&&(r._controller=t[r.name+"_"+r.type])}}},{key:"_initTooltips",value:function(){var t=this._wrapper.querySelectorAll('[data-tippy-content]:not(.init):not([data-tippy-content=""])');if(t.length>0){var e,i=(0,o.default)(t,{allowHTML:!0,maxWidth:350});this._tippyInstances||(this._tippyInstances=[]),(e=this._tippyInstances).push.apply(e,y(i));for(var r=0;r<t.length;r++){t[r].classList.add("init")}}}},{key:"_destroyTooltips",value:function(){if(null!=this._tippyInstances)for(var t=0;t<this._tippyInstances.length;t++){var e=this._tippyInstances[t];e.reference.classList.remove("init"),e.destroy()}}},{key:"_restoreCartItem",value:function(){var e=this,r=t.default.getQueryParam(window.location.href,"item");this.shopifyCart.getCart(!0).then(function(t){for(var n=0;n<t.items.length;n++){var o=t.items[n];if(o.key===r&&o.properties){i.debug("restoring cart item values: ",o.properties),e.setValues(o.properties),e.render(),e._preview&&e._preview.ready&&e._preview.ready.then(function(){return e._preview.renderPreview()}),u.ThemeConfig.productItemModal&&"function"!=typeof HTMLDialogElement&&(e._dialogPolyfill=v.default.loadOnce([e.settings.assets+"/static/lib/dialog/dialog-polyfill.min.js",e.settings.assets+"/static/lib/dialog/dialog-polyfill.min.css"],"dialog",{async:!1})),e._itemKey=r;break}}})}}]),g}(),x=F;exports.default=x;
},{"./util":"zY0S","./translate":"IkY8","loglevel":"ohSP","./shopify-store":"cEki","lit-html":"KMqM","tippy.js":"ndpH","tippy.js/dist/tippy.css":"T0Ik","./style/style.css":"T0Ik","./template/product-options.template":"kRzK","./product-preview":"wweK","./conditions-engine":"Uk2d","./upload/upload":"k2Pi","./shopify-cart":"ydp9","./const":"QqYi","@shopify/theme-currency":"jUSW","./cart-options-price":"Qfvf","./product-variant-options":"nk7O","./resource-loader":"U86w"}],"Mrl1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=require("lit-html"),t=require("lit-html/directives/live"),e=require("lit-html/directives/class-map"),c=require("../const");function r(){var n=a([' <p class="cl-po--discount-success">',"</p>"]);return r=function(){return n},n}function l(){var n=a(['\n        <div class="cl-po--discount-wrap">\n            <input type="hidden" name="discount" .value=',' />\n            \n            <div class="cl-po--discount-tag">\n                <svg class="cl-po--icon tag" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18"><path d="M17.78 3.09C17.45 2.443 16.778 2 16 2h-5.165c-.535 0-1.046.214-1.422.593l-6.82 6.89c0 .002 0 .003-.002.003-.245.253-.413.554-.5.874L.738 8.055c-.56-.953-.24-2.178.712-2.737L9.823.425C10.284.155 10.834.08 11.35.22l4.99 1.337c.755.203 1.293.814 1.44 1.533z" fill-opacity=".55"></path><path d="M10.835 2H16c1.105 0 2 .895 2 2v5.172c0 .53-.21 1.04-.586 1.414l-6.818 6.818c-.777.778-2.036.782-2.82.01l-5.166-5.1c-.786-.775-.794-2.04-.02-2.828.002 0 .003 0 .003-.002l6.82-6.89C9.79 2.214 10.3 2 10.835 2zM13.5 8c.828 0 1.5-.672 1.5-1.5S14.328 5 13.5 5 12 5.672 12 6.5 12.672 8 13.5 8z"></path></svg>\n                <span>',"</span>\n                <button @click=",'>\n                    <svg class="cl-po--icon remove" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 13 13"><path d="M1.5 1.5l10.05 10.05M11.5 1.5L1.45 11.55" stroke-width="2" fill="none" fill-rule="evenodd" stroke-linecap="round"></path></svg>\n                </button>\n            </div>\n    \n            ',"\n        </div>\n        "]);return l=function(){return n},n}function i(){var n=a([' <p class="cl-po--discount-error">',"</p>"]);return i=function(){return n},n}function o(){var n=a(['<svg class="cl-po--icon loading" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M20 10c0 5.523-4.477 10-10 10S0 15.523 0 10 4.477 0 10 0v2c-4.418 0-8 3.582-8 8s3.582 8 8 8 8-3.582 8-8h2z"></path></svg>']);return o=function(){return n},n}function u(){var n=a(['\n    <div class="cl-po--discount">\n        <div class="cl-po--discount-input">\n            <input type="text" placeholder=',' class="','" .value='," @input="," />\n            <button @click=",">\n                ","\n            </button>\n        </div>\n        ","\n       \n        ","\n    </div>\n    "]);return u=function(){return n},n}function s(){var n=a(["\n    \n    ","\n"]);return s=function(){return n},n}function a(n,t){return t||(t=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(t)}}))}var p=function(a,p,v,d,f){return(0,n.html)(s(),a.type!==c.DiscountType.AUTO?(0,n.html)(u(),p.placeholder,(0,e.classMap)({"cl-po--invalid":p.error}),(0,t.live)(p.code),function(n){return f(n)},function(n){return v(n)},p.loading?(0,n.html)(o()):p.button,p.error?(0,n.html)(i(),p.error):null,a.valid?(0,n.html)(l(),(0,t.live)(a.code),a.code,function(n){return d(n)},p.success?(0,n.html)(r(),p.success):null):null):null)},v=p;exports.default=v;
},{"lit-html":"KMqM","lit-html/directives/live":"i5N8","lit-html/directives/class-map":"zFN9","../const":"QqYi"}],"XdHT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=v(require("./util")),t=v(require("./shopify-store")),r=v(require("./shopify-cart")),i=v(require("./ajax-watch")),n=v(require("./request")),o=g(require("loglevel")),a=v(require("./translate")),s=v(require("./product-options")),c=v(require("./conditions-engine")),u=v(require("./font-loader")),d=require("./const"),p=require("@shopify/theme-currency"),l=v(require("./cart-options-price")),f=require("lit-html"),h=v(require("./template/discount-code.template"));function m(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return m=function(){return e},e}function g(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=m();if(t&&t.has(e))return t.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var o=i?Object.getOwnPropertyDescriptor(e,n):null;o&&(o.get||o.set)?Object.defineProperty(r,n,o):r[n]=e[n]}return r.default=e,t&&t.set(e,r),r}function v(e){return e&&e.__esModule?e:{default:e}}function y(e){return I(e)||w(e)||C(e)||_()}function _(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function C(e,t){if(e){if("string"==typeof e)return P(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?P(e,t):void 0}}function w(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function I(e){if(Array.isArray(e))return P(e)}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function O(e,t,r){return t&&b(e.prototype,t),r&&b(e,r),e}var k=function(){function m(i){var n=this;if(T(this,m),this.config=i,this.products=[],this.shopifyStore=t.default.getInstance(),this.shopifyCart=r.default.getInstance(),this.conditionsEngine=new c.default,this.currency=d.ThemeCurrency,this.config.theme)for(var a in this.config.theme)this.config.theme.hasOwnProperty(a)&&(d.ThemeConfig[a]=this.config.theme[a]);for(var s in this.config.currencyFormats)if(this.config.currencyFormats.hasOwnProperty(s)){var u=this.config.currencyFormats[s];-1!==u.indexOf("&")&&(u=e.default.decodeHtml(this.config.currencyFormats[s])),"moneyWithCurrencyFormat"===s&&(s="moneyFormatWithCurrency"),d.ThemeCurrency[s]=u}if(window.theme)for(var p in d.ThemeCurrency)window.theme.hasOwnProperty(p)&&(d.ThemeCurrency[p]=window.theme[p]);this.config.setup&&(/complete|interactive|loaded/.test(document.readyState)?this.setup():(o.debug("---\x3e document not ready ("+document.readyState+") => waiting for DOMContentLoaded"),document.addEventListener("DOMContentLoaded",function(){return n.setup()},!1)),this.shopifyStore.onThemeSectionEvent("load",function(e){n.setup()}))}return O(m,[{key:"setup",value:function(){var e=this;this.mapFonts(),this.destroy(),this.shopifyStore.parseProductJsonElements(),this.shopifyStore.tryGetProductMap().then(function(t){for(var r=0;r<e.config.configs.length;r++){var i=e.config.configs[r];if(o.debug("-> evaluating options-config:",i.uuid),0===i.targetMode){var n=[{data:"product",field:"product",products:[i.product]}];for(var a in t)if(t.hasOwnProperty(a)){var s=t[a];e._evaluateProductTargeting(i,s,n,1)}}else if(0===i.conditionMode){if(e.shopifyStore.isProduct()){var c=t[e.shopifyStore.getHandleFromUrl()+".js"];c&&e._evaluateProductTargeting(i,c,[],0)}}else if(i.conditions.length>0)for(var u in t)if(t.hasOwnProperty(u)){var d=t[u];e._evaluateProductTargeting(i,d,i.conditions,i.conditionMode)}}}),this.config.setup&&this.config.configs.length>0&&(this._watchCartItems(),this._watchFormSubmit())}},{key:"destroy",value:function(){for(;this.products.length;){this.products.pop().destroy()}}},{key:"mapFonts",value:function(){u.default.fonts=this.config.fonts,u.default.api=this.config.api.replace("api.cloudlift","assets.cloudlift")+"/api/font",u.default.apiParams.shop=this.config.shop}},{key:"_evaluateProductTargeting",value:function(e,t,r,i){this.conditionsEngine.data.product=t;var n=this.conditionsEngine.evaluateConditions(r,i,"config.uuid="+e.uuid);if(n){var a="#product_form_"+t.id;(n=this._createProductOptions(e,t,a))||(n=this._createProductOptions(e,t))}o.debug("--\x3e evaluated options-config:",e.uuid,t,n)}},{key:"_createProductOptions",value:function(t,r,i){for(var n=0;n<this.products.length;n++){var a,c=this.products[n];if(c.settings.product.id===r.id)return o.debug("-> MERGING options with existing productOptions for product.id: "+r.id,t.options),c._generateOptionIds(t.options,"option_"+r.id+"_"),(a=c.config.options).push.apply(a,y(t.options)),c.render(),!0}i||(i='form[action*="/cart/add"]');var u=1===this.config.locationMode?this.config.selector:"",d=1===this.config.locationMode?this.config.position:void 0,p=this._findOrCreateContainer(u,r,i);if(p){var l,f=JSON.parse(JSON.stringify(t)),h=1===this.config.previewLocationMode?this.config.previewSelector:"",m=1===this.config.previewLocationMode?this.config.previewPosition:void 0;l=e.default.isNodeList(p)?p:[p];for(var g=0;g<l.length;g++){var v=l[g],_=f.preview?this._findOrCreatePreviewContainer(h,r,f.previewConfig):void 0;this.products.push(new s.default(f,{api:this.config.api,assets:this.config.assets,queryParams:{shop:this.config.shop},selector:v,position:d,selectorPreview:_,positionPreview:m,product:r,priceDraft:this.config.priceDraft,priceVariantId:this.config.priceVariantId,priceVariantValue:this.config.priceVariantValue}))}return!0}return!1}},{key:"_findOrCreateContainer",value:function(e,t,r){var i,n;if(r&&(n=document.querySelector(r)),e)return n&&(i=n.querySelectorAll(e)).length>0?(o.debug("using container in form with provided selector:",r,e,i),i):(i=document.querySelectorAll(e)).length>0?(o.debug("using container with provided selector:",e,i),i):(o.debug("no container found with selector:",e),null);if(null!=(i=document.querySelector('[data-live-options="'+t.id+'"]')))return o.debug("using default container with selector: [data-live-options]"),i;if(n){var a=n.querySelector("[type=submit],.add_to_cart,.btn.add-to-cart");return(i=document.createElement("div")).className="inject",i.style.width="100%",a?a.parentNode.insertBefore(i,a):n.insertBefore(i,n.firstChild),o.debug("injected container into form:",n),i}return null}},{key:"_findOrCreatePreviewContainer",value:function(t,r,i){var n,a=!0;if(t||(t='[data-live-preview="'+r.id+'"]',a=!1),t){var s=document.querySelectorAll(t);if(s.length>0){if(s.length>1)for(var c=0;c<s.length&&(-1===(n=s[c]).className.indexOf(r.id)&&n.dataset.livePreview!=r.id);c++);else n=s[0];o.debug("using container preview with provided selector:",t,n)}if(a&&!n)return o.error("no container preview found with selector:",t),null}if(!n){var u;if(r.media&&r.media.length){var d=0;if(i&&i.layers.length)for(var p=0;p<i.layers.length;p++){var l=i.layers[p];if("product"===l.type){l.params.imgPos&&r.media.length>l.params.imgPos-1&&(d=l.params.imgPos-1);break}}u=r.media[d]}else r.featured_image&&(u={src:r.featured_image});if(u){var f=this.config.previewImgParent,h=this.config.previewImgParentSelector,m=this._pathBaseName(u.src,!1),g=document.querySelectorAll('img[src*="'+m+'"], img[data-src*="'+m+'"], img[data-srcset*="'+m+'"]');if(g.length>0){if(o.debug("found main product images:",g),1===g.length)n=g[0];else for(var v=0,y=0;y<g.length;y++){var _=g[y],C=_.offsetWidth*_.offsetHeight;0===C&&-1!==window.location.href.indexOf("variant=")&&!1!==window.clPreviewVariant&&(C=25e4,o.debug("[window.clPreviewVariant] main image size is 0")),C>v&&(v=C,n=_)}var w;if(h&&(w=e.default.findParent(n,h)),null!=w)n=w,o.debug("using auto preview container with parent selector:",h,n);else if(n){1===f&&(n.parentElement&&null!==n.parentElement.getAttribute("data-zoom")||-1!==n.parentElement.id.indexOf("Zoom")||-1!==n.parentElement.className.indexOf("modal"))&&(f=2);for(var I=0;I<f;I++)n=n.parentElement;o.debug("using auto preview container with parent:",f,n)}}else o.debug("failed to find main product image:",m)}}if(n)for(n.style.minHeight||(n.style.minHeight="1px");n.firstChild;)n.removeChild(n.lastChild);else o.warn("[live-options] no preview container found");return n}},{key:"_watchFormSubmit",value:function(){var e=this;this.config.priceDraft&&this.shopifyStore.onCartFormSubmit(function(t){return e._handleFormSubmit(t)},d.ThemeConfig.cartFormCapture)}},{key:"_handleFormSubmit",value:function(e){var t=this;if(this._cartTotalDiff){if(e.submitter&&e.submitter.name&&"update"===e.submitter.name)return;if(e.preventDefault(),e.stopImmediatePropagation(),this._checkoutRequest)return void o.warn("checkout is processing");try{var r=this._getCheckout(e.target);return this._checkoutRequest=new n.default(this.config.api+"/api/checkout",{method:"POST",data:{checkout:r},responseType:"json",headers:{"Content-type":"application/json"},queryParams:{shop:this.config.shop}}),this._checkoutRequest.then(function(e){o.debug("[live-options-api] checkout response",e.data),window.location.href=e.data.url}).catch(function(e){e.xhr&&0===e.xhr.status||(o.error("[live-options-api] checkout error",e),window.location.href="/checkout")}).finally(function(){delete t._checkoutRequest})}catch(i){o.error("[live-options] checkout error",i),window.location.href="/checkout"}}}},{key:"_getCheckout",value:function(e){for(var t=[],r={},i=0;i<this._cart.items.length;i++){var n=this._cart.items[i];if(n.properties&&n.properties.hasOwnProperty(d.CartItemProperties.PRICE)&&n.properties.hasOwnProperty(d.CartItemProperties.ID)){var o=n.properties[d.CartItemProperties.ID],a=l.default.getItem(o);a&&(r[o]=a.properties)}var s=this.shopifyCart.toItem(n.id,n.quantity,n.properties);s.productTitle=n.product_title,s.productId=n.product_id,t.push(s)}this._discount||(this._discount=this._getDiscount());var c,u={};if(e){var p=e.querySelectorAll('[name*="attributes"]');if(p.length)for(var f=0;f<p.length;f++){var h=p[f],m=h.getAttribute("name");u[m=(m=m.replace("attributes","")).substr(1,m.length-2)]=h.value}var g=e.querySelector('[name="note"]');g&&(c=g.value)}return{items:t,options:r,optionsTitle:this.config.priceDraftTitle,note:c,attributes:u,discount:0!==this._discount.type?this._discount:null,currency:this._cart.currency,total:this._cartTotal}}},{key:"_getDiscount",value:function(){for(var e={type:d.DiscountType.NONE},t=0;t<this._cart.items.length;t++){var r=this._cart.items[t];r.discounts&&r.discounts.length&&(e.type=d.DiscountType.AUTO,e.code=r.discounts[0].title)}if(0===e.type){var i=this.shopifyStore.getDiscountCode();i&&(e.type=d.DiscountType.CODE,e.code=i)}return e}},{key:"_watchCartItems",value:function(){var t=this;if(window.theme&&window.theme.Cart&&window.theme.Cart.prototype&&window.theme.Cart.prototype._setProductDetailsList){var r=window.theme.Cart.prototype._setProductDetailsList;window.theme.Cart.prototype._setProductDetailsList=function(e,t){r(e,t.filter(function(e){return e}))}}this._processCartItems();var n=e.default.debounced(1e3,function(){return t._processCartItems()});i.default.register(function(e){/.*cart.*/.test(e.url)&&(e.method&&"POST"===e.method.toString().toUpperCase()&&delete t.shopifyCart.cache,n())});setTimeout(function(){return n()},2e3)}},{key:"_processCartItems",value:function(){var e=this;this.shopifyCart.getCart(!0).then(function(t){e._cart=t,e._cartCount=0,e._cartTotal=0;for(var r=0;r<t.items.length;r++){var i=t.items[r];if(!e._processCartItem(t,i,r))return}e._patchCartCount(t),e._patchCartTotal(t),e._checkDiscount(t)})}},{key:"_processCartItem",value:function(t,r,i){var n=this,s=r.quantity,c=r.final_line_price;if(r.properties){var u=!1;if((r.properties.hasOwnProperty(d.CartItemProperties.OPTIONS)||r.properties.hasOwnProperty(d.CartItemProperties.ID))&&(u=!0),u){if(!this.config.priceDraft&&r.properties.hasOwnProperty(d.CartItemProperties.ID)&&d.CartItemProperties.VALIDATE&&!this._validateCartItemOptionsPrice(t,r))return!1;for(var f=this._resolveCartItemEl(t,r),h=function(i){var u=f[i];if(r.properties.hasOwnProperty(d.CartItemProperties.OPTIONS)||(s=0),u){if(r.properties._preview){var h=u.querySelector("[data-live-item-image]");if(!h&&d.ThemeConfig.cartItemPreview){var m=n._pathBaseName(r.image,!1);h=u.querySelector('img[src*="'+m+'"], img[data-src*="'+m+'"], img[data-srcset*="'+m+'"]')}h&&(h.src=r.properties._preview,h.hasAttribute("srcset")&&h.removeAttribute("srcset"))}if(!window.Cloudlift.upload)for(var g in r.properties)if(r.properties.hasOwnProperty(g)){var v=r.properties[g];if(-1!==v.indexOf("cloudlift.app")){var y=e.default.findElementContainsText("*",v,u);if(y.length>0){var _=y[y.length-1],C=document.createElement("span");C.className="cl-prop",C.innerHTML=_.textContent.replace(v,'<a href="'+v+'" target="_blank" style="cursor:pointer;border:0;">'+a.default.get("product.options.file.link")+"</a>"),_.parentNode.replaceChild(C,_)}}}var w=u.querySelector("[data-live-item-edit]");if(!w&&d.ThemeConfig.cartItemEdit){var I=u.querySelector('a[href*="/cart/change"]');if(null!=I){(w=document.createElement("a")).style.padding="5px 10px",w.style.border="1px solid #d1d5db",w.style.borderRadius="3px",w.innerText=a.default.get("product.options.item.edit"),w.dataset.liveItemEdit="1";var P=document.createElement("div");P.style.padding="10px 0",P.appendChild(w),I.parentNode.insertBefore(P,I)}}if(w){var T=r.url+"&item="+r.key;"A"===w.tagName?w.href=T:w.addEventListener("click",function(){return window.location.href=T})}if(d.ThemeConfig.cartItemClOptions)for(var b in r.properties)if(r.properties.hasOwnProperty(b)&&b.startsWith(d.CartItemProperties.OPTIONS)&&-1!==u.innerHTML.indexOf(b)){var O=e.default.findElementContainsRegex("*",new RegExp("".concat(b,".*").concat(r.properties[b]),"s"),u);if(O.length>0){var k=O[O.length-1],S=!0;for(var D in r.properties)if(r.properties.hasOwnProperty(D)&&-1!==k.innerHTML.indexOf(D)){S=!1;break}if(S)k.parentNode.removeChild(k);else{var x=String(r.properties[b]),E=k.innerHTML.indexOf(b),q=k.innerHTML.indexOf(x)+x.length;k.innerHTML=k.innerHTML.replace(k.innerHTML.slice(E,q),"")}}}if(r.properties[d.CartItemProperties.ID])if(r.properties.hasOwnProperty(d.CartItemProperties.OPTIONS)){if(r.properties[d.CartItemProperties.PRICE]){var M=d.ThemeCurrency.moneyFormat,N=n.shopifyStore.trimMoneyFormatAmount(d.ThemeCurrency.moneyFormat),A=parseInt(r.properties[d.CartItemProperties.PRICE]);n.config.priceDraft&&(c=r.final_line_price+A*r.quantity);var L=function(t){var r=(0,p.formatMoney)(t,N),i=e.default.findElementContainsText("*",r,u);return i.length?i[i.length-1]:null},H=u.querySelector("[data-live-item-final-price]");!H&&d.ThemeConfig.cartItemPrice&&(H=L(r.final_price)),H&&(o.debug("---\x3e found item.final_price element",H),H.innerHTML=(0,p.formatMoney)(r.final_price+A,M)),!(H=u.querySelector("[data-live-item-original-price]"))&&d.ThemeConfig.cartItemPrice&&(H=L(r.original_price)),H&&(o.debug("---\x3e found item.original_price element",H),H.innerHTML=(0,p.formatMoney)(r.original_price+A,M)),!(H=u.querySelector("[data-live-item-final-line-price]"))&&d.ThemeConfig.cartItemPrice&&(H=L(r.final_line_price)),H&&(o.debug("---\x3e found item.final_line_price element",H),H.innerHTML=(0,p.formatMoney)(r.final_line_price+A*r.quantity,M)),!(H=u.querySelector("[data-live-item-original-line-price]"))&&d.ThemeConfig.cartItemPrice&&(H=L(r.original_line_price)),H&&(o.debug("---\x3e found item.line_price element",H),H.innerHTML=(0,p.formatMoney)(r.original_line_price+A*r.quantity,M))}var F;if(d.ThemeConfig.cartItemPriceOptions)if(null!=(F=n.config.priceDraft?l.default.getItem(r.properties[d.CartItemProperties.ID]):n._findCartItemByProperty(t,d.CartItemProperties.ID,r.properties[d.CartItemProperties.ID],r.key))&&F.properties)for(var j in F.properties)if("_"!==j.charAt(0)&&F.properties.hasOwnProperty(j)&&r.properties.hasOwnProperty(j)){var R=e.default.findElementContainsRegex("*",new RegExp("".concat(e.default.escapeRegex(j),".*").concat(e.default.escapeRegex(r.properties[j])),"s"),u);if(R.length>0){var B=R[R.length-1],V=j.replace(/^[^a-zA-Z]+|[^\w]+/g,""),W="p"+V.charAt(0).toUpperCase()+V.slice(1);B.dataset[W]||(o.debug("--\x3e found element to display options price for property: "+j,B),B.innerHTML=B.innerHTML.replace(r.properties[j],r.properties[j]+" | "+F.properties[j]),B.dataset[W]="1")}}}else u.parentNode&&u.parentNode.removeChild(u)}else r.properties.hasOwnProperty(d.CartItemProperties.OPTIONS)&&o.debug("--\x3e no cart item node found for item: ",r)},m=0;m<f.length;m++)h(m)}}return this._cartCount+=s,this._cartTotal+=c,!0}},{key:"_findCartItemByProperty",value:function(e,t,r,i){for(var n=0;n<e.items.length;n++){var o=e.items[n];if((!i||o.key!==i)&&(o.properties&&o.properties.hasOwnProperty(t)&&o.properties[t]===r))return o}return null}},{key:"_validateCartItemOptionsPrice",value:function(e,t){var r=this,i=this._findCartItemByProperty(e,d.CartItemProperties.ID,t.properties[d.CartItemProperties.ID],t.key);if(!i)return o.warn("[live-options] missing cart item options_id : "+t.properties[d.CartItemProperties.ID]+" => removing cartItem",t),this.shopifyCart.removeItemById(t.key).then(function(){return window.location.reload()}),!1;if(t.properties.hasOwnProperty(d.CartItemProperties.PRICE)){var n=parseInt(t.properties[d.CartItemProperties.PRICE]),a=n*t.quantity;if(a!==i.line_price){var s=Math.round(a/i.original_price),c=Math.round(i.original_price*s/t.quantity),u=Promise.resolve();return c!==n&&(t.properties[d.CartItemProperties.PRICE]=c,u=this.shopifyCart.updateItemById({id:t.key,quantity:t.quantity,properties:t.properties})),u.then(function(){return r.shopifyCart.updateItemById({id:i.key,quantity:s})}).finally(function(){window.location.reload()}),!1}}return!0}},{key:"_resolveCartItemEl",value:function(t,r){for(var i=[],n=['[data-live-item-key="'+r.key+'"]','[data-cart-item-key="'+r.key+'"]','[data-key="'+r.key+'"]',".cart_item_"+r.id],a=0;a<n.length;a++){var s=n[a];if((i=document.querySelectorAll(s)).length)return i}if(r.image&&d.ThemeConfig.cartItem){var c;o.debug("--\x3e [cart-item] image fallback ",r);var u=this._pathBaseName(r.image,!1),p=document.querySelectorAll('img[src*="'+u+'"], img[data-src*="'+u+'"], img[data-srcset*="'+u+'"]');if(p.length>0){for(var l=0;l<p.length;l++){var f=p[l],h=e.default.findParent(f,"form");if(h)for(var m=f;m!==h;){if(-1!==m.innerHTML.indexOf(r.key)){var g=!0;if(t.items.length>1)for(var v=0;v<t.items.length;v++){var y=t.items[v];if(y!==r&&-1!==m.innerHTML.indexOf(y.key)){g=!1;break}}if(g)return m.dataset.liveItemKey=r.key,o.debug("auto resolved cart item node ",m),[m];break}m=m.parentElement}else if(1===p.length)return[f.parentNode]}c=p[0].parentNode,o.debug("fallback cart item parent ",c)}return[c]}return i}},{key:"_patchCartCount",value:function(t){for(var r=t.item_count,i=[],n=["[data-live-cart-count]","[data-cart-count]"],a=0;a<n.length;a++){var s=n[a],c=document.querySelectorAll(s);c.length&&i.push.apply(i,y(c))}for(var u=0;u<i.length;u++){var p=i[u];o.debug("--\x3e found cart count element to patch count: "+r+"  => "+this._cartCount,p),p.innerText=this._cartCount}if(d.ThemeConfig.cartCount&&r!==this._cartCount)for(var l=e.default.findElementContainsRegex("*",new RegExp("^.{0,3}".concat(r,".{0,3}$"),"s")),f=0;f<l.length;f++){var h=l[f];o.debug("--\x3e found cart count element to replace path count: "+r+"  => "+this._cartCount,h),h.innerHTML=h.innerHTML.replace(r,this._cartCount)}}},{key:"_patchCartTotal",value:function(t){var r=t.total_price,i=[];this._cartTotalDiff=r!==this._cartTotal;for(var n=(0,p.formatMoney)(this._cartTotal,d.ThemeCurrency.moneyFormatWithCurrency),a=["[data-live-cart-total]"],s=0;s<a.length;s++){var c=a[s],u=document.querySelectorAll(c);u.length&&i.push.apply(i,y(u))}for(var l=0;l<i.length;l++){var f=i[l];o.debug("--\x3e found cart total element to patch total: "+r+" => "+this._cartTotal,f),f.innerHTML=n}if(d.ThemeConfig.cartTotal&&this._cartTotalDiff){var h=this.shopifyStore.trimMoneyFormatAmount(d.ThemeCurrency.moneyFormat),m=(0,p.formatMoney)(r,h),g=e.default.findElementContainsText('form[action*="/cart"]:not(form[action*="/cart/add"]) *, form[action*="/checkout"] *',m);if(g.length){var v=g[g.length-1];o.debug("---\x3e found cart.total_price element",v),v.innerHTML=n}}if(!this._checkoutBtns&&this.config.priceDraft&&this._cartTotalDiff&&(this._checkoutBtns=this.shopifyStore.findExpressDynamicCheckoutCart(),this._checkoutBtns.length))for(var _=0;_<this._checkoutBtns.length;_++){this._checkoutBtns[_].style.display="none"}}},{key:"_checkDiscount",value:function(){if(this._discountEl=document.querySelector("[data-live-discount]"),!this._discountEl&&d.ThemeConfig.cartDiscount){var t=this.shopifyStore.trimMoneyFormatAmount(d.ThemeCurrency.moneyFormat),r=(0,p.formatMoney)(this._cartTotal,t),i=e.default.findElementContainsText('form[action*="/cart"]:not(form[action*="/cart/add"]) *, form[action*="/checkout"] *',r);if(i.length)for(var n=i[i.length-1].parentNode;n;){if("P"!==n.tagName){var o=getComputedStyle(n).display;if("block"===o||"flex"===o){this._discountEl=document.createElement("div"),this._discountEl.dataset.liveDiscount="1",n.insertBefore(this._discountEl,n.firstChild);break}}n=n.parentNode}}if(null!=this._discountEl){var s=this._getDiscount();if(s.type===d.DiscountType.AUTO&&(s.valid=!0,delete this._discount),(!this._discount||this._discount.code!==s.code)&&(this._discount=s,this._discountInput={code:"",loading:!1,button:a.default.get("product.options.discount.button"),placeholder:a.default.get("product.options.discount.placeholder")},this._discount.type!==d.DiscountType.NONE)){if(window.localStorage){var c=localStorage.getItem("cl_discount");if(c){var u=JSON.parse(c);u.code===this._discount.code&&(this._discount=u)}}this._discount.valid||(this._discountInput.code=this._discount.code,this._applyDiscount())}this._renderDiscount()}}},{key:"_removeDiscount",value:function(e){e&&(e.preventDefault(),e.stopImmediatePropagation()),this._discount.type=d.DiscountType.NONE,this._discount.code="",this._discount.valid=!1,this.shopifyStore.removeDiscountCode(),this._renderDiscount()}},{key:"_applyDiscount",value:function(e){var t=this;if(e&&(e.preventDefault(),e.stopImmediatePropagation()),this._discountInput.code){this._discount.type=d.DiscountType.CODE,this._discount.code=this._discountInput.code,this._discount.valid=!1,this._discountInput.loading=!0,this._discountInput.error="",this._discountInput.success="";var r=this._getCheckout(),i=new n.default(this.config.api+"/api/checkout/discount",{method:"POST",data:{checkout:r},responseType:"json",headers:{"Content-type":"application/json"},queryParams:{shop:this.config.shop}});return this._renderDiscount(),i.then(function(e){t._discountInput.loading=!1,e.data?(t._discount=e.data,t._discount.valid=!0,t._discountInput.code="",window.localStorage&&localStorage.setItem("cl_discount",JSON.stringify(t._discount)),t.shopifyStore.saveDiscountCode(t._discount.code),t._discountInput.success=a.default.get("product.options.discount.valid")):t._discountInput.error=a.default.get("product.options.discount.invalid"),t._renderDiscount(),o.debug("[live-options-api] checkout discount response",e.data)}).catch(function(e){t._discountInput.loading=!1,t._discountInput.error="Please try again",t._renderDiscount(),o.error("[live-options-api] checkout discount error",e)})}}},{key:"_renderDiscount",value:function(){var e=this;(0,f.render)((0,h.default)(this._discount,this._discountInput,this._applyDiscount.bind(this),this._removeDiscount.bind(this),function(t){e._discountInput.code=t.target.value,e._discountInput.error&&(e._discountInput.error="",e._renderDiscount())}),this._discountEl)}},{key:"_findPriceEl",value:function(t,r,i){var n=(0,p.formatMoney)(t,i),o=e.default.findElementContainsText("*",n,r);return o.length?o[o.length-1]:null}},{key:"_pathBaseName",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=e.split("/").pop();return t||(r=r.substring(0,r.lastIndexOf("."))),r}}]),m}(),S=k;exports.default=S;
},{"./util":"zY0S","./shopify-store":"cEki","./shopify-cart":"ydp9","./ajax-watch":"XoAR","./request":"mx8w","loglevel":"ohSP","./translate":"IkY8","./product-options":"RI7z","./conditions-engine":"Uk2d","./font-loader":"G9B6","./const":"QqYi","@shopify/theme-currency":"jUSW","./cart-options-price":"Qfvf","lit-html":"KMqM","./template/discount-code.template":"Mrl1"}],"Mv9D":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.initTemplatePolyfill=void 0;var e=require("../lib/dom.js"),t=function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0]||!("content"in document.createElement("template"))){var t=document.implementation.createHTMLDocument("template"),n=t.body,i={enumerable:!0,configurable:!0},r=Document.prototype.createElement;Document.prototype.createElement=function(o,c){var a,l,s=r.call(this,o,c);return"TEMPLATE"===s.tagName&&(a=s,l=t.createDocumentFragment(),Object.defineProperties(a,{content:Object.assign(Object.assign({},i),{get:function(){return l}}),innerHTML:Object.assign(Object.assign({},i),{set:function(t){n.innerHTML=t,(0,e.removeNodes)(l,l.firstChild),(0,e.reparentNodes)(l,n.firstChild)}})})),s}}};exports.initTemplatePolyfill=t;
},{"../lib/dom.js":"JQ4u"}],"Focm":[function(require,module,exports) {
"use strict";var e=f(require("./scripts/util")),t=f(require("./scripts/translate")),r=f(require("./scripts/options-app")),i=f(require("./scripts/product-options")),o=f(require("./scripts/product-preview")),n=require("lit-html/polyfills/template_polyfill"),l=a(require("loglevel")),u=f(require("loadjs"));function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function a(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var n=i?Object.getOwnPropertyDescriptor(e,o):null;n&&(n.get||n.set)?Object.defineProperty(r,o,n):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}function f(e){return e&&e.__esModule?e:{default:e}}var p=function(){return!("Promise"in window&&"assign"in Object&&String.prototype.startsWith&&Array.prototype.flat)},d=function(){(0,n.initTemplatePolyfill)();var u=window.Cloudlift.options.config;l.setDefaultLevel(l.levels.ERROR);var s=l.getLevel();l.setLevel(void 0!==u.log?u.log:s),l.debug("got config",u),window.addEventListener("cloudlift.options.ready",function(e){l.debug("resources loaded")}),window.clTranslate&&(u.i18n=e.default.extend(u.i18n,window.clTranslate)),t.default.translations=u.i18n||{},window.Cloudlift.options.App=new r.default(u),window.Cloudlift.options.lib={ProductOptions:i.default,ProductPreview:o.default}};p()?(0,u.default)(window.Cloudlift.options.config.assets+"/static/lib/core-js/core-js.min.js",d):d();
},{"./scripts/util":"zY0S","./scripts/translate":"IkY8","./scripts/options-app":"XdHT","./scripts/product-options":"RI7z","./scripts/product-preview":"wweK","lit-html/polyfills/template_polyfill":"Mv9D","loglevel":"ohSP","loadjs":"xAgl"}]},{},["Focm"], null)