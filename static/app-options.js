parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"zY0S":[function(require,module,exports) {
"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function o(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r=function(){function n(){t(this,n)}return o(n,null,[{key:"merge",value:function(e,t,o){for(var r in t)!t.hasOwnProperty(r)||null!=o&&-1===o.indexOf(r)||("[object Object]"===Object.prototype.toString.call(t[r])?e[r]=n.merge(e[r],t[r]):void 0!==t[r]&&(e[r]=t[r]));return e}},{key:"extend",value:function(){for(var e={},t=function(t){for(var o in t)t.hasOwnProperty(o)&&("[object Object]"===Object.prototype.toString.call(t[o])?e[o]=n.extend(e[o],t[o]):void 0!==t[o]&&(e[o]=t[o]))},o=0;o<arguments.length;o++){t(arguments[o])}return e}},{key:"isElement",value:function(t){return"object"===e(t)&&void 0!==t.nodeType}},{key:"isNodeList",value:function(t){var o=Object.prototype.toString.call(t),r="object"===e(t)&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(o)&&"number"==typeof t.length&&(0===t.length||"object"===e(t[0])&&t[0].nodeType>0);return!r&&Array.isArray(t)&&t.length>0?n.isElement(t[0]):r}},{key:"isInPage",value:function(e){return e!==document.body&&document.body.contains(e)}},{key:"isHidden",value:function(e){return 0===e.offsetHeight||0===e.offsetWidth||null===e.offsetParent||"none"===window.getComputedStyle(e).display}},{key:"isScrolledIntoView",value:function(e){var t=e.getBoundingClientRect(),n=t.top,o=t.bottom;return n>=0&&o<=window.innerHeight}},{key:"matches",value:function(e,t){return Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=t.length;--n>=0&&t.item(n)!==this;);return n>-1}),e.matches(t)}},{key:"findParent",value:function(e,t){if("function"==typeof e.closest)return e.closest(t)||null;for(;e;){if(n.matches(e,t))return e;e=e.parentElement}return null}},{key:"findInnerDimensions",value:function(e){var t=getComputedStyle(e),n=e.clientWidth,o=e.clientHeight;return{height:o-=parseFloat(t.paddingTop)+parseFloat(t.paddingBottom),width:n-=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight)}}},{key:"getCalculatedPosition",value:function(e){var t=document.body,n=document.documentElement,o=window.pageYOffset||n.scrollTop||t.scrollTop,r=window.pageXOffset||n.scrollLeft||t.scrollLeft,i=e.getBoundingClientRect();return{top:i.top+o,left:i.left+r,right:i.left+r+i.width,bottom:i.top+o+i.height}}},{key:"findElementContainsText",value:function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document;return n.findElementContainsRegex(e,new RegExp(t),o)}},{key:"findElementContainsRegex",value:function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:document).querySelectorAll(e);return Array.prototype.filter.call(n,function(e){return t.test(e.textContent)})}},{key:"escapeRegex",value:function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}},{key:"readCookie",value:function(e){e+="=";for(var t=document.cookie.split(/;\s*/),n=t.length-1;n>=0;n--)if(!t[n].indexOf(e))return t[n].replace(e,"")}},{key:"writeCookie",value:function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"/",r=new Date;r.setDate(r.getDate()+n);var i=null==n?"":"; expires="+r.toUTCString();document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+i+(o?"; path="+o:"")+";"}},{key:"removeCookie",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/";document.cookie=e+"=; Path="+t+"; Expires=Thu, 01 Jan 1970 00:00:01 GMT;"}},{key:"addStyleElement",value:function(e,t){t&&"head"!=t||(t=document.head||document.getElementsByTagName("head")[0]);var n=document.createElement("style");return n.appendChild(document.createTextNode(e)),t.appendChild(n),n}},{key:"objectKeys",value:function(e){if(!Object.keys){var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push(t);return n}return Object.keys(e)}},{key:"hasQueryParam",value:function(e,t){return-1!==e.indexOf(t)}},{key:"getQueryParam",value:function(e,t){var n=new RegExp("[?&]"+t+"=([^&#]*)","i").exec(e);return n?n[1]:null}},{key:"getQueryParams",value:function(e){var t={},n=document.createElement("a");n.href=e;for(var o=n.search.substring(1).split("&"),r=0;r<o.length;r++){var i=o[r].split("=");t[i[0]]=decodeURIComponent(i[1])}return t}},{key:"buildQueryParams",value:function(e){return Object.keys(e).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&")}},{key:"debounced",value:function(e,t){var n;return function(){for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];n&&clearTimeout(n),n=setTimeout(function(){t.apply(void 0,r),n=null},e)}}},{key:"throttled",value:function(e,t){var n=0;return function(){var o=(new Date).getTime();if(!(o-n<e))return n=o,t.apply(void 0,arguments)}}},{key:"decodeHtml",value:function(e){var t=document.createElement("textarea");return t.innerHTML=e,t.value}},{key:"pathBaseName",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e.split("/").pop();return t||(n=n.substring(0,n.lastIndexOf("."))),n}},{key:"getAgent",value:function(){return navigator.userAgent||navigator.vendor||window.opera}},{key:"isInApp",value:function(e){return e.indexOf("FBAN")>-1||e.indexOf("FBAV")>-1||e.indexOf("Instagram")>-1}},{key:"isFacebook",value:function(e){return e.indexOf("FBAN")>-1||e.indexOf("FBAV")>-1}},{key:"isInstagram",value:function(e){return e.indexOf("Instagram")>-1}},{key:"isIOS",value:function(e){return(e=e.toLowerCase()).indexOf("iphone")>-1||e.indexOf("ipad")>-1}},{key:"isAndroid",value:function(e){return(e=e.toLowerCase()).indexOf("android")>-1}},{key:"isMobile",value:function(e){return this.isAndroid(e)||this.isIOS(e)}}]),n}(),i=r;exports.default=i;
},{}],"mx8w":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("./util"));function e(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var s=0;s<e.length;s++){var r=e[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function n(t,e,s){return e&&r(t.prototype,e),s&&r(t,s),t}var o=function(){function e(r,n){s(this,e);if(!this.supports())throw"This browser is not supported";return this.settings=t.default.extend({method:"GET",username:null,password:null,data:{},queryParams:{},headers:{"Content-type":"application/x-www-form-urlencoded"},responseType:"text",timeout:null,withCredentials:!1,onProgress:null},n||{}),this.xhr(r)}return n(e,[{key:"supports",value:function(){return"XMLHttpRequest"in window&&"JSON"in window&&"Promise"in window}},{key:"parse",value:function(t){var e;if("text"!==this.settings.responseType&&""!==this.settings.responseType){var s=t.response;if("json"===this.settings.responseType&&"string"==typeof s)try{s=JSON.parse(s)}catch(r){}return{data:s,xhr:t}}try{e=JSON.parse(t.responseText)}catch(r){e=t.responseText}return{data:e,xhr:t}}},{key:"param",value:function(t){if("string"==typeof t||"[object FormData]"===Object.prototype.toString.call(t)||"[object File]"===Object.prototype.toString.call(t)||"[object Blob]"===Object.prototype.toString.call(t))return t;if(/application\/json/i.test(this.settings.headers["Content-type"])||"[object Array]"===Object.prototype.toString.call(t))return JSON.stringify(t);var e=[];for(var s in t)t.hasOwnProperty(s)&&e.push(encodeURIComponent(s)+"="+encodeURIComponent(t[s]));return e.join("&")}},{key:"addQueryParams",value:function(t){if(this.settings.queryParams){var e=[];for(var s in this.settings.queryParams)this.settings.queryParams.hasOwnProperty(s)&&e.push(s+"="+this.settings.queryParams[s]);if(e.length>0){var r=e.join("&");return-1===t.indexOf("?")?t+"?"+r:t+"&"+r}}return t}},{key:"xhr",value:function(t){var e=this,s=new XMLHttpRequest,r=new Promise(function(r,n){for(var o in s.onreadystatechange=function(){if(4===s.readyState){var t=e.parse(s);s.status>=200&&s.status<300?r(t):n(t)}},t=e.addQueryParams(t),s.open(e.settings.method,t,!0,e.settings.username,e.settings.password),s.responseType=e.settings.responseType,e.settings.headers)e.settings.headers.hasOwnProperty(o)&&s.setRequestHeader(o,e.settings.headers[o]);e.settings.timeout&&(s.timeout=e.settings.timeout,s.ontimeout=function(t){n({status:408,statusText:"Request timeout"})}),e.settings.withCredentials&&(s.withCredentials=!0),e.settings.onProgress&&(s.upload.onprogress=e.settings.onProgress),s.send(e.param(e.settings.data))});return r.cancel=function(){s.abort()},r}}]),e}(),i=o;exports.default=i;
},{"./util":"zY0S"}],"ohSP":[function(require,module,exports) {
var define;
var e;!function(o,t){"use strict";"function"==typeof e&&e.amd?e(t):"object"==typeof module&&module.exports?module.exports=t():o.log=t()}(this,function(){"use strict";var e=function(){},o="undefined",t=typeof window!==o&&typeof window.navigator!==o&&/Trident\/|MSIE /.test(window.navigator.userAgent),n=["trace","debug","info","warn","error"];function l(e,o){var t=e[o];if("function"==typeof t.bind)return t.bind(e);try{return Function.prototype.bind.call(t,e)}catch(n){return function(){return Function.prototype.apply.apply(t,[e,arguments])}}}function i(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function r(o,t){for(var l=0;l<n.length;l++){var i=n[l];this[i]=l<o?e:this.methodFactory(i,o,t)}this.log=this.debug}function c(n,c,a){return function(n){return"debug"===n&&(n="log"),typeof console!==o&&("trace"===n&&t?i:void 0!==console[n]?l(console,n):void 0!==console.log?l(console,"log"):e)}(n)||function(e,t,n){return function(){typeof console!==o&&(r.call(this,t,n),this[e].apply(this,arguments))}}.apply(this,arguments)}function a(e,t,l){var i,a=this,s="loglevel";function u(){var e;if(typeof window!==o&&s){try{e=window.localStorage[s]}catch(l){}if(typeof e===o)try{var t=window.document.cookie,n=t.indexOf(encodeURIComponent(s)+"=");-1!==n&&(e=/^([^;]+)/.exec(t.slice(n))[1])}catch(l){}return void 0===a.levels[e]&&(e=void 0),e}}"string"==typeof e?s+=":"+e:"symbol"==typeof e&&(s=void 0),a.name=e,a.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},a.methodFactory=l||c,a.getLevel=function(){return i},a.setLevel=function(t,l){if("string"==typeof t&&void 0!==a.levels[t.toUpperCase()]&&(t=a.levels[t.toUpperCase()]),!("number"==typeof t&&t>=0&&t<=a.levels.SILENT))throw"log.setLevel() called with invalid level: "+t;if(i=t,!1!==l&&function(e){var t=(n[e]||"silent").toUpperCase();if(typeof window!==o&&s){try{return void(window.localStorage[s]=t)}catch(l){}try{window.document.cookie=encodeURIComponent(s)+"="+t+";"}catch(l){}}}(t),r.call(a,t,e),typeof console===o&&t<a.levels.SILENT)return"No console available for logging"},a.setDefaultLevel=function(e){u()||a.setLevel(e,!1)},a.enableAll=function(e){a.setLevel(a.levels.TRACE,e)},a.disableAll=function(e){a.setLevel(a.levels.SILENT,e)};var f=u();null==f&&(f=null==t?"WARN":t),a.setLevel(f,!1)}var s=new a,u={};s.getLogger=function(e){if("symbol"!=typeof e&&"string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var o=u[e];return o||(o=u[e]=new a(e,s.getLevel(),s.methodFactory)),o};var f=typeof window!==o?window.log:void 0;return s.noConflict=function(){return typeof window!==o&&window.log===s&&(window.log=f),s},s.getLoggers=function(){return u},s.default=s,s});
},{}],"IkY8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=o(require("./request")),t=a(require("loglevel")),n=o(require("./util"));function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}function a(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var i=o?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(a,u,i):a[u]=e[u]}return a.default=e,n&&n.set(e,a),a}function o(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}var f=function(){function r(){u(this,r)}return l(r,null,[{key:"get",value:function(e,t){var n=r.translations[e]||e;if(t)for(var a in t)t.hasOwnProperty(a)&&(n=n.replace(new RegExp("{"+a+"}","g"),t[a]));return n}},{key:"translate",value:function(e,t){if(e&&"string"==typeof e){if("#"===e.charAt(0))return r.get(e.substr(1).trim(),t);if(-1!==e.indexOf("#{")){for(var n=e;-1!==n.indexOf("#{");){var a=n.indexOf("#{"),o=n.indexOf("}"),u=n.substring(a+2,o),i=r.get(u,t);n=n.replace("#{"+u+"}",i)}return n}}return e}},{key:"fetch",value:function(n){var a=r.api.replace("{locale}",n),o=new e.default(a,{method:"GET"});return r.ready=o.then(function(e){return t.debug("[translate] "+a+" response",e.data),r.update(e.data),r.translations}).catch(function(e){return t.error("[translate] "+a+" error",e),r.translations}),r.ready}},{key:"update",value:function(e){r.translations=n.default.extend(r.translations,e),r.updated()}},{key:"updated",value:function(){var e=new CustomEvent(r.event,{detail:{},cancelable:!0,bubbles:!0});window.dispatchEvent(e)}},{key:"onUpdated",value:function(e){window.addEventListener(r.event,e)}}]),r}();f.locale=window.Shopify&&window.Shopify.locale?window.Shopify.locale:document.documentElement.lang,f.translations={},f.ready=Promise.resolve(!0),f.event="cloudlift.translate",f.api="";var c=f;exports.default=c;
},{"./request":"mx8w","loglevel":"ohSP","./util":"zY0S"}],"GxDM":[function(require,module,exports) {
var define;
var t;!function(){function n(t,n,i){return t.call.apply(t.bind,arguments)}function i(t,n,i){if(!t)throw Error();if(2<arguments.length){var e=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,e),t.apply(n,i)}}return function(){return t.apply(n,arguments)}}function e(t,o,a){return(e=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?n:i).apply(null,arguments)}var o=Date.now||function(){return+new Date};function a(t,n){this.a=t,this.o=n||t,this.c=this.o.document}var s=!!window.FontFace;function r(t,n,i,e){if(n=t.c.createElement(n),i)for(var o in i)i.hasOwnProperty(o)&&("style"==o?n.style.cssText=i[o]:n.setAttribute(o,i[o]));return e&&n.appendChild(t.c.createTextNode(e)),n}function f(t,n,i){(t=t.c.getElementsByTagName(n)[0])||(t=document.documentElement),t.insertBefore(i,t.lastChild)}function c(t){t.parentNode&&t.parentNode.removeChild(t)}function h(t,n,i){n=n||[],i=i||[];for(var e=t.className.split(/\s+/),o=0;o<n.length;o+=1){for(var a=!1,s=0;s<e.length;s+=1)if(n[o]===e[s]){a=!0;break}a||e.push(n[o])}for(n=[],o=0;o<e.length;o+=1){for(a=!1,s=0;s<i.length;s+=1)if(e[o]===i[s]){a=!0;break}a||n.push(e[o])}t.className=n.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function l(t,n){for(var i=t.className.split(/\s+/),e=0,o=i.length;e<o;e++)if(i[e]==n)return!0;return!1}function u(t,n,i){function e(){h&&o&&a&&(h(c),h=null)}n=r(t,"link",{rel:"stylesheet",href:n,media:"all"});var o=!1,a=!0,c=null,h=i||null;s?(n.onload=function(){o=!0,e()},n.onerror=function(){o=!0,c=Error("Stylesheet failed to load"),e()}):setTimeout(function(){o=!0,e()},0),f(t,"head",n)}function p(t,n,i,e){var o=t.c.getElementsByTagName("head")[0];if(o){var a=r(t,"script",{src:n}),s=!1;return a.onload=a.onreadystatechange=function(){s||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(s=!0,i&&i(null),a.onload=a.onreadystatechange=null,"HEAD"==a.parentNode.tagName&&o.removeChild(a))},o.appendChild(a),setTimeout(function(){s||(s=!0,i&&i(Error("Script load timeout")))},e||5e3),a}return null}function g(){this.a=0,this.c=null}function d(t){return t.a++,function(){t.a--,w(t)}}function v(t,n){t.c=n,w(t)}function w(t){0==t.a&&t.c&&(t.c(),t.c=null)}function m(t){this.a=t||"-"}function y(t,n){this.c=t,this.f=4,this.a="n";var i=(n||"n4").match(/^([nio])([1-9])$/i);i&&(this.a=i[1],this.f=parseInt(i[2],10))}function b(t){var n=[];t=t.split(/,\s*/);for(var i=0;i<t.length;i++){var e=t[i].replace(/['"]/g,"");-1!=e.indexOf(" ")||/^\d/.test(e)?n.push("'"+e+"'"):n.push(e)}return n.join(",")}function x(t){return t.a+t.f}function j(t){var n="normal";return"o"===t.a?n="oblique":"i"===t.a&&(n="italic"),n}function _(t){var n=4,i="n",e=null;return t&&((e=t.match(/(normal|oblique|italic)/i))&&e[1]&&(i=e[1].substr(0,1).toLowerCase()),(e=t.match(/([1-9]00|normal|bold)/i))&&e[1]&&(/bold/i.test(e[1])?n=7:/[1-9]00/.test(e[1])&&(n=parseInt(e[1].substr(0,1),10)))),i+n}function k(t,n){this.c=t,this.f=t.o.document.documentElement,this.h=n,this.a=new m("-"),this.j=!1!==n.events,this.g=!1!==n.classes}function T(t){if(t.g){var n=l(t.f,t.a.c("wf","active")),i=[],e=[t.a.c("wf","loading")];n||i.push(t.a.c("wf","inactive")),h(t.f,i,e)}S(t,"inactive")}function S(t,n,i){t.j&&t.h[n]&&(i?t.h[n](i.c,x(i)):t.h[n]())}function C(){this.c={}}function A(t,n){this.c=t,this.f=n,this.a=r(this.c,"span",{"aria-hidden":"true"},this.f)}function N(t){f(t.c,"body",t.a)}function E(t){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+b(t.c)+";font-style:"+j(t)+";font-weight:"+t.f+"00;"}function W(t,n,i,e,o,a){this.g=t,this.j=n,this.a=e,this.c=i,this.f=o||3e3,this.h=a||void 0}function F(t,n,i,e,o,a,s){this.v=t,this.B=n,this.c=i,this.a=e,this.s=s||"BESbswy",this.f={},this.w=o||3e3,this.u=a||null,this.m=this.j=this.h=this.g=null,this.g=new A(this.c,this.s),this.h=new A(this.c,this.s),this.j=new A(this.c,this.s),this.m=new A(this.c,this.s),t=E(t=new y(this.a.c+",serif",x(this.a))),this.g.a.style.cssText=t,t=E(t=new y(this.a.c+",sans-serif",x(this.a))),this.h.a.style.cssText=t,t=E(t=new y("serif",x(this.a))),this.j.a.style.cssText=t,t=E(t=new y("sans-serif",x(this.a))),this.m.a.style.cssText=t,N(this.g),N(this.h),N(this.j),N(this.m)}m.prototype.c=function(t){for(var n=[],i=0;i<arguments.length;i++)n.push(arguments[i].replace(/[\W_]+/g,"").toLowerCase());return n.join(this.a)},W.prototype.start=function(){var t=this.c.o.document,n=this,i=o(),e=new Promise(function(e,a){!function s(){o()-i>=n.f?a():t.fonts.load(function(t){return j(t)+" "+t.f+"00 300px "+b(t.c)}(n.a),n.h).then(function(t){1<=t.length?e():setTimeout(s,25)},function(){a()})}()}),a=null,s=new Promise(function(t,i){a=setTimeout(i,n.f)});Promise.race([s,e]).then(function(){a&&(clearTimeout(a),a=null),n.g(n.a)},function(){n.j(n.a)})};var I={D:"serif",C:"sans-serif"},O=null;function P(){if(null===O){var t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);O=!!t&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))}return O}function B(t,n,i){for(var e in I)if(I.hasOwnProperty(e)&&n===t.f[I[e]]&&i===t.f[I[e]])return!0;return!1}function L(t){var n,i=t.g.a.offsetWidth,a=t.h.a.offsetWidth;(n=i===t.f.serif&&a===t.f["sans-serif"])||(n=P()&&B(t,i,a)),n?o()-t.A>=t.w?P()&&B(t,i,a)&&(null===t.u||t.u.hasOwnProperty(t.a.c))?D(t,t.v):D(t,t.B):function(t){setTimeout(e(function(){L(this)},t),50)}(t):D(t,t.v)}function D(t,n){setTimeout(e(function(){c(this.g.a),c(this.h.a),c(this.j.a),c(this.m.a),n(this.a)},t),0)}function $(t,n,i){this.c=t,this.a=n,this.f=0,this.m=this.j=!1,this.s=i}F.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.m.a.offsetWidth,this.A=o(),L(this)};var q=null;function H(t){0==--t.f&&t.j&&(t.m?((t=t.a).g&&h(t.f,[t.a.c("wf","active")],[t.a.c("wf","loading"),t.a.c("wf","inactive")]),S(t,"active")):T(t.a))}function M(t){this.j=t,this.a=new C,this.h=0,this.f=this.g=!0}function z(t,n,i,o,a){var s=0==--t.h;(t.f||t.g)&&setTimeout(function(){var t=a||null,r=o||{};if(0===i.length&&s)T(n.a);else{n.f+=i.length,s&&(n.j=s);var f,c=[];for(f=0;f<i.length;f++){var l=i[f],u=r[l.c],p=n.a,g=l;if(p.g&&h(p.f,[p.a.c("wf",g.c,x(g).toString(),"loading")]),S(p,"fontloading",g),p=null,null===q)if(window.FontFace){g=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent);var d=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);q=g?42<parseInt(g[1],10):!d}else q=!1;p=q?new W(e(n.g,n),e(n.h,n),n.c,l,n.s,u):new F(e(n.g,n),e(n.h,n),n.c,l,n.s,t,u),c.push(p)}for(f=0;f<c.length;f++)c[f].start()}},0)}function G(t,n){this.c=t,this.a=n}function K(t,n){this.c=t,this.a=n}function R(t,n){this.c=t||U,this.a=[],this.f=[],this.g=n||""}$.prototype.g=function(t){var n=this.a;n.g&&h(n.f,[n.a.c("wf",t.c,x(t).toString(),"active")],[n.a.c("wf",t.c,x(t).toString(),"loading"),n.a.c("wf",t.c,x(t).toString(),"inactive")]),S(n,"fontactive",t),this.m=!0,H(this)},$.prototype.h=function(t){var n=this.a;if(n.g){var i=l(n.f,n.a.c("wf",t.c,x(t).toString(),"active")),e=[],o=[n.a.c("wf",t.c,x(t).toString(),"loading")];i||e.push(n.a.c("wf",t.c,x(t).toString(),"inactive")),h(n.f,e,o)}S(n,"fontinactive",t),H(this)},M.prototype.load=function(t){this.c=new a(this.j,t.context||this.j),this.g=!1!==t.events,this.f=!1!==t.classes,function(t,n,i){var e=[],o=i.timeout;!function(t){t.g&&h(t.f,[t.a.c("wf","loading")]),S(t,"loading")}(n);var e=function(t,n,i){var e,o=[];for(e in n)if(n.hasOwnProperty(e)){var a=t.c[e];a&&o.push(a(n[e],i))}return o}(t.a,i,t.c),a=new $(t.c,n,o);for(t.h=e.length,n=0,i=e.length;n<i;n++)e[n].load(function(n,i,e){z(t,a,n,i,e)})}(this,new k(this.c,t),t)},G.prototype.load=function(t){var n=this,i=n.a.projectId,e=n.a.version;if(i){var o=n.c.o;p(this.c,(n.a.api||"https://fast.fonts.net/jsapi")+"/"+i+".js"+(e?"?v="+e:""),function(e){e?t([]):(o["__MonotypeConfiguration__"+i]=function(){return n.a},function n(){if(o["__mti_fntLst"+i]){var e,a=o["__mti_fntLst"+i](),s=[];if(a)for(var r=0;r<a.length;r++){var f=a[r].fontfamily;null!=a[r].fontStyle&&null!=a[r].fontWeight?(e=a[r].fontStyle+a[r].fontWeight,s.push(new y(f,e))):s.push(new y(f))}t(s)}else setTimeout(function(){n()},50)}())}).id="__MonotypeAPIScript__"+i}else t([])},K.prototype.load=function(t){var n,i,e=this.a.urls||[],o=this.a.families||[],a=this.a.testStrings||{},s=new g;for(n=0,i=e.length;n<i;n++)u(this.c,e[n],d(s));var r=[];for(n=0,i=o.length;n<i;n++)if((e=o[n].split(":"))[1])for(var f=e[1].split(","),c=0;c<f.length;c+=1)r.push(new y(e[0],f[c]));else r.push(new y(e[0]));v(s,function(){t(r,a)})};var U="https://fonts.googleapis.com/css";function V(t){this.f=t,this.a=[],this.c={}}var X={latin:"BESbswy","latin-ext":"çöüğş",cyrillic:"йяЖ",greek:"αβΣ",khmer:"កខគ",Hanuman:"កខគ"},J={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},Q={i:"i",italic:"i",n:"n",normal:"n"},Y=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;function Z(t,n){this.c=t,this.a=n}var tt={Arimo:!0,Cousine:!0,Tinos:!0};function nt(t,n){this.c=t,this.a=n}function it(t,n){this.c=t,this.f=n,this.a=[]}Z.prototype.load=function(t){var n=new g,i=this.c,e=new R(this.a.api,this.a.text),o=this.a.families;!function(t,n){for(var i=n.length,e=0;e<i;e++){var o=n[e].split(":");3==o.length&&t.f.push(o.pop());var a="";2==o.length&&""!=o[1]&&(a=":"),t.a.push(o.join(a))}}(e,o);var a=new V(o);!function(t){for(var n=t.f.length,i=0;i<n;i++){var e=t.f[i].split(":"),o=e[0].replace(/\+/g," "),a=["n4"];if(2<=e.length){var s;if(s=[],r=e[1])for(var r,f=(r=r.split(",")).length,c=0;c<f;c++){var h;if((h=r[c]).match(/^[\w-]+$/))if(null==(u=Y.exec(h.toLowerCase())))h="";else{if(h=null==(h=u[2])||""==h?"n":Q[h],null==(u=u[1])||""==u)u="4";else var l=J[u],u=l||(isNaN(u)?"4":u.substr(0,1));h=[h,u].join("")}else h="";h&&s.push(h)}0<s.length&&(a=s),3==e.length&&(s=[],0<(e=(e=e[2])?e.split(","):s).length&&(e=X[e[0]])&&(t.c[o]=e))}for(t.c[o]||(e=X[o])&&(t.c[o]=e),e=0;e<a.length;e+=1)t.a.push(new y(o,a[e]))}}(a),u(i,function(t){if(0==t.a.length)throw Error("No fonts to load!");if(-1!=t.c.indexOf("kit="))return t.c;for(var n=t.a.length,i=[],e=0;e<n;e++)i.push(t.a[e].replace(/ /g,"+"));return n=t.c+"?family="+i.join("%7C"),0<t.f.length&&(n+="&subset="+t.f.join(",")),0<t.g.length&&(n+="&text="+encodeURIComponent(t.g)),n}(e),d(n)),v(n,function(){t(a.a,a.c,tt)})},nt.prototype.load=function(t){var n=this.a.id,i=this.c.o;n?p(this.c,(this.a.api||"https://use.typekit.net")+"/"+n+".js",function(n){if(n)t([]);else if(i.Typekit&&i.Typekit.config&&i.Typekit.config.fn){n=i.Typekit.config.fn;for(var e=[],o=0;o<n.length;o+=2)for(var a=n[o],s=n[o+1],r=0;r<s.length;r++)e.push(new y(a,s[r]));try{i.Typekit.load({events:!1,classes:!1,async:!0})}catch(f){}t(e)}},2e3):t([])},it.prototype.load=function(t){var n=this.f.id,i=this.c.o,e=this;n?(i.__webfontfontdeckmodule__||(i.__webfontfontdeckmodule__={}),i.__webfontfontdeckmodule__[n]=function(n,i){for(var o=0,a=i.fonts.length;o<a;++o){var s=i.fonts[o];e.a.push(new y(s.name,_("font-weight:"+s.weight+";font-style:"+s.style)))}t(e.a)},p(this.c,(this.f.api||"https://f.fontdeck.com/s/css/js/")+function(t){return t.o.location.hostname||t.a.location.hostname}(this.c)+"/"+n+".js",function(n){n&&t([])})):t([])};var et=new M(window);et.a.c.custom=function(t,n){return new K(n,t)},et.a.c.fontdeck=function(t,n){return new it(n,t)},et.a.c.monotype=function(t,n){return new G(n,t)},et.a.c.typekit=function(t,n){return new nt(n,t)},et.a.c.google=function(t,n){return new Z(n,t)};var ot={load:e(et.load,et)};"function"==typeof t&&t.amd?t(function(){return ot}):"undefined"!=typeof module&&module.exports?module.exports=ot:(window.WebFont=ot,window.WebFontConfig&&et.load(window.WebFontConfig))}();
},{}],"G9B6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=o(require("webfontloader")),t=o(require("loglevel")),n=r(require("./util"));function r(e){return e&&e.__esModule?e:{default:e}}function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}function o(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=o?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(r,i,u):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}function i(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw o}}}}function u(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}var d=function(){function r(){f(this,r)}return c(r,null,[{key:"getFont",value:function(e){var t,n=i(this.fonts);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.name===e)return r}}catch(a){n.e(a)}finally{n.f()}}},{key:"addFvd",value:function(e,t){return t+=":n4",e.files.italic&&(t+=",i4"),e.files.bold&&(t+=",n7"),e.files.bold_italic&&(t+=",i7"),t}},{key:"addGoogleFontStyle",value:function(e,t){var n=[];if(e.files.regular&&(e.files.regular_300?n.push("300"):n.push("400")),e.files.italic&&(e.files.italic_300?n.push("300italic"):n.push("italic")),e.files.bold&&n.push("bold"),e.files.bold_italic&&n.push("bolditalic"),n.length)return t+":"+n.join(",")}},{key:"loadFontsByName",value:function(e){var t=this,n=[],r=[];return null==this._loadQueue&&(this._loadQueue=Promise.resolve()),this._loadQueue=this._loadQueue.then(function(){var a,o=i(e);try{for(o.s();!(a=o.n()).done;){var u=a.value,l=t.getFont(u);if(l&&!l.loaded)switch(l.type){case 0:l.loaded=!0;break;case 1:var f=t.addGoogleFontStyle(l,u);-1===r.indexOf(f)&&r.push(f);break;case 2:var s=t.addFvd(l,u);-1===n.indexOf(s)&&n.push(s)}}}catch(c){o.e(c)}finally{o.f()}return n.length>0||r.length>0?t.loadFontsByFamilies(n,r):Promise.resolve(!0)}),this._loadQueue}},{key:"loadFontsByFamilies",value:function(n,a){var o=this;return new Promise(function(i,u){var l={timeout:3e3};if(n&&n.length){var f=n.map(function(e){return e.substring(0,e.indexOf(":"))});l.custom={families:n,urls:[o.fontCss(f)]}}a&&a.length&&(l.google={families:a}),l.active=function(){i()},l.inactive=function(){i()},l.fontactive=function(e,t){var n=r.getFont(e);n?n.loaded=!0:r.fonts.push({name:e,loaded:!0})},l.fontinactive=function(e,n){var a=r.getFont(e);t.warn("[live-options] failed to load font",a),a.loaded=!0},e.load(l)})}},{key:"fontPreview",value:function(e){var t=n.default.extend(r.apiParams,{name:e});return r.api+"/preview?"+n.default.buildQueryParams(t)}},{key:"fontCss",value:function(e){var t=n.default.extend(r.apiParams,{names:e.join(",")});return r.api+"/css?"+n.default.buildQueryParams(t)}}]),r}();d.fonts=[],d.api="",d.apiParams={};var v=d;exports.default=v;
},{"webfontloader":"GxDM","loglevel":"ohSP","./util":"zY0S"}],"cEki":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=u(require("./request")),t=u(require("./util")),n=o(require("loglevel"));function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}function o(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var o={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=u?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(o,i,a):o[i]=e[i]}return o.default=e,n&&n.set(e,o),o}function u(e){return e&&e.__esModule?e:{default:e}}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}var l=function(){function r(e){a(this,r);this.settings=t.default.extend({api:"",path:{products:"/products/{handle}.{view}"}},e||{})}return d(r,[{key:"fakeProduct",value:function(e){this.isProduct=function(){return!0},this.getHandleFromUrl=function(){return e}}},{key:"isAdmin",value:function(){return null!=document.getElementById("admin_bar_iframe")}},{key:"isProduct",value:function(){return-1!==window.location.pathname.indexOf("/products/")||this.isProductPreview()}},{key:"isProductPreview",value:function(){return-1!==window.location.pathname.indexOf("/products_preview")}},{key:"getDiscountUrl",value:function(e,t){return"/discount/"+e+(t?"?redirect="+t:"")}},{key:"getDiscountCode",value:function(){return t.default.readCookie("discount_code")}},{key:"saveDiscountCode",value:function(e){return t.default.writeCookie("discount_code",e,null,"/")}},{key:"removeDiscountCode",value:function(){return t.default.removeCookie("discount_code")}},{key:"getHandleFromUrl",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:location.pathname).replace(/\/$/,"").split("/"),t=("products"==e[e.length-2]||"products_preview"===e.pop())&&e[e.length-1].replace(/(.*)?\?.*$/,"$1");return decodeURIComponent(t)}},{key:"tryGetProduct",value:function(){return this.isProduct()?this.getProduct():new Promise(function(e,t){e(null)})}},{key:"tryGetProductMap",value:function(){return this.isProduct()?this.getProduct().then(function(e){return r.products}):new Promise(function(e,t){e(r.products)})}},{key:"parseProductJsonElements",value:function(){var e=document.querySelectorAll('[id^="ProductJson-"]');if(0===e.length&&(e=document.querySelectorAll('[data-product-json], [data-section-type="dynamic-featured-product"]')),e.length>0)for(var t=0;t<e.length;t++){var o=e[t];try{var u=JSON.parse(o.innerHTML);"object"===i(u.product)&&(u=u.product),u.handle&&(r.products[u.handle+".js"]=this.convertProductJson(u))}catch(a){n.debug("error parsing ProductJson: ",o,a)}}}},{key:"convertProductJson",value:function(e){if(e.options&&e.options.length&&"object"!==i(e.options[0])){for(var t=[],n=0;n<e.options.length;n++){for(var r={name:e.options[n],position:n+1,values:[]},o=0;o<e.variants.length;o++){var u=e.variants[o]["option"+r.position];u&&-1===r.values.indexOf(u)&&r.values.push(u)}t.push(r)}e.options=t}return e}},{key:"getProduct",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"js";if(!t&&!(t=this.getHandleFromUrl())&&this.isProductPreview()){var o=function(e){if(r.products.hasOwnProperty(e))return{v:new Promise(function(t,n){t(r.products[e])})}};for(var u in r.products){var a=o(u);if("object"===i(a))return a.v}}var c,d=t+"."+n;return r.products[d]?new Promise(function(e,t){e(r.products[d])}):(t?c=this.settings.api+this.settings.path.products.replace("{handle}",t).replace("{view}",n):this.isProductPreview()&&(c=window.location.href.replace("products_preview","products_preview."+n)),new e.default(c,{method:"GET",responseType:"json"}).then(function(e){var t=e.data;return"json"===n&&(t=e.data.product),r.products[d]=t,t}).catch(function(e){throw e}))}},{key:"isTheme",value:function(e){return window.Shopify&&window.Shopify.theme&&window.Shopify.theme.name&&-1!==window.Shopify.theme.name.toLowerCase().indexOf(e.toLowerCase())}},{key:"onThemeSectionEvent",value:function(e,t){return document.addEventListener("shopify:section:"+e,t)}},{key:"findProductForms",value:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:document).querySelectorAll('form[action*="/cart/add"]')}},{key:"findProductFormBestMatch",value:function(e,t){var n="#product_form_"+e,r=document.querySelector(n);if(!r){var o=null;if(t&&t.srcEl)for(var u=t.srcEl.parentNode;u;){if((o=this.findProductForms(u)).length){t.parentEl=u;break}u=u.parentNode}if(null!=o&&0!==o.length||(o=this.findProductForms()),1===o.length)return o[0];if(o.length>1)for(var i=0;i<o.length;i++){var a=(r=o[i]).getAttribute("id");if(!a||-1===a.indexOf("installment"))return r}}return r}},{key:"findProductFormVariantId",value:function(e){if(null!=e){var t=e.querySelector("[name=id]");if(null!=t&&t.value)return t.value}return null}},{key:"findProductFormQuantity",value:function(e){if(null!=e){var t=e.querySelector("[name=quantity]");if(null!=t&&t.value)return parseInt(t.value)}return 1}},{key:"findExpressPaymentButtons",value:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:document).querySelectorAll('.shopify-payment-button, [data-shopify="payment-button"]')}},{key:"findExpressDynamicCheckoutCart",value:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:document).querySelectorAll('#dynamic-checkout-cart, [data-shopify="dynamic-checkout-cart"]')}},{key:"onProductFormSubmit",value:function(e,r,o){var u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:["[data-live-validate]","[data-live-cart-add]",".cl-cart-add"],i="[type=submit],.add_to_cart,.add-to-cart,.product-addToCart,.addToCart,.addtocart-js",a=e.querySelectorAll(u.join(","));if(a.length&&(o=!1),!o){e.addEventListener("submit",r);for(var c=e.querySelectorAll(i),d=0;d<c.length;d++){c[d].addEventListener("click",r)}for(var l=c.length,s=this.findExpressPaymentButtons(e),f=0;f<s.length;f++){s[f].addEventListener("click",r,{capture:!0})}for(var p=0;p<a.length;p++){a[p].addEventListener("click",r,{capture:!0}),l=!0}return l||n.warn("[live-options] failed to find add to cart button"),l}var v=i+',.shopify-payment-button, [data-shopify="payment-button"]';e.addEventListener("click",function(e){e.target&&(t.default.matches(e.target,v)||null!=t.default.findParent(e.target,v))&&r(e)},{capture:!0})}},{key:"onCartFormSubmit",value:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["[data-live-checkout]"],o='form[action="/cart"], form[action$="/cart"], form[action*="/cart?"], form[action="/checkout"], form[action$="/checkout"], form[action*="/checkout?"]';if(r.push('a[href="/checkout"], a[href$="/checkout"], a[href*="/checkout?"]'),n){document.addEventListener("submit",function(n){n.target&&t.default.matches(n.target,o)&&e(n)},{capture:!0});var u=r.join(",");document.addEventListener("click",function(n){n.target&&(t.default.matches(n.target,u)||null!=t.default.findParent(n.target,u))&&e(n)},{capture:!0})}else{var i=document.querySelectorAll(o);if(i.length)for(var a=0;a<i.length;a++){i[a].addEventListener("submit",function(t){e(t)})}for(var c=document.querySelectorAll(r.join(",")),d=0;d<c.length;d++){c[d].addEventListener("click",e,{capture:!0})}}}},{key:"trimMoneyFormatAmount",value:function(e){var t=e.indexOf("{"),n=e.lastIndexOf("}");return-1!==t&&-1!==n&&(e=e.substring(t,n+1)),e.trim()}},{key:"parseImageDimension",value:function(e){var t={x:0,y:0},n=/(\d*)x(\d*)/.exec(e);return n&&3===n.length&&(t.x=parseInt(n[1]),t.y=n[2]?parseInt(n[2]):t.x),t}},{key:"stripImageDimension",value:function(e){var t=(e=e.replace(/_(\d*)x(\d*)/g,"")).lastIndexOf("@");-1!==t&&(e=e.substring(0,t));var n=e.lastIndexOf(".progressive");return-1!==n&&(e=e.substring(0,n)),e}}],[{key:"getInstance",value:function(e){return r._instance?r._instance:(r._instance=new r(e),r._instance)}}]),r}();l.products={},l.collections={};var s=l;exports.default=s;
},{"./request":"mx8w","./util":"zY0S","loglevel":"ohSP"}],"ydp9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=u(require("./request")),t=u(require("./util")),r=a(require("loglevel"));function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(n=function(e){return e?r:t})(e)}function a(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=n(t);if(r&&r.has(e))return r.get(e);var a={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=u?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(a,i,o):a[i]=e[i]}return a.default=e,r&&r.set(e,a),a}function u(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e}var s=function(){function n(e){i(this,n);this.cache=null,this.settings=t.default.extend({api:"",requestOptions:{responseType:"json",headers:{"Content-type":"application/json"}}},e||{})}return c(n,[{key:"getCart",value:function(){var e=this;return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.cache?Promise.resolve(this.cache):this._cart().then(function(t){return e.cache=t,t})}},{key:"getItemLine",value:function(e,t){for(var r=0;r<e.items.length;r++){var n=e.items[r];if(t.key===n.key)return r+1}return-1}},{key:"toItem",value:function(e,t,r){return{id:e,quantity:t,properties:r}}},{key:"addItem",value:function(e){return this._cartAdd(e)}},{key:"addItems",value:function(e){return this._cartAdd({items:e}).then(function(e){return e.items})}},{key:"removeItem",value:function(e){return this.updateItem(e,this.toItem(null,0))}},{key:"removeItemById",value:function(e){return this.updateItemById(this.toItem(e,0))}},{key:"updateItem",value:function(e,t){return this._cartChange({line:e,quantity:t.quantity,properties:t.properties})}},{key:"updateItemById",value:function(e){return this._cartChange(e)}},{key:"updateItemQuantitiesById",value:function(e){return this._cartUpdate({updates:e})}},{key:"setNote",value:function(e){return this._cartUpdate({note:e})}},{key:"setAttributes",value:function(e){return this._cartUpdate({attributes:e})}},{key:"clear",value:function(){return this._cartClear()}},{key:"_cart",value:function(){return this._cartRequest("/cart.js",{method:"GET"})}},{key:"_cartAdd",value:function(e){return this._cartRequest("/cart/add.js",{method:"POST",data:e})}},{key:"_cartUpdate",value:function(e){return this._cartRequest("/cart/update.js",{method:"POST",data:e})}},{key:"_cartChange",value:function(e){return this._cartRequest("/cart/change.js",{method:"POST",data:e})}},{key:"_cartClear",value:function(){return this._cartRequest("/cart/clear.js",{method:"POST"})}},{key:"_cartRequest",value:function(n,a){var u=t.default.extend(this.settings.requestOptions,a),i=this.settings.api+n;return new e.default(i,u).then(function(e){return r.debug("[shopify-cart] "+i+" response",e.data),e.data}).catch(function(e){throw r.error("[shopify-cart] "+i+" error",e),e.data})}}],[{key:"getInstance",value:function(e){return n._instance?n._instance:(n._instance=new n(e),n._instance)}}]),n}(),l=s;exports.default=l;
},{"./request":"mx8w","./util":"zY0S","loglevel":"ohSP"}],"XoAR":[function(require,module,exports) {
"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var i=function(){function t(){e(this,t)}return n(t,null,[{key:"register",value:function(e){var t=this;return this.listeners.push(e),this.patched||this._patch(),function(){var n=t.listeners.indexOf(e);-1!==n&&t.listeners.splice(n,1),0===t.listeners.length&&t._unpatch()}}},{key:"_callListeners",value:function(e){for(var n=0;n<t.listeners.length;n++){(0,t.listeners[n])(e)}}},{key:"_patch",value:function(){t.originalOpen=XMLHttpRequest.prototype.open,XMLHttpRequest.prototype.open=function(){var e=arguments[0],n=arguments[1];this.addEventListener("readystatechange",function(){4==this.readyState&&200==this.status&&t._callListeners({method:e,url:n})},!1),t.originalOpen.apply(this,arguments)},"function"==typeof window.fetch&&(t.originalFetch=window.fetch,window.fetch=function(){var e=arguments[0],n=void 0!==arguments[1]?arguments[1].method:"GET",i=t.originalFetch.apply(this,arguments);return i.then(function(){t._callListeners({method:n,url:e})}),i}),this.patched=!0}},{key:"_unpatch",value:function(){t.originalOpen&&(XMLHttpRequest.prototype.open=t.originalOpen),t.originalFetch&&(window.fetch=t.originalFetch),this.patched=!1}}]),t}();i.patched=!1,i.listeners=[];var r=i;exports.default=r;
},{}],"P1HH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isDirective=exports.directive=void 0;var e=new WeakMap,t=function(t){return function(){var r=t.apply(void 0,arguments);return e.set(r,!0),r}};exports.directive=t;var r=function(t){return"function"==typeof t&&e.has(t)};exports.isDirective=r;
},{}],"JQ4u":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.removeNodes=exports.reparentNodes=exports.isCEPolyfill=void 0;var e="undefined"!=typeof window&&null!=window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback;exports.isCEPolyfill=e;var o=function(e,o){for(var l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;o!==l;){var n=o.nextSibling;e.insertBefore(o,r),o=n}};exports.reparentNodes=o;var l=function(e,o){for(var l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;o!==l;){var r=o.nextSibling;e.removeChild(o),o=r}};exports.removeNodes=l;
},{}],"m4zr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.nothing=exports.noChange=void 0;var e={};exports.noChange=e;var o={};exports.nothing=o;
},{}],"kXJ6":[function(require,module,exports) {
"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.lastAttributeNameRegex=exports.createMarker=exports.isTemplatePartActive=exports.Template=exports.boundAttributeSuffix=exports.markerRegex=exports.nodeMarker=exports.marker=void 0;var t="{{lit-".concat(String(Math.random()).slice(2),"}}");exports.marker=t;var r="\x3c!--".concat(t,"--\x3e");exports.nodeMarker=r;var a=new RegExp("".concat(t,"|").concat(r));exports.markerRegex=a;var n="$lit$";exports.boundAttributeSuffix=n;var o=function r(o,i){e(this,r),this.parts=[],this.element=i;for(var l=[],c=[],u=document.createTreeWalker(i.content,133,null,!1),d=0,f=-1,v=0,h=o.strings,m=o.values.length;v<m;){var g=u.nextNode();if(null!==g){if(f++,1===g.nodeType){if(g.hasAttributes()){for(var b=g.attributes,T=b.length,A=0,N=0;N<T;N++)s(b[N].name,n)&&A++;for(;A-- >0;){var k=h[v],y=p.exec(k)[2],M=y.toLowerCase()+n,R=g.getAttribute(M);g.removeAttribute(M);var S=R.split(a);this.parts.push({type:"attribute",index:f,name:y,strings:S}),v+=S.length-1}}"TEMPLATE"===g.tagName&&(c.push(g),u.currentNode=g.content)}else if(3===g.nodeType){var w=g.data;if(w.indexOf(t)>=0){for(var C=g.parentNode,E=w.split(a),P=E.length-1,B=0;B<P;B++){var F=void 0,O=E[B];if(""===O)F=x();else{var $=p.exec(O);null!==$&&s($[2],n)&&(O=O.slice(0,$.index)+$[1]+$[2].slice(0,-n.length)+$[3]),F=document.createTextNode(O)}C.insertBefore(F,g),this.parts.push({type:"node",index:++f})}""===E[P]?(C.insertBefore(x(),g),l.push(g)):g.data=E[P],v+=P}}else if(8===g.nodeType)if(g.data===t){var L=g.parentNode;null!==g.previousSibling&&f!==d||(f++,L.insertBefore(x(),g)),d=f,this.parts.push({type:"node",index:f}),null===g.nextSibling?g.data="":(l.push(g),f--),v++}else for(var _=-1;-1!==(_=g.data.indexOf(t,_+1));)this.parts.push({type:"node",index:-1}),v++}else u.currentNode=c.pop()}for(var j=0,W=l;j<W.length;j++){var q=W[j];q.parentNode.removeChild(q)}};exports.Template=o;var s=function(e,t){var r=e.length-t.length;return r>=0&&e.slice(r)===t},i=function(e){return-1!==e.index};exports.isTemplatePartActive=i;var x=function(){return document.createComment("")};exports.createMarker=x;var p=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;exports.lastAttributeNameRegex=p;
},{}],"nn5n":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TemplateInstance=void 0;var e=require("./dom.js"),t=require("./template.js");function r(e){return i(e)||o(e)||s(e)||n()}function n(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function i(e){if(Array.isArray(e))return l(e)}function a(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=s(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function s(e,t){if(e){if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t,r){return t&&c(e.prototype,t),r&&c(e,r),e}var p=function(){function n(e,t,r){u(this,n),this.__parts=[],this.template=e,this.processor=t,this.options=r}return f(n,[{key:"update",value:function(e){var t,r=0,n=a(this.__parts);try{for(n.s();!(t=n.n()).done;){var o=t.value;void 0!==o&&o.setValue(e[r]),r++}}catch(u){n.e(u)}finally{n.f()}var i,s=a(this.__parts);try{for(s.s();!(i=s.n()).done;){var l=i.value;void 0!==l&&l.commit()}}catch(u){s.e(u)}finally{s.f()}}},{key:"_clone",value:function(){for(var n,o=e.isCEPolyfill?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),i=[],a=this.template.parts,s=document.createTreeWalker(o,133,null,!1),l=0,u=0,c=s.nextNode();l<a.length;)if(n=a[l],(0,t.isTemplatePartActive)(n)){for(;u<n.index;)u++,"TEMPLATE"===c.nodeName&&(i.push(c),s.currentNode=c.content),null===(c=s.nextNode())&&(s.currentNode=i.pop(),c=s.nextNode());if("node"===n.type){var f=this.processor.handleTextExpression(this.options);f.insertAfterNode(c.previousSibling),this.__parts.push(f)}else{var p;(p=this.__parts).push.apply(p,r(this.processor.handleAttributeExpressions(c,n.name,n.strings,this.options)))}l++}else this.__parts.push(void 0),l++;return e.isCEPolyfill&&(document.adoptNode(o),customElements.upgrade(o)),o}}]),n}();exports.TemplateInstance=p;
},{"./dom.js":"JQ4u","./template.js":"kXJ6"}],"SM33":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SVGTemplateResult=exports.TemplateResult=void 0;var t=require("./dom.js"),e=require("./template.js");function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e,r){return(n="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var n=o(t,e);if(n){var u=Object.getOwnPropertyDescriptor(n,e);return u.get?u.get.call(r):u.value}})(t,e,r||t)}function o(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=a(t)););return t}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=s();return function(){var r,n=a(t);if(e){var o=a(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?f(t):e}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function h(t,e,r){return e&&y(t.prototype,e),r&&y(t,r),t}var v=window.trustedTypes&&trustedTypes.createPolicy("lit-html",{createHTML:function(t){return t}}),m=" ".concat(e.marker," "),b=function(){function t(e,r,n,o){p(this,t),this.strings=e,this.values=r,this.type=n,this.processor=o}return h(t,[{key:"getHTML",value:function(){for(var t=this.strings.length-1,r="",n=!1,o=0;o<t;o++){var u=this.strings[o],i=u.lastIndexOf("\x3c!--");n=(i>-1||n)&&-1===u.indexOf("--\x3e",i+1);var c=e.lastAttributeNameRegex.exec(u);r+=null===c?u+(n?m:e.nodeMarker):u.substr(0,c.index)+c[1]+c[2]+e.boundAttributeSuffix+c[3]+e.marker}return r+=this.strings[t]}},{key:"getTemplateElement",value:function(){var t=document.createElement("template"),e=this.getHTML();return void 0!==v&&(e=v.createHTML(e)),t.innerHTML=e,t}}]),t}();exports.TemplateResult=b;var d=function(e){u(o,b);var r=c(o);function o(){return p(this,o),r.apply(this,arguments)}return h(o,[{key:"getHTML",value:function(){return"<svg>".concat(n(a(o.prototype),"getHTML",this).call(this),"</svg>")}},{key:"getTemplateElement",value:function(){var e=n(a(o.prototype),"getTemplateElement",this).call(this),r=e.content,u=r.firstChild;return r.removeChild(u),(0,t.reparentNodes)(r,u.firstChild),e}}]),o}();exports.SVGTemplateResult=d;
},{"./dom.js":"JQ4u","./template.js":"kXJ6"}],"PIiJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.EventPart=exports.PropertyPart=exports.PropertyCommitter=exports.BooleanAttributePart=exports.NodePart=exports.AttributePart=exports.AttributeCommitter=exports.isIterable=exports.isPrimitive=void 0;var t=require("./directive.js"),e=require("./dom.js"),n=require("./part.js"),i=require("./template-instance.js"),r=require("./template-result.js"),o=require("./template.js");function a(t,e,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=s(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function s(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=p(t)););return t}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=v();return function(){var n,i=p(t);if(e){var r=p(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return h(this,n)}}function h(t,e){return!e||"object"!==N(e)&&"function"!=typeof e?f(t):e}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=m(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function m(t,e){if(t){if("string"==typeof t)return y(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(t,e):void 0}}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function _(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function b(t,e,n){return e&&g(t.prototype,e),n&&g(t,n),t}function N(t){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var x=function(t){return null===t||!("object"===N(t)||"function"==typeof t)};exports.isPrimitive=x;var P=function(t){return Array.isArray(t)||!(!t||!t[Symbol.iterator])};exports.isIterable=P;var V=function(){function t(e,n,i){_(this,t),this.dirty=!0,this.element=e,this.name=n,this.strings=i,this.parts=[];for(var r=0;r<i.length-1;r++)this.parts[r]=this._createPart()}return b(t,[{key:"_createPart",value:function(){return new k(this)}},{key:"_getValue",value:function(){var t=this.strings,e=t.length-1,n=this.parts;if(1===e&&""===t[0]&&""===t[1]){var i=n[0].value;if("symbol"===N(i))return String(i);if("string"==typeof i||!P(i))return i}for(var r="",o=0;o<e;o++){r+=t[o];var a=n[o];if(void 0!==a){var s=a.value;if(x(s)||!P(s))r+="string"==typeof s?s:String(s);else{var u,l=d(s);try{for(l.s();!(u=l.n()).done;){var c=u.value;r+="string"==typeof c?c:String(c)}}catch(h){l.e(h)}finally{l.f()}}}}return r+=t[e]}},{key:"commit",value:function(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}]),t}();exports.AttributeCommitter=V;var k=function(){function e(t){_(this,e),this.value=void 0,this.committer=t}return b(e,[{key:"setValue",value:function(e){e===n.noChange||x(e)&&e===this.value||(this.value=e,(0,t.isDirective)(e)||(this.committer.dirty=!0))}},{key:"commit",value:function(){for(;(0,t.isDirective)(this.value);){var e=this.value;this.value=n.noChange,e(this)}this.value!==n.noChange&&this.committer.commit()}}]),e}();exports.AttributePart=k;var w=function(){function a(t){_(this,a),this.value=void 0,this.__pendingValue=void 0,this.options=t}return b(a,[{key:"appendInto",value:function(t){this.startNode=t.appendChild((0,o.createMarker)()),this.endNode=t.appendChild((0,o.createMarker)())}},{key:"insertAfterNode",value:function(t){this.startNode=t,this.endNode=t.nextSibling}},{key:"appendIntoPart",value:function(t){t.__insert(this.startNode=(0,o.createMarker)()),t.__insert(this.endNode=(0,o.createMarker)())}},{key:"insertAfterPart",value:function(t){t.__insert(this.startNode=(0,o.createMarker)()),this.endNode=t.endNode,t.endNode=this.startNode}},{key:"setValue",value:function(t){this.__pendingValue=t}},{key:"commit",value:function(){if(null!==this.startNode.parentNode){for(;(0,t.isDirective)(this.__pendingValue);){var e=this.__pendingValue;this.__pendingValue=n.noChange,e(this)}var i=this.__pendingValue;i!==n.noChange&&(x(i)?i!==this.value&&this.__commitText(i):i instanceof r.TemplateResult?this.__commitTemplateResult(i):i instanceof Node?this.__commitNode(i):P(i)?this.__commitIterable(i):i===n.nothing?(this.value=n.nothing,this.clear()):this.__commitText(i))}}},{key:"__insert",value:function(t){this.endNode.parentNode.insertBefore(t,this.endNode)}},{key:"__commitNode",value:function(t){this.value!==t&&(this.clear(),this.__insert(t),this.value=t)}},{key:"__commitText",value:function(t){var e=this.startNode.nextSibling,n="string"==typeof(t=null==t?"":t)?t:String(t);e===this.endNode.previousSibling&&3===e.nodeType?e.data=n:this.__commitNode(document.createTextNode(n)),this.value=t}},{key:"__commitTemplateResult",value:function(t){var e=this.options.templateFactory(t);if(this.value instanceof i.TemplateInstance&&this.value.template===e)this.value.update(t.values);else{var n=new i.TemplateInstance(e,t.processor,this.options),r=n._clone();n.update(t.values),this.__commitNode(r),this.value=n}}},{key:"__commitIterable",value:function(t){Array.isArray(this.value)||(this.value=[],this.clear());var e,n,i=this.value,r=0,o=d(t);try{for(o.s();!(n=o.n()).done;){var s=n.value;void 0===(e=i[r])&&(e=new a(this.options),i.push(e),0===r?e.appendIntoPart(this):e.insertAfterPart(i[r-1])),e.setValue(s),e.commit(),r++}}catch(u){o.e(u)}finally{o.f()}r<i.length&&(i.length=r,this.clear(e&&e.endNode))}},{key:"clear",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.startNode;(0,e.removeNodes)(this.startNode.parentNode,t.nextSibling,this.endNode)}}]),a}();exports.NodePart=w;var A=function(){function e(t,n,i){if(_(this,e),this.value=void 0,this.__pendingValue=void 0,2!==i.length||""!==i[0]||""!==i[1])throw new Error("Boolean attributes can only contain a single expression");this.element=t,this.name=n,this.strings=i}return b(e,[{key:"setValue",value:function(t){this.__pendingValue=t}},{key:"commit",value:function(){for(;(0,t.isDirective)(this.__pendingValue);){var e=this.__pendingValue;this.__pendingValue=n.noChange,e(this)}if(this.__pendingValue!==n.noChange){var i=!!this.__pendingValue;this.value!==i&&(i?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=i),this.__pendingValue=n.noChange}}}]),e}();exports.BooleanAttributePart=A;var C=function(t){u(n,V);var e=c(n);function n(t,i,r){var o;return _(this,n),(o=e.call(this,t,i,r)).single=2===r.length&&""===r[0]&&""===r[1],o}return b(n,[{key:"_createPart",value:function(){return new j(this)}},{key:"_getValue",value:function(){return this.single?this.parts[0].value:a(p(n.prototype),"_getValue",this).call(this)}},{key:"commit",value:function(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}]),n}();exports.PropertyCommitter=C;var j=function(t){u(n,k);var e=c(n);function n(){return _(this,n),e.apply(this,arguments)}return n}();exports.PropertyPart=j;var S=!1;!function(){try{var t={get capture(){return S=!0,!1}};window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch(e){}}();var O=function(){function e(t,n,i){var r=this;_(this,e),this.value=void 0,this.__pendingValue=void 0,this.element=t,this.eventName=n,this.eventContext=i,this.__boundHandleEvent=function(t){return r.handleEvent(t)}}return b(e,[{key:"setValue",value:function(t){this.__pendingValue=t}},{key:"commit",value:function(){for(;(0,t.isDirective)(this.__pendingValue);){var e=this.__pendingValue;this.__pendingValue=n.noChange,e(this)}if(this.__pendingValue!==n.noChange){var i=this.__pendingValue,r=this.value,o=null==i||null!=r&&(i.capture!==r.capture||i.once!==r.once||i.passive!==r.passive),a=null!=i&&(null==r||o);o&&this.element.removeEventListener(this.eventName,this.__boundHandleEvent,this.__options),a&&(this.__options=E(i),this.element.addEventListener(this.eventName,this.__boundHandleEvent,this.__options)),this.value=i,this.__pendingValue=n.noChange}}},{key:"handleEvent",value:function(t){"function"==typeof this.value?this.value.call(this.eventContext||this.element,t):this.value.handleEvent(t)}}]),e}();exports.EventPart=O;var E=function(t){return t&&(S?{capture:t.capture,passive:t.passive,once:t.once}:t.capture)};
},{"./directive.js":"P1HH","./dom.js":"JQ4u","./part.js":"m4zr","./template-instance.js":"nn5n","./template-result.js":"SM33","./template.js":"kXJ6"}],"mAZn":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.defaultTemplateProcessor=exports.DefaultTemplateProcessor=void 0;var e=require("./parts.js");function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function n(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}var o=function(){function r(){t(this,r)}return n(r,[{key:"handleAttributeExpressions",value:function(t,r,n,o){var a=r[0];return"."===a?new e.PropertyCommitter(t,r.slice(1),n).parts:"@"===a?[new e.EventPart(t,r.slice(1),o.eventContext)]:"?"===a?[new e.BooleanAttributePart(t,r.slice(1),n)]:new e.AttributeCommitter(t,r,n).parts}},{key:"handleTextExpression",value:function(t){return new e.NodePart(t)}}]),r}();exports.DefaultTemplateProcessor=o;var a=new o;exports.defaultTemplateProcessor=a;
},{"./parts.js":"PIiJ"}],"K8aL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.templateFactory=t,exports.templateCaches=void 0;var e=require("./template.js");function t(t){var s=r.get(t.type);void 0===s&&(s={stringsArray:new WeakMap,keyString:new Map},r.set(t.type,s));var a=s.stringsArray.get(t.strings);if(void 0!==a)return a;var n=t.strings.join(e.marker);return void 0===(a=s.keyString.get(n))&&(a=new e.Template(t,t.getTemplateElement()),s.keyString.set(n,a)),s.stringsArray.set(t.strings,a),a}var r=new Map;exports.templateCaches=r;
},{"./template.js":"kXJ6"}],"dvwX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.render=exports.parts=void 0;var e=require("./dom.js"),r=require("./parts.js"),t=require("./template-factory.js"),s=new WeakMap;exports.parts=s;var a=function(a,o,p){var i=s.get(o);void 0===i&&((0,e.removeNodes)(o,o.firstChild),s.set(o,i=new r.NodePart(Object.assign({templateFactory:t.templateFactory},p))),i.appendInto(o)),i.setValue(a),i.commit()};exports.render=a;
},{"./dom.js":"JQ4u","./parts.js":"PIiJ","./template-factory.js":"K8aL"}],"KMqM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"DefaultTemplateProcessor",{enumerable:!0,get:function(){return e.DefaultTemplateProcessor}}),Object.defineProperty(exports,"defaultTemplateProcessor",{enumerable:!0,get:function(){return e.defaultTemplateProcessor}}),Object.defineProperty(exports,"SVGTemplateResult",{enumerable:!0,get:function(){return t.SVGTemplateResult}}),Object.defineProperty(exports,"TemplateResult",{enumerable:!0,get:function(){return t.TemplateResult}}),Object.defineProperty(exports,"directive",{enumerable:!0,get:function(){return r.directive}}),Object.defineProperty(exports,"isDirective",{enumerable:!0,get:function(){return r.isDirective}}),Object.defineProperty(exports,"removeNodes",{enumerable:!0,get:function(){return n.removeNodes}}),Object.defineProperty(exports,"reparentNodes",{enumerable:!0,get:function(){return n.reparentNodes}}),Object.defineProperty(exports,"noChange",{enumerable:!0,get:function(){return o.noChange}}),Object.defineProperty(exports,"nothing",{enumerable:!0,get:function(){return o.nothing}}),Object.defineProperty(exports,"AttributeCommitter",{enumerable:!0,get:function(){return i.AttributeCommitter}}),Object.defineProperty(exports,"AttributePart",{enumerable:!0,get:function(){return i.AttributePart}}),Object.defineProperty(exports,"BooleanAttributePart",{enumerable:!0,get:function(){return i.BooleanAttributePart}}),Object.defineProperty(exports,"EventPart",{enumerable:!0,get:function(){return i.EventPart}}),Object.defineProperty(exports,"isIterable",{enumerable:!0,get:function(){return i.isIterable}}),Object.defineProperty(exports,"isPrimitive",{enumerable:!0,get:function(){return i.isPrimitive}}),Object.defineProperty(exports,"NodePart",{enumerable:!0,get:function(){return i.NodePart}}),Object.defineProperty(exports,"PropertyCommitter",{enumerable:!0,get:function(){return i.PropertyCommitter}}),Object.defineProperty(exports,"PropertyPart",{enumerable:!0,get:function(){return i.PropertyPart}}),Object.defineProperty(exports,"parts",{enumerable:!0,get:function(){return u.parts}}),Object.defineProperty(exports,"render",{enumerable:!0,get:function(){return u.render}}),Object.defineProperty(exports,"templateCaches",{enumerable:!0,get:function(){return a.templateCaches}}),Object.defineProperty(exports,"templateFactory",{enumerable:!0,get:function(){return a.templateFactory}}),Object.defineProperty(exports,"TemplateInstance",{enumerable:!0,get:function(){return p.TemplateInstance}}),Object.defineProperty(exports,"createMarker",{enumerable:!0,get:function(){return s.createMarker}}),Object.defineProperty(exports,"isTemplatePartActive",{enumerable:!0,get:function(){return s.isTemplatePartActive}}),Object.defineProperty(exports,"Template",{enumerable:!0,get:function(){return s.Template}}),exports.svg=exports.html=void 0;var e=require("./lib/default-template-processor.js"),t=require("./lib/template-result.js"),r=require("./lib/directive.js"),n=require("./lib/dom.js"),o=require("./lib/part.js"),i=require("./lib/parts.js"),u=require("./lib/render.js"),a=require("./lib/template-factory.js"),p=require("./lib/template-instance.js"),s=require("./lib/template.js");"undefined"!=typeof window&&(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.3.0");var l=function(r){for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return new t.TemplateResult(r,o,"html",e.defaultTemplateProcessor)};exports.html=l;var c=function(r){for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return new t.SVGTemplateResult(r,o,"svg",e.defaultTemplateProcessor)};exports.svg=c;
},{"./lib/default-template-processor.js":"mAZn","./lib/template-result.js":"SM33","./lib/directive.js":"P1HH","./lib/dom.js":"JQ4u","./lib/part.js":"m4zr","./lib/parts.js":"PIiJ","./lib/render.js":"dvwX","./lib/template-factory.js":"K8aL","./lib/template-instance.js":"nn5n","./lib/template.js":"kXJ6"}],"KwvA":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.modifierPhases=exports.afterWrite=exports.write=exports.beforeWrite=exports.afterMain=exports.main=exports.beforeMain=exports.afterRead=exports.read=exports.beforeRead=exports.placements=exports.variationPlacements=exports.reference=exports.popper=exports.viewport=exports.clippingParents=exports.end=exports.start=exports.basePlacements=exports.auto=exports.left=exports.right=exports.bottom=exports.top=void 0;var e="top";exports.top=e;var r="bottom";exports.bottom=r;var t="right";exports.right=t;var o="left";exports.left=o;var a="auto";exports.auto=a;var p=[e,r,t,o];exports.basePlacements=p;var s="start";exports.start=s;var x="end";exports.end=x;var i="clippingParents";exports.clippingParents=i;var n="viewport";exports.viewport=n;var v="popper";exports.popper=v;var f="reference";exports.reference=f;var c=p.reduce(function(e,r){return e.concat([r+"-"+s,r+"-"+x])},[]);exports.variationPlacements=c;var d=[].concat(p,[a]).reduce(function(e,r){return e.concat([r,r+"-"+s,r+"-"+x])},[]);exports.placements=d;var b="beforeRead";exports.beforeRead=b;var l="read";exports.read=l;var m="afterRead";exports.afterRead=m;var u="beforeMain";exports.beforeMain=u;var P="main";exports.main=P;var M="afterMain";exports.afterMain=M;var g="beforeWrite";exports.beforeWrite=g;var w="write";exports.write=w;var R="afterWrite";exports.afterWrite=R;var W=[b,l,m,u,P,M,g,w,R];exports.modifierPhases=W;
},{}],"hqUe":[function(require,module,exports) {
"use strict";function e(e){return e?(e.nodeName||"").toLowerCase():null}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"iP0B":[function(require,module,exports) {
"use strict";function e(e){if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"lOVC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isElement=n,exports.isHTMLElement=o,exports.isShadowRoot=r;var e=t(require("./getWindow.js"));function t(e){return e&&e.__esModule?e:{default:e}}function n(t){return t instanceof(0,e.default)(t).Element||t instanceof Element}function o(t){return t instanceof(0,e.default)(t).HTMLElement||t instanceof HTMLElement}function r(t){return t instanceof(0,e.default)(t).ShadowRoot||t instanceof ShadowRoot}
},{"./getWindow.js":"iP0B"}],"pu4Q":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=s(require("../dom-utils/getNodeName.js")),t=require("../dom-utils/instanceOf.js");function s(e){return e&&e.__esModule?e:{default:e}}function r(s){var r=s.state;Object.keys(r.elements).forEach(function(s){var n=r.styles[s]||{},o=r.attributes[s]||{},a=r.elements[s];(0,t.isHTMLElement)(a)&&(0,e.default)(a)&&(Object.assign(a.style,n),Object.keys(o).forEach(function(e){var t=o[e];!1===t?a.removeAttribute(e):a.setAttribute(e,!0===t?"":t)}))})}function n(s){var r=s.state,n={popper:{position:r.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(r.elements.popper.style,n.popper),r.elements.arrow&&Object.assign(r.elements.arrow.style,n.arrow),function(){Object.keys(r.elements).forEach(function(s){var o=r.elements[s],a=r.attributes[s]||{},i=Object.keys(r.styles.hasOwnProperty(s)?r.styles[s]:n[s]).reduce(function(e,t){return e[t]="",e},{});(0,t.isHTMLElement)(o)&&(0,e.default)(o)&&(Object.assign(o.style,i),Object.keys(a).forEach(function(e){o.removeAttribute(e)}))})}}var o={name:"applyStyles",enabled:!0,phase:"write",fn:r,effect:n,requires:["computeStyles"]};exports.default=o;
},{"../dom-utils/getNodeName.js":"hqUe","../dom-utils/instanceOf.js":"lOVC"}],"yLpD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var e=require("../enums.js");function r(e){return e.split("-")[0]}
},{"../enums.js":"KwvA"}],"bgU0":[function(require,module,exports) {
"use strict";function e(e){return{x:e.offsetLeft,y:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"TozG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;var e=require("./instanceOf.js");function t(t,o){var r=o.getRootNode&&o.getRootNode();if(t.contains(o))return!0;if(r&&(0,e.isShadowRoot)(r)){var i=o;do{if(i&&t.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}
},{"./instanceOf.js":"lOVC"}],"ro5C":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=u;var e=t(require("./getWindow.js"));function t(e){return e&&e.__esModule?e:{default:e}}function u(t){return(0,e.default)(t).getComputedStyle(t)}
},{"./getWindow.js":"iP0B"}],"t2So":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var e=t(require("./getNodeName.js"));function t(e){return e&&e.__esModule?e:{default:e}}function r(t){return["table","td","th"].indexOf((0,e.default)(t))>=0}
},{"./getNodeName.js":"hqUe"}],"iOCj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;var e=require("./instanceOf.js");function t(t){return(((0,e.isElement)(t)?t.ownerDocument:t.document)||window.document).documentElement}
},{"./instanceOf.js":"lOVC"}],"Tyrb":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=u;var e=r(require("./getNodeName.js")),t=r(require("./getDocumentElement.js"));function r(e){return e&&e.__esModule?e:{default:e}}function u(r){return"html"===(0,e.default)(r)?r:r.assignedSlot||r.parentNode||r.host||(0,t.default)(r)}
},{"./getNodeName.js":"hqUe","./getDocumentElement.js":"iOCj"}],"Mnay":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=s;var e=o(require("./getWindow.js")),t=o(require("./getNodeName.js")),r=o(require("./getComputedStyle.js")),n=require("./instanceOf.js"),u=o(require("./isTableElement.js")),i=o(require("./getParentNode.js")),a=o(require("./getDocumentElement.js"));function o(e){return e&&e.__esModule?e:{default:e}}function l(e){if(!(0,n.isHTMLElement)(e)||"fixed"===(0,r.default)(e).position)return null;var u=e.offsetParent;if(u){var i=(0,a.default)(u);if("body"===(0,t.default)(u)&&"static"===(0,r.default)(u).position&&"static"!==(0,r.default)(i).position)return i}return u}function f(e){for(var u=(0,i.default)(e);(0,n.isHTMLElement)(u)&&["html","body"].indexOf((0,t.default)(u))<0;){var a=(0,r.default)(u);if("none"!==a.transform||"none"!==a.perspective||a.willChange&&"auto"!==a.willChange)return u;u=u.parentNode}return null}function s(n){for(var i=(0,e.default)(n),a=l(n);a&&(0,u.default)(a)&&"static"===(0,r.default)(a).position;)a=l(a);return a&&"body"===(0,t.default)(a)&&"static"===(0,r.default)(a).position?i:a||f(n)||i}
},{"./getWindow.js":"iP0B","./getNodeName.js":"hqUe","./getComputedStyle.js":"ro5C","./instanceOf.js":"lOVC","./isTableElement.js":"t2So","./getParentNode.js":"Tyrb","./getDocumentElement.js":"iOCj"}],"w8hZ":[function(require,module,exports) {
"use strict";function e(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"bTtH":[function(require,module,exports) {
"use strict";function e(e,t,r){return Math.max(e,Math.min(t,r))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"R9OA":[function(require,module,exports) {
"use strict";function t(){return{top:0,right:0,bottom:0,left:0}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;
},{}],"YlSo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var e=t(require("./getFreshSideObject.js"));function t(e){return e&&e.__esModule?e:{default:e}}function r(t){return Object.assign(Object.assign({},(0,e.default)()),t)}
},{"./getFreshSideObject.js":"R9OA"}],"ZqdX":[function(require,module,exports) {
"use strict";function e(e,t){return t.reduce(function(t,r){return t[r]=e,t},{})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"T3Ag":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=l(require("../utils/getBasePlacement.js")),t=l(require("../dom-utils/getLayoutRect.js")),r=l(require("../dom-utils/contains.js")),s=l(require("../dom-utils/getOffsetParent.js")),i=l(require("../utils/getMainAxisFromPlacement.js")),a=l(require("../utils/within.js")),n=l(require("../utils/mergePaddingObject.js")),u=l(require("../utils/expandToHashMap.js")),o=require("../enums.js"),f=require("../dom-utils/instanceOf.js");function l(e){return e&&e.__esModule?e:{default:e}}function d(r){var n,u=r.state,f=r.name,l=u.elements.arrow,d=u.modifiersData.popperOffsets,p=(0,e.default)(u.placement),m=(0,i.default)(p),c=[o.left,o.right].indexOf(p)>=0?"height":"width";if(l&&d){var g=u.modifiersData[f+"#persistent"].padding,q=(0,t.default)(l),j="y"===m?o.top:o.left,v="y"===m?o.bottom:o.right,h=u.rects.reference[c]+u.rects.reference[m]-d[m]-u.rects.popper[c],O=d[m]-u.rects.reference[m],y=(0,s.default)(l),w=y?"y"===m?y.clientHeight||0:y.clientWidth||0:0,x=h/2-O/2,b=g[j],P=w-q[c]-g[v],D=w/2-q[c]/2+x,M=(0,a.default)(b,D,P),_=m;u.modifiersData[f]=((n={})[_]=M,n.centerOffset=M-D,n)}}function p(e){var t=e.state,s=e.options,i=e.name,a=s.element,f=void 0===a?"[data-popper-arrow]":a,l=s.padding,d=void 0===l?0:l;null!=f&&("string"!=typeof f||(f=t.elements.popper.querySelector(f)))&&(0,r.default)(t.elements.popper,f)&&(t.elements.arrow=f,t.modifiersData[i+"#persistent"]={padding:(0,n.default)("number"!=typeof d?d:(0,u.default)(d,o.basePlacements))})}var m={name:"arrow",enabled:!0,phase:"main",fn:d,effect:p,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};exports.default=m;
},{"../utils/getBasePlacement.js":"yLpD","../dom-utils/getLayoutRect.js":"bgU0","../dom-utils/contains.js":"TozG","../dom-utils/getOffsetParent.js":"Mnay","../utils/getMainAxisFromPlacement.js":"w8hZ","../utils/within.js":"bTtH","../utils/mergePaddingObject.js":"YlSo","../utils/expandToHashMap.js":"ZqdX","../enums.js":"KwvA","../dom-utils/instanceOf.js":"lOVC"}],"p5kV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mapToStyles=u,exports.default=void 0;var e=require("../enums.js"),t=i(require("../dom-utils/getOffsetParent.js")),s=i(require("../dom-utils/getWindow.js")),o=i(require("../dom-utils/getDocumentElement.js")),a=i(require("../dom-utils/getComputedStyle.js")),r=i(require("../utils/getBasePlacement.js"));function i(e){return e&&e.__esModule?e:{default:e}}var p={top:"auto",right:"auto",bottom:"auto",left:"auto"};function n(e){var t=e.x,s=e.y,o=window.devicePixelRatio||1;return{x:Math.round(t*o)/o||0,y:Math.round(s*o)/o||0}}function u(a){var r,i=a.popper,u=a.popperRect,l=a.placement,d=a.offsets,f=a.position,c=a.gpuAcceleration,g=a.adaptive,m=a.roundOffsets?n(d):d,O=m.x,b=void 0===O?0:O,j=m.y,v=void 0===j?0:j,x=d.hasOwnProperty("x"),y=d.hasOwnProperty("y"),h=e.left,w=e.top,P=window;if(g){var q=(0,t.default)(i);q===(0,s.default)(i)&&(q=(0,o.default)(i)),l===e.top&&(w=e.bottom,v-=q.clientHeight-u.height,v*=c?1:-1),l===e.left&&(h=e.right,b-=q.clientWidth-u.width,b*=c?1:-1)}var D,M=Object.assign({position:f},g&&p);return c?Object.assign(Object.assign({},M),{},((D={})[w]=y?"0":"",D[h]=x?"0":"",D.transform=(P.devicePixelRatio||1)<2?"translate("+b+"px, "+v+"px)":"translate3d("+b+"px, "+v+"px, 0)",D)):Object.assign(Object.assign({},M),{},((r={})[w]=y?v+"px":"",r[h]=x?b+"px":"",r.transform="",r))}function l(e){var t=e.state,s=e.options,o=s.gpuAcceleration,a=void 0===o||o,i=s.adaptive,p=void 0===i||i,n=s.roundOffsets,l=void 0===n||n,d={placement:(0,r.default)(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:a};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign(Object.assign({},t.styles.popper),u(Object.assign(Object.assign({},d),{},{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:p,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign(Object.assign({},t.styles.arrow),u(Object.assign(Object.assign({},d),{},{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign(Object.assign({},t.attributes.popper),{},{"data-popper-placement":t.placement})}var d={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:l,data:{}};exports.default=d;
},{"../enums.js":"KwvA","../dom-utils/getOffsetParent.js":"Mnay","../dom-utils/getWindow.js":"iP0B","../dom-utils/getDocumentElement.js":"iOCj","../dom-utils/getComputedStyle.js":"ro5C","../utils/getBasePlacement.js":"yLpD"}],"ugN3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("../dom-utils/getWindow.js"));function t(e){return e&&e.__esModule?e:{default:e}}var r={passive:!0};function n(t){var n=t.state,s=t.instance,o=t.options,a=o.scroll,i=void 0===a||a,d=o.resize,u=void 0===d||d,c=(0,e.default)(n.elements.popper),l=[].concat(n.scrollParents.reference,n.scrollParents.popper);return i&&l.forEach(function(e){e.addEventListener("scroll",s.update,r)}),u&&c.addEventListener("resize",s.update,r),function(){i&&l.forEach(function(e){e.removeEventListener("scroll",s.update,r)}),u&&c.removeEventListener("resize",s.update,r)}}var s={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:n,data:{}};exports.default=s;
},{"../dom-utils/getWindow.js":"iP0B"}],"hGEW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;var t={left:"right",right:"left",bottom:"top",top:"bottom"};function e(e){return e.replace(/left|right|bottom|top/g,function(e){return t[e]})}
},{}],"B4ze":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;var e={start:"end",end:"start"};function t(t){return t.replace(/start|end/g,function(t){return e[t]})}
},{}],"btCD":[function(require,module,exports) {
"use strict";function t(t){var e=t.getBoundingClientRect();return{width:e.width,height:e.height,top:e.top,right:e.right,bottom:e.bottom,left:e.left,x:e.left,y:e.top}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;
},{}],"aES8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var e=t(require("./getWindow.js"));function t(e){return e&&e.__esModule?e:{default:e}}function r(t){var r=(0,e.default)(t);return{scrollLeft:r.pageXOffset,scrollTop:r.pageYOffset}}
},{"./getWindow.js":"iP0B"}],"pET8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=l;var e=u(require("./getBoundingClientRect.js")),t=u(require("./getDocumentElement.js")),r=u(require("./getWindowScroll.js"));function u(e){return e&&e.__esModule?e:{default:e}}function l(u){return(0,e.default)((0,t.default)(u)).left+(0,r.default)(u).scrollLeft}
},{"./getBoundingClientRect.js":"btCD","./getDocumentElement.js":"iOCj","./getWindowScroll.js":"aES8"}],"uJtB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=u;var e=i(require("./getWindow.js")),t=i(require("./getDocumentElement.js")),r=i(require("./getWindowScrollBarX.js"));function i(e){return e&&e.__esModule?e:{default:e}}function u(i){var u=(0,e.default)(i),o=(0,t.default)(i),n=u.visualViewport,a=o.clientWidth,d=o.clientHeight,s=0,f=0;return n&&(a=n.width,d=n.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(s=n.offsetLeft,f=n.offsetTop)),{width:a,height:d,x:s+(0,r.default)(i),y:f}}
},{"./getWindow.js":"iP0B","./getDocumentElement.js":"iOCj","./getWindowScrollBarX.js":"pET8"}],"xGf3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=o;var e=i(require("./getDocumentElement.js")),t=i(require("./getComputedStyle.js")),l=i(require("./getWindowScrollBarX.js")),r=i(require("./getWindowScroll.js"));function i(e){return e&&e.__esModule?e:{default:e}}function o(i){var o=(0,e.default)(i),c=(0,r.default)(i),d=i.ownerDocument.body,u=Math.max(o.scrollWidth,o.clientWidth,d?d.scrollWidth:0,d?d.clientWidth:0),n=Math.max(o.scrollHeight,o.clientHeight,d?d.scrollHeight:0,d?d.clientHeight:0),a=-c.scrollLeft+(0,l.default)(i),h=-c.scrollTop;return"rtl"===(0,t.default)(d||o).direction&&(a+=Math.max(o.clientWidth,d?d.clientWidth:0)-u),{width:u,height:n,x:a,y:h}}
},{"./getDocumentElement.js":"iOCj","./getComputedStyle.js":"ro5C","./getWindowScrollBarX.js":"pET8","./getWindowScroll.js":"aES8"}],"T26w":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var e=t(require("./getComputedStyle.js"));function t(e){return e&&e.__esModule?e:{default:e}}function r(t){var r=(0,e.default)(t),o=r.overflow,u=r.overflowX,l=r.overflowY;return/auto|scroll|overlay|hidden/.test(o+l+u)}
},{"./getComputedStyle.js":"ro5C"}],"zGGS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=o;var e=n(require("./getParentNode.js")),t=n(require("./isScrollParent.js")),r=n(require("./getNodeName.js")),u=require("./instanceOf.js");function n(e){return e&&e.__esModule?e:{default:e}}function o(n){return["html","body","#document"].indexOf((0,r.default)(n))>=0?n.ownerDocument.body:(0,u.isHTMLElement)(n)&&(0,t.default)(n)?n:o((0,e.default)(n))}
},{"./getParentNode.js":"Tyrb","./isScrollParent.js":"T26w","./getNodeName.js":"hqUe","./instanceOf.js":"lOVC"}],"inBY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=d;var e=o(require("./getScrollParent.js")),t=o(require("./getParentNode.js")),r=o(require("./getNodeName.js")),u=o(require("./getWindow.js")),a=o(require("./isScrollParent.js"));function o(e){return e&&e.__esModule?e:{default:e}}function d(o,l){void 0===l&&(l=[]);var i=(0,e.default)(o),n="body"===(0,r.default)(i),s=(0,u.default)(i),c=n?[s].concat(s.visualViewport||[],(0,a.default)(i)?i:[]):i,f=l.concat(c);return n?f:f.concat(d((0,t.default)(c)))}
},{"./getScrollParent.js":"zGGS","./getParentNode.js":"Tyrb","./getNodeName.js":"hqUe","./getWindow.js":"iP0B","./isScrollParent.js":"T26w"}],"vA8j":[function(require,module,exports) {
"use strict";function t(t){return Object.assign(Object.assign({},t),{},{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;
},{}],"MtyE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=j;var e=require("../enums.js"),t=g(require("./getViewportRect.js")),r=g(require("./getDocumentRect.js")),i=g(require("./listScrollParents.js")),n=g(require("./getOffsetParent.js")),u=g(require("./getDocumentElement.js")),o=g(require("./getComputedStyle.js")),l=require("./instanceOf.js"),f=g(require("./getBoundingClientRect.js")),a=g(require("./getParentNode.js")),s=g(require("./contains.js")),c=g(require("./getNodeName.js")),d=g(require("../utils/rectToClientRect.js"));function g(e){return e&&e.__esModule?e:{default:e}}function h(e){var t=(0,f.default)(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}function m(i,n){return n===e.viewport?(0,d.default)((0,t.default)(i)):(0,l.isHTMLElement)(n)?h(n):(0,d.default)((0,r.default)((0,u.default)(i)))}function p(e){var t=(0,i.default)((0,a.default)(e)),r=["absolute","fixed"].indexOf((0,o.default)(e).position)>=0&&(0,l.isHTMLElement)(e)?(0,n.default)(e):e;return(0,l.isElement)(r)?t.filter(function(e){return(0,l.isElement)(e)&&(0,s.default)(e,r)&&"body"!==(0,c.default)(e)}):[]}function j(e,t,r){var i="clippingParents"===t?p(e):[].concat(t),n=[].concat(i,[r]),u=n[0],o=n.reduce(function(t,r){var i=m(e,r);return t.top=Math.max(i.top,t.top),t.right=Math.min(i.right,t.right),t.bottom=Math.min(i.bottom,t.bottom),t.left=Math.max(i.left,t.left),t},m(e,u));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}
},{"../enums.js":"KwvA","./getViewportRect.js":"uJtB","./getDocumentRect.js":"xGf3","./listScrollParents.js":"inBY","./getOffsetParent.js":"Mnay","./getDocumentElement.js":"iOCj","./getComputedStyle.js":"ro5C","./instanceOf.js":"lOVC","./getBoundingClientRect.js":"btCD","./getParentNode.js":"Tyrb","./contains.js":"TozG","./getNodeName.js":"hqUe","../utils/rectToClientRect.js":"vA8j"}],"kB4N":[function(require,module,exports) {
"use strict";function e(e){return e.split("-")[1]}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"HyU9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=u;var e=i(require("./getBasePlacement.js")),t=i(require("./getVariation.js")),r=i(require("./getMainAxisFromPlacement.js")),a=require("../enums.js");function i(e){return e&&e.__esModule?e:{default:e}}function u(i){var u,l=i.reference,s=i.element,n=i.placement,h=n?(0,e.default)(n):null,c=n?(0,t.default)(n):null,d=l.x+l.width/2-s.width/2,f=l.y+l.height/2-s.height/2;switch(h){case a.top:u={x:d,y:l.y-s.height};break;case a.bottom:u={x:d,y:l.y+l.height};break;case a.right:u={x:l.x+l.width,y:f};break;case a.left:u={x:l.x-s.width,y:f};break;default:u={x:l.x,y:l.y}}var o=h?(0,r.default)(h):null;if(null!=o){var x="y"===o?"height":"width";switch(c){case a.start:u[o]=u[o]-(l[x]/2-s[x]/2);break;case a.end:u[o]=u[o]+(l[x]/2-s[x]/2)}}return u}
},{"./getBasePlacement.js":"yLpD","./getVariation.js":"kB4N","./getMainAxisFromPlacement.js":"w8hZ","../enums.js":"KwvA"}],"lMQv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=a;var e=l(require("../dom-utils/getBoundingClientRect.js")),t=l(require("../dom-utils/getClippingRect.js")),r=l(require("../dom-utils/getDocumentElement.js")),o=l(require("./computeOffsets.js")),i=l(require("./rectToClientRect.js")),n=require("../enums.js"),p=require("../dom-utils/instanceOf.js"),s=l(require("./mergePaddingObject.js")),u=l(require("./expandToHashMap.js"));function l(e){return e&&e.__esModule?e:{default:e}}function a(l,a){void 0===a&&(a={});var d=a,f=d.placement,m=void 0===f?l.placement:f,c=d.boundary,g=void 0===c?n.clippingParents:c,b=d.rootBoundary,j=void 0===b?n.viewport:b,v=d.elementContext,q=void 0===v?n.popper:v,O=d.altBoundary,x=void 0!==O&&O,y=d.padding,h=void 0===y?0:y,C=(0,s.default)("number"!=typeof h?h:(0,u.default)(h,n.basePlacements)),E=q===n.popper?n.reference:n.popper,P=l.elements.reference,_=l.rects.popper,B=l.elements[x?E:q],M=(0,t.default)((0,p.isElement)(B)?B:B.contextElement||(0,r.default)(l.elements.popper),g,j),R=(0,e.default)(P),D=(0,o.default)({reference:R,element:_,strategy:"absolute",placement:m}),T=(0,i.default)(Object.assign(Object.assign({},_),D)),k=q===n.popper?T:R,w={top:M.top-k.top+C.top,bottom:k.bottom-M.bottom+C.bottom,left:M.left-k.left+C.left,right:k.right-M.right+C.right},H=l.modifiersData.offset;if(q===n.popper&&H){var z=H[m];Object.keys(w).forEach(function(e){var t=[n.right,n.bottom].indexOf(e)>=0?1:-1,r=[n.top,n.bottom].indexOf(e)>=0?"y":"x";w[e]+=z[r]*t})}return w}
},{"../dom-utils/getBoundingClientRect.js":"btCD","../dom-utils/getClippingRect.js":"MtyE","../dom-utils/getDocumentElement.js":"iOCj","./computeOffsets.js":"HyU9","./rectToClientRect.js":"vA8j","../enums.js":"KwvA","../dom-utils/instanceOf.js":"lOVC","./mergePaddingObject.js":"YlSo","./expandToHashMap.js":"ZqdX"}],"YB6F":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=u;var e=a(require("./getVariation.js")),t=require("../enums.js"),r=a(require("./detectOverflow.js")),n=a(require("./getBasePlacement.js"));function a(e){return e&&e.__esModule?e:{default:e}}function u(a,u){void 0===u&&(u={});var o=u,i=o.placement,l=o.boundary,d=o.rootBoundary,s=o.padding,c=o.flipVariations,f=o.allowedAutoPlacements,m=void 0===f?t.placements:f,p=(0,e.default)(i),v=p?c?t.variationPlacements:t.variationPlacements.filter(function(t){return(0,e.default)(t)===p}):t.basePlacements,j=v.filter(function(e){return m.indexOf(e)>=0});0===j.length&&(j=v);var y=j.reduce(function(e,t){return e[t]=(0,r.default)(a,{placement:t,boundary:l,rootBoundary:d,padding:s})[(0,n.default)(t)],e},{});return Object.keys(y).sort(function(e,t){return y[e]-y[t]})}
},{"./getVariation.js":"kB4N","../enums.js":"KwvA","./detectOverflow.js":"lMQv","./getBasePlacement.js":"yLpD"}],"sjJD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=o(require("../utils/getOppositePlacement.js")),t=o(require("../utils/getBasePlacement.js")),a=o(require("../utils/getOppositeVariationPlacement.js")),r=o(require("../utils/detectOverflow.js")),i=o(require("../utils/computeAutoPlacement.js")),n=require("../enums.js"),u=o(require("../utils/getVariation.js"));function o(e){return e&&e.__esModule?e:{default:e}}function l(r){if((0,t.default)(r)===n.auto)return[];var i=(0,e.default)(r);return[(0,a.default)(r),i,(0,a.default)(i)]}function s(a){var o=a.state,s=a.options,f=a.name;if(!o.modifiersData[f]._skip){for(var d=s.mainAxis,c=void 0===d||d,p=s.altAxis,m=void 0===p||p,v=s.fallbackPlacements,b=s.padding,g=s.boundary,y=s.rootBoundary,h=s.altBoundary,j=s.flipVariations,k=void 0===j||j,q=s.allowedAutoPlacements,P=o.options.placement,x=(0,t.default)(P),_=v||(x===P||!k?[(0,e.default)(P)]:l(P)),B=[P].concat(_).reduce(function(e,a){return e.concat((0,t.default)(a)===n.auto?(0,i.default)(o,{placement:a,boundary:g,rootBoundary:y,padding:b,flipVariations:k,allowedAutoPlacements:q}):a)},[]),w=o.rects.reference,A=o.rects.popper,O=new Map,V=!0,M=B[0],D=0;D<B.length;D++){var E=B[D],I=(0,t.default)(E),z=(0,u.default)(E)===n.start,C=[n.top,n.bottom].indexOf(I)>=0,F=C?"width":"height",G=(0,r.default)(o,{placement:E,boundary:g,rootBoundary:y,altBoundary:h,padding:b}),H=C?z?n.right:n.left:z?n.bottom:n.top;w[F]>A[F]&&(H=(0,e.default)(H));var J=(0,e.default)(H),K=[];if(c&&K.push(G[I]<=0),m&&K.push(G[H]<=0,G[J]<=0),K.every(function(e){return e})){M=E,V=!1;break}O.set(E,K)}if(V)for(var L=function(e){var t=B.find(function(t){var a=O.get(t);if(a)return a.slice(0,e).every(function(e){return e})});if(t)return M=t,"break"},N=k?3:1;N>0;N--){if("break"===L(N))break}o.placement!==M&&(o.modifiersData[f]._skip=!0,o.placement=M,o.reset=!0)}}var f={name:"flip",enabled:!0,phase:"main",fn:s,requiresIfExists:["offset"],data:{_skip:!1}};exports.default=f;
},{"../utils/getOppositePlacement.js":"hGEW","../utils/getBasePlacement.js":"yLpD","../utils/getOppositeVariationPlacement.js":"B4ze","../utils/detectOverflow.js":"lMQv","../utils/computeAutoPlacement.js":"YB6F","../enums.js":"KwvA","../utils/getVariation.js":"kB4N"}],"T3oQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../enums.js"),t=r(require("../utils/detectOverflow.js"));function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,r){return void 0===r&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function i(t){return[e.top,e.right,e.bottom,e.left].some(function(e){return t[e]>=0})}function n(e){var r=e.state,n=e.name,s=r.rects.reference,p=r.rects.popper,a=r.modifiersData.preventOverflow,f=(0,t.default)(r,{elementContext:"reference"}),d=(0,t.default)(r,{altBoundary:!0}),u=o(f,s),c=o(d,p,a),l=i(u),h=i(c);r.modifiersData[n]={referenceClippingOffsets:u,popperEscapeOffsets:c,isReferenceHidden:l,hasPopperEscaped:h},r.attributes.popper=Object.assign(Object.assign({},r.attributes.popper),{},{"data-popper-reference-hidden":l,"data-popper-escaped":h})}var s={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:n};exports.default=s;
},{"../enums.js":"KwvA","../utils/detectOverflow.js":"lMQv"}],"YSdh":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.distanceAndSkiddingToXY=r,exports.default=void 0;var e=s(require("../utils/getBasePlacement.js")),t=require("../enums.js");function s(e){return e&&e.__esModule?e:{default:e}}function r(s,r,n){var f=(0,e.default)(s),a=[t.left,t.top].indexOf(f)>=0?-1:1,i="function"==typeof n?n(Object.assign(Object.assign({},r),{},{placement:s})):n,o=i[0],p=i[1];return o=o||0,p=(p||0)*a,[t.left,t.right].indexOf(f)>=0?{x:p,y:o}:{x:o,y:p}}function n(e){var s=e.state,n=e.options,f=e.name,a=n.offset,i=void 0===a?[0,0]:a,o=t.placements.reduce(function(e,t){return e[t]=r(t,s.rects,i),e},{}),p=o[s.placement],u=p.x,d=p.y;null!=s.modifiersData.popperOffsets&&(s.modifiersData.popperOffsets.x+=u,s.modifiersData.popperOffsets.y+=d),s.modifiersData[f]=o}var f={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:n};exports.default=f;
},{"../utils/getBasePlacement.js":"yLpD","../enums.js":"KwvA"}],"KKNB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("../utils/computeOffsets.js"));function t(e){return e&&e.__esModule?e:{default:e}}function r(t){var r=t.state,a=t.name;r.modifiersData[a]=(0,e.default)({reference:r.rects.reference,element:r.rects.popper,strategy:"absolute",placement:r.placement})}var a={name:"popperOffsets",enabled:!0,phase:"read",fn:r,data:{}};exports.default=a;
},{"../utils/computeOffsets.js":"HyU9"}],"lz0w":[function(require,module,exports) {
"use strict";function e(e){return"x"===e?"y":"x"}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"T716":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../enums.js"),t=d(require("../utils/getBasePlacement.js")),r=d(require("../utils/getMainAxisFromPlacement.js")),a=d(require("../utils/getAltAxis.js")),i=d(require("../utils/within.js")),s=d(require("../dom-utils/getLayoutRect.js")),o=d(require("../dom-utils/getOffsetParent.js")),u=d(require("../utils/detectOverflow.js")),f=d(require("../utils/getVariation.js")),n=d(require("../utils/getFreshSideObject.js"));function d(e){return e&&e.__esModule?e:{default:e}}function l(d){var l=d.state,m=d.options,p=d.name,c=m.mainAxis,g=void 0===c||c,h=m.altAxis,j=void 0!==h&&h,v=m.boundary,y=m.rootBoundary,x=m.altBoundary,q=m.padding,w=m.tether,b=void 0===w||w,O=m.tetherOffset,D=void 0===O?0:O,A=(0,u.default)(l,{boundary:v,rootBoundary:y,padding:q,altBoundary:x}),B=(0,t.default)(l.placement),M=(0,f.default)(l.placement),P=!M,_=(0,r.default)(B),F=(0,a.default)(_),L=l.modifiersData.popperOffsets,E=l.rects.reference,I=l.rects.popper,R="function"==typeof D?D(Object.assign(Object.assign({},l.rects),{},{placement:l.placement})):D,S={x:0,y:0};if(L){if(g){var T="y"===_?e.top:e.left,V="y"===_?e.bottom:e.right,k="y"===_?"height":"width",z=L[_],C=L[_]+A[T],G=L[_]-A[V],H=b?-I[k]/2:0,J=M===e.start?E[k]:I[k],K=M===e.start?-I[k]:-E[k],N=l.elements.arrow,Q=b&&N?(0,s.default)(N):{width:0,height:0},U=l.modifiersData["arrow#persistent"]?l.modifiersData["arrow#persistent"].padding:(0,n.default)(),W=U[T],X=U[V],Y=(0,i.default)(0,E[k],Q[k]),Z=P?E[k]/2-H-Y-W-R:J-Y-W-R,$=P?-E[k]/2+H+Y+X+R:K+Y+X+R,ee=l.elements.arrow&&(0,o.default)(l.elements.arrow),te=ee?"y"===_?ee.clientTop||0:ee.clientLeft||0:0,re=l.modifiersData.offset?l.modifiersData.offset[l.placement][_]:0,ae=L[_]+Z-re-te,ie=L[_]+$-re,se=(0,i.default)(b?Math.min(C,ae):C,z,b?Math.max(G,ie):G);L[_]=se,S[_]=se-z}if(j){var oe="x"===_?e.top:e.left,ue="x"===_?e.bottom:e.right,fe=L[F],ne=fe+A[oe],de=fe-A[ue],le=(0,i.default)(ne,fe,de);L[F]=le,S[F]=le-fe}l.modifiersData[p]=S}}var m={name:"preventOverflow",enabled:!0,phase:"main",fn:l,requiresIfExists:["offset"]};exports.default=m;
},{"../enums.js":"KwvA","../utils/getBasePlacement.js":"yLpD","../utils/getMainAxisFromPlacement.js":"w8hZ","../utils/getAltAxis.js":"lz0w","../utils/within.js":"bTtH","../dom-utils/getLayoutRect.js":"bgU0","../dom-utils/getOffsetParent.js":"Mnay","../utils/detectOverflow.js":"lMQv","../utils/getVariation.js":"kB4N","../utils/getFreshSideObject.js":"R9OA"}],"afdv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"applyStyles",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(exports,"arrow",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(exports,"computeStyles",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(exports,"eventListeners",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(exports,"flip",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(exports,"hide",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(exports,"offset",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(exports,"popperOffsets",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(exports,"preventOverflow",{enumerable:!0,get:function(){return i.default}});var e=p(require("./applyStyles.js")),r=p(require("./arrow.js")),t=p(require("./computeStyles.js")),n=p(require("./eventListeners.js")),u=p(require("./flip.js")),f=p(require("./hide.js")),o=p(require("./offset.js")),s=p(require("./popperOffsets.js")),i=p(require("./preventOverflow.js"));function p(e){return e&&e.__esModule?e:{default:e}}
},{"./applyStyles.js":"pu4Q","./arrow.js":"T3Ag","./computeStyles.js":"p5kV","./eventListeners.js":"ugN3","./flip.js":"sjJD","./hide.js":"T3oQ","./offset.js":"YSdh","./popperOffsets.js":"KKNB","./preventOverflow.js":"T716"}],"MDXK":[function(require,module,exports) {
"use strict";function e(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"ISrc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=n;var e=l(require("./getWindowScroll.js")),t=l(require("./getWindow.js")),r=require("./instanceOf.js"),u=l(require("./getHTMLElementScroll.js"));function l(e){return e&&e.__esModule?e:{default:e}}function n(l){return l!==(0,t.default)(l)&&(0,r.isHTMLElement)(l)?(0,u.default)(l):(0,e.default)(l)}
},{"./getWindowScroll.js":"aES8","./getWindow.js":"iP0B","./instanceOf.js":"lOVC","./getHTMLElementScroll.js":"MDXK"}],"At1X":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=d;var e=s(require("./getBoundingClientRect.js")),t=s(require("./getNodeScroll.js")),r=s(require("./getNodeName.js")),l=require("./instanceOf.js"),u=s(require("./getWindowScrollBarX.js")),i=s(require("./getDocumentElement.js")),o=s(require("./isScrollParent.js"));function s(e){return e&&e.__esModule?e:{default:e}}function d(s,d,n){void 0===n&&(n=!1);var f=(0,i.default)(d),a=(0,e.default)(s),c=(0,l.isHTMLElement)(d),g={scrollLeft:0,scrollTop:0},j={x:0,y:0};return(c||!c&&!n)&&(("body"!==(0,r.default)(d)||(0,o.default)(f))&&(g=(0,t.default)(d)),(0,l.isHTMLElement)(d)?((j=(0,e.default)(d)).x+=d.clientLeft,j.y+=d.clientTop):f&&(j.x=(0,u.default)(f))),{x:a.left+g.scrollLeft-j.x,y:a.top+g.scrollTop-j.y,width:a.width,height:a.height}}
},{"./getBoundingClientRect.js":"btCD","./getNodeScroll.js":"ISrc","./getNodeName.js":"hqUe","./instanceOf.js":"lOVC","./getWindowScrollBarX.js":"pET8","./getDocumentElement.js":"iOCj","./isScrollParent.js":"T26w"}],"ND1T":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var e=require("../enums.js");function n(e){var n=new Map,r=new Set,t=[];return e.forEach(function(e){n.set(e.name,e)}),e.forEach(function(e){r.has(e.name)||function e(u){r.add(u.name),[].concat(u.requires||[],u.requiresIfExists||[]).forEach(function(t){if(!r.has(t)){var u=n.get(t);u&&e(u)}}),t.push(u)}(e)}),t}function r(r){var t=n(r);return e.modifierPhases.reduce(function(e,n){return e.concat(t.filter(function(e){return e.phase===n}))},[])}
},{"../enums.js":"KwvA"}],"dSl1":[function(require,module,exports) {
"use strict";function e(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"IW9N":[function(require,module,exports) {
"use strict";function e(e){for(var r=arguments.length,t=new Array(r>1?r-1:0),n=1;n<r;n++)t[n-1]=arguments[n];return[].concat(t).reduce(function(e,r){return e.replace(/%s/,r)},e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"xmZK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=s;var e=n(require("./format.js")),r=require("../enums.js");function n(e){return e&&e.__esModule?e:{default:e}}var a='Popper: modifier "%s" provided an invalid %s property, expected %s but got %s',o='Popper: modifier "%s" requires "%s", but "%s" modifier is not available',i=["name","enabled","phase","fn","effect","requires","options"];function s(n){n.forEach(function(s){Object.keys(s).forEach(function(t){switch(t){case"name":"string"!=typeof s.name&&console.error((0,e.default)(a,String(s.name),'"name"','"string"','"'+String(s.name)+'"'));break;case"enabled":"boolean"!=typeof s.enabled&&console.error((0,e.default)(a,s.name,'"enabled"','"boolean"','"'+String(s.enabled)+'"'));case"phase":r.modifierPhases.indexOf(s.phase)<0&&console.error((0,e.default)(a,s.name,'"phase"',"either "+r.modifierPhases.join(", "),'"'+String(s.phase)+'"'));break;case"fn":"function"!=typeof s.fn&&console.error((0,e.default)(a,s.name,'"fn"','"function"','"'+String(s.fn)+'"'));break;case"effect":"function"!=typeof s.effect&&console.error((0,e.default)(a,s.name,'"effect"','"function"','"'+String(s.fn)+'"'));break;case"requires":Array.isArray(s.requires)||console.error((0,e.default)(a,s.name,'"requires"','"array"','"'+String(s.requires)+'"'));break;case"requiresIfExists":Array.isArray(s.requiresIfExists)||console.error((0,e.default)(a,s.name,'"requiresIfExists"','"array"','"'+String(s.requiresIfExists)+'"'));break;case"options":case"data":break;default:console.error('PopperJS: an invalid property has been provided to the "'+s.name+'" modifier, valid properties are '+i.map(function(e){return'"'+e+'"'}).join(", ")+'; but "'+t+'" was provided.')}s.requires&&s.requires.forEach(function(r){null==n.find(function(e){return e.name===r})&&console.error((0,e.default)(o,String(s.name),r,r))})})})}
},{"./format.js":"IW9N","../enums.js":"KwvA"}],"bX8X":[function(require,module,exports) {
"use strict";function e(e,t){var r=new Set;return e.filter(function(e){var n=t(e);if(!r.has(n))return r.add(n),!0})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"r9N4":[function(require,module,exports) {
"use strict";function e(e){var t=e.reduce(function(e,t){var s=e[t.name];return e[t.name]=s?Object.assign(Object.assign(Object.assign({},s),t),{},{options:Object.assign(Object.assign({},s.options),t.options),data:Object.assign(Object.assign({},s.data),t.data)}):t,e},{});return Object.keys(t).map(function(e){return t[e]})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"hLbv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.popperGenerator=y,Object.defineProperty(exports,"detectOverflow",{enumerable:!0,get:function(){return c.default}}),exports.createPopper=void 0;var e=m(require("./dom-utils/getCompositeRect.js")),t=m(require("./dom-utils/getLayoutRect.js")),r=m(require("./dom-utils/listScrollParents.js")),o=m(require("./dom-utils/getOffsetParent.js")),n=m(require("./dom-utils/getComputedStyle.js")),i=m(require("./utils/orderModifiers.js")),s=m(require("./utils/debounce.js")),u=m(require("./utils/validateModifiers.js")),a=m(require("./utils/uniqueBy.js")),f=m(require("./utils/getBasePlacement.js")),d=m(require("./utils/mergeByName.js")),c=m(require("./utils/detectOverflow.js")),p=require("./dom-utils/instanceOf.js"),l=require("./enums.js");function m(e){return e&&e.__esModule?e:{default:e}}var v="Popper: Invalid reference or popper argument provided. They must be either a DOM element or virtual element.",j="Popper: An infinite loop in the modifiers cycle has been detected! The cycle has been interrupted to prevent a browser crash.",g={placement:"bottom",modifiers:[],strategy:"absolute"};function b(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(e){return!(e&&"function"==typeof e.getBoundingClientRect)})}function y(n){void 0===n&&(n={});var u=n,a=u.defaultModifiers,f=void 0===a?[]:a,c=u.defaultOptions,l=void 0===c?g:c;return function(n,u,a){void 0===a&&(a=l);var c={placement:"bottom",orderedModifiers:[],options:Object.assign(Object.assign({},g),l),modifiersData:{},elements:{reference:n,popper:u},attributes:{},styles:{}},m=[],v=!1,j={state:c,setOptions:function(e){y(),c.options=Object.assign(Object.assign(Object.assign({},l),c.options),e),c.scrollParents={reference:(0,p.isElement)(n)?(0,r.default)(n):n.contextElement?(0,r.default)(n.contextElement):[],popper:(0,r.default)(u)};var t=(0,i.default)((0,d.default)([].concat(f,c.options.modifiers)));return c.orderedModifiers=t.filter(function(e){return e.enabled}),c.orderedModifiers.forEach(function(e){var t=e.name,r=e.options,o=void 0===r?{}:r,n=e.effect;if("function"==typeof n){var i=n({state:c,name:t,instance:j,options:o});m.push(i||function(){})}}),j.update()},forceUpdate:function(){if(!v){var r=c.elements,n=r.reference,i=r.popper;if(b(n,i)){c.rects={reference:(0,e.default)(n,(0,o.default)(i),"fixed"===c.options.strategy),popper:(0,t.default)(i)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(e){return c.modifiersData[e.name]=Object.assign({},e.data)});for(var s=0;s<c.orderedModifiers.length;s++)if(!0!==c.reset){var u=c.orderedModifiers[s],a=u.fn,f=u.options,d=void 0===f?{}:f,p=u.name;"function"==typeof a&&(c=a({state:c,options:d,name:p,instance:j})||c)}else c.reset=!1,s=-1}}},update:(0,s.default)(function(){return new Promise(function(e){j.forceUpdate(),e(c)})}),destroy:function(){y(),v=!0}};if(!b(n,u))return j;function y(){m.forEach(function(e){return e()}),m=[]}return j.setOptions(a).then(function(e){!v&&a.onFirstUpdate&&a.onFirstUpdate(e)}),j}}var O=y();exports.createPopper=O;
},{"./dom-utils/getCompositeRect.js":"At1X","./dom-utils/getLayoutRect.js":"bgU0","./dom-utils/listScrollParents.js":"inBY","./dom-utils/getOffsetParent.js":"Mnay","./dom-utils/getComputedStyle.js":"ro5C","./utils/orderModifiers.js":"ND1T","./utils/debounce.js":"dSl1","./utils/validateModifiers.js":"xmZK","./utils/uniqueBy.js":"bX8X","./utils/getBasePlacement.js":"yLpD","./utils/mergeByName.js":"r9N4","./utils/detectOverflow.js":"lMQv","./dom-utils/instanceOf.js":"lOVC","./enums.js":"KwvA"}],"DvPc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"popperGenerator",{enumerable:!0,get:function(){return e.popperGenerator}}),Object.defineProperty(exports,"detectOverflow",{enumerable:!0,get:function(){return e.detectOverflow}}),exports.defaultModifiers=exports.createPopper=void 0;var e=require("./createPopper.js"),r=s(require("./modifiers/eventListeners.js")),t=s(require("./modifiers/popperOffsets.js")),o=s(require("./modifiers/computeStyles.js")),p=s(require("./modifiers/applyStyles.js"));function s(e){return e&&e.__esModule?e:{default:e}}var i=[r.default,t.default,o.default,p.default];exports.defaultModifiers=i;var u=(0,e.popperGenerator)({defaultModifiers:i});exports.createPopper=u;
},{"./createPopper.js":"hLbv","./modifiers/eventListeners.js":"ugN3","./modifiers/popperOffsets.js":"KKNB","./modifiers/computeStyles.js":"p5kV","./modifiers/applyStyles.js":"pu4Q"}],"xbYU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e={createPopper:!0,defaultModifiers:!0,popperGenerator:!0,detectOverflow:!0,createPopperLite:!0};Object.defineProperty(exports,"popperGenerator",{enumerable:!0,get:function(){return r.popperGenerator}}),Object.defineProperty(exports,"detectOverflow",{enumerable:!0,get:function(){return r.detectOverflow}}),Object.defineProperty(exports,"createPopperLite",{enumerable:!0,get:function(){return n.createPopper}}),exports.defaultModifiers=exports.createPopper=void 0;var r=require("./createPopper.js"),t=c(require("./modifiers/eventListeners.js")),o=c(require("./modifiers/popperOffsets.js")),i=c(require("./modifiers/computeStyles.js")),p=c(require("./modifiers/applyStyles.js")),s=c(require("./modifiers/offset.js")),f=c(require("./modifiers/flip.js")),u=c(require("./modifiers/preventOverflow.js")),d=c(require("./modifiers/arrow.js")),a=c(require("./modifiers/hide.js")),n=require("./popper-lite.js"),l=require("./modifiers/index.js");function c(e){return e&&e.__esModule?e:{default:e}}Object.keys(l).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in exports&&exports[r]===l[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return l[r]}}))});var j=[t.default,o.default,i.default,p.default,s.default,f.default,u.default,d.default,a.default];exports.defaultModifiers=j;var m=(0,r.popperGenerator)({defaultModifiers:j});exports.createPopper=m;
},{"./createPopper.js":"hLbv","./modifiers/eventListeners.js":"ugN3","./modifiers/popperOffsets.js":"KKNB","./modifiers/computeStyles.js":"p5kV","./modifiers/applyStyles.js":"pu4Q","./modifiers/offset.js":"YSdh","./modifiers/flip.js":"sjJD","./modifiers/preventOverflow.js":"T716","./modifiers/arrow.js":"T3Ag","./modifiers/hide.js":"T3oQ","./popper-lite.js":"DvPc","./modifiers/index.js":"afdv"}],"S1OH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e={popperGenerator:!0,detectOverflow:!0,createPopperBase:!0,createPopper:!0,createPopperLite:!0};Object.defineProperty(exports,"popperGenerator",{enumerable:!0,get:function(){return o.popperGenerator}}),Object.defineProperty(exports,"detectOverflow",{enumerable:!0,get:function(){return o.detectOverflow}}),Object.defineProperty(exports,"createPopperBase",{enumerable:!0,get:function(){return o.createPopper}}),Object.defineProperty(exports,"createPopper",{enumerable:!0,get:function(){return p.createPopper}}),Object.defineProperty(exports,"createPopperLite",{enumerable:!0,get:function(){return n.createPopper}});var r=require("./enums.js");Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(e,t)||t in exports&&exports[t]===r[t]||Object.defineProperty(exports,t,{enumerable:!0,get:function(){return r[t]}}))});var t=require("./modifiers/index.js");Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in exports&&exports[r]===t[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return t[r]}}))});var o=require("./createPopper.js"),p=require("./popper.js"),n=require("./popper-lite.js");
},{"./enums.js":"KwvA","./modifiers/index.js":"afdv","./createPopper.js":"hLbv","./popper.js":"xbYU","./popper-lite.js":"DvPc"}],"ndpH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.delegate=yt,exports.sticky=exports.roundArrow=exports.inlinePositioning=exports.hideAll=exports.followCursor=exports.createSingleton=exports.animateFill=exports.default=void 0;var t=require("@popperjs/core"),e='<svg width="16" height="6" xmlns="http://www.w3.org/2000/svg"><path d="M0 6s1.796-.013 4.67-3.615C5.851.9 6.93.006 8 0c1.07-.006 2.148.887 3.343 2.385C14.233 6.005 16 6 16 6H0z"></svg>';exports.roundArrow=e;var n="tippy-box",r="tippy-content",i="tippy-backdrop",o="tippy-arrow",a="tippy-svg-arrow",s={passive:!0,capture:!0};function u(t,e){return{}.hasOwnProperty.call(t,e)}function c(t,e,n){if(Array.isArray(t)){var r=t[e];return null==r?Array.isArray(n)?n[e]:n:r}return t}function p(t,e){var n={}.toString.call(t);return 0===n.indexOf("[object")&&n.indexOf(e+"]")>-1}function f(t,e){return"function"==typeof t?t.apply(void 0,e):t}function l(t,e){return 0===e?t:function(r){clearTimeout(n),n=setTimeout(function(){t(r)},e)};var n}function d(t,e){var n=Object.assign({},t);return e.forEach(function(t){delete n[t]}),n}function v(t){return t.split(/\s+/).filter(Boolean)}function m(t){return[].concat(t)}function g(t,e){-1===t.indexOf(e)&&t.push(e)}function h(t){return t.filter(function(e,n){return t.indexOf(e)===n})}function b(t){return t.split("-")[0]}function y(t){return[].slice.call(t)}function w(t){return Object.keys(t).reduce(function(e,n){return void 0!==t[n]&&(e[n]=t[n]),e},{})}function x(){return document.createElement("div")}function E(t){return["Element","Fragment"].some(function(e){return p(t,e)})}function T(t){return p(t,"NodeList")}function C(t){return p(t,"MouseEvent")}function A(t){return!(!t||!t._tippy||t._tippy.reference!==t)}function O(t){return E(t)?[t]:T(t)?y(t):Array.isArray(t)?t:y(document.querySelectorAll(t))}function L(t,e){t.forEach(function(t){t&&(t.style.transitionDuration=e+"ms")})}function j(t,e){t.forEach(function(t){t&&t.setAttribute("data-state",e)})}function k(t){var e=m(t)[0];return e&&e.ownerDocument||document}function D(t,e){var n=e.clientX,r=e.clientY;return t.every(function(t){var e=t.popperRect,i=t.popperState,o=t.props.interactiveBorder,a=b(i.placement),s=i.modifiersData.offset;if(!s)return!0;var u="bottom"===a?s.top.y:0,c="top"===a?s.bottom.y:0,p="right"===a?s.left.x:0,f="left"===a?s.right.x:0,l=e.top-r+u>o,d=r-e.bottom-c>o,v=e.left-n+p>o,m=n-e.right-f>o;return l||d||v||m})}function P(t,e,n){var r=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(e){t[r](e,n)})}var R={isTouch:!1},M=0;function V(){R.isTouch||(R.isTouch=!0,window.performance&&document.addEventListener("mousemove",S))}function S(){var t=performance.now();t-M<20&&(R.isTouch=!1,document.removeEventListener("mousemove",S)),M=t}function I(){var t=document.activeElement;if(A(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}function B(){document.addEventListener("touchstart",V,s),window.addEventListener("blur",I)}var N,U="undefined"!=typeof window&&"undefined"!=typeof document,H=U?navigator.userAgent:"",_=/MSIE |Trident\//.test(H);function F(t){return[t+"() was called on a"+("destroy"===t?"n already-":" ")+"destroyed instance. This is a no-op but","indicates a potential memory leak."].join(" ")}function Y(t){return t.replace(/[ \t]{2,}/g," ").replace(/^[ \t]*/gm,"").trim()}function W(t){return Y("\n  %ctippy.js\n\n  %c"+Y(t)+"\n\n  %c👷‍ This is a development-only message. It will be removed in production.\n  ")}function X(t){return[W(t),"color: #00C584; font-size: 1.3em; font-weight: bold;","line-height: 1.5","color: #a6a095;"]}function $(){N=new Set}function q(t,e){var n;t&&!N.has(e)&&(N.add(e),(n=console).warn.apply(n,X(e)))}function z(t,e){var n;t&&!N.has(e)&&(N.add(e),(n=console).error.apply(n,X(e)))}function J(t){var e=!t,n="[object Object]"===Object.prototype.toString.call(t)&&!t.addEventListener;z(e,["tippy() was passed","`"+String(t)+"`","as its targets (first) argument. Valid types are: String, Element,","Element[], or NodeList."].join(" ")),z(n,["tippy() was passed a plain object which is not supported as an argument","for virtual positioning. Use props.getReferenceClientRect instead."].join(" "))}var G={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},K={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},Q=Object.assign({appendTo:function(){return document.body},aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},G,{},K),Z=Object.keys(Q),tt=function(t){Object.keys(t).forEach(function(e){Q[e]=t[e]})};function et(t){var e=(t.plugins||[]).reduce(function(e,n){var r=n.name,i=n.defaultValue;return r&&(e[r]=void 0!==t[r]?t[r]:i),e},{});return Object.assign({},t,{},e)}function nt(t,e){return(e?Object.keys(et(Object.assign({},Q,{plugins:e}))):Z).reduce(function(e,n){var r=(t.getAttribute("data-tippy-"+n)||"").trim();if(!r)return e;if("content"===n)e[n]=r;else try{e[n]=JSON.parse(r)}catch(i){e[n]=r}return e},{})}function rt(t,e){var n=Object.assign({},e,{content:f(e.content,[t])},e.ignoreAttributes?{}:nt(t,e.plugins));return n.aria=Object.assign({},Q.aria,{},n.aria),n.aria={expanded:"auto"===n.aria.expanded?e.interactive:n.aria.expanded,content:"auto"===n.aria.content?e.interactive?null:"describedby":n.aria.content},n}function it(t,e){void 0===t&&(t={}),void 0===e&&(e=[]),Object.keys(t).forEach(function(t){var n=!u(d(Q,Object.keys(G)),t);n&&(n=0===e.filter(function(e){return e.name===t}).length),q(n,["`"+t+"`","is not a valid prop. You may have spelled it incorrectly, or if it's","a plugin, forgot to pass it in an array as props.plugins.","\n\n","All props: https://atomiks.github.io/tippyjs/v6/all-props/\n","Plugins: https://atomiks.github.io/tippyjs/v6/plugins/"].join(" "))})}var ot=function(){return"innerHTML"};function at(t,e){t[ot()]=e}function st(t){var e=x();return!0===t?e.className=o:(e.className=a,E(t)?e.appendChild(t):at(e,t)),e}function ut(t,e){E(e.content)?(at(t,""),t.appendChild(e.content)):"function"!=typeof e.content&&(e.allowHTML?at(t,e.content):t.textContent=e.content)}function ct(t){var e=t.firstElementChild,n=y(e.children);return{box:e,content:n.find(function(t){return t.classList.contains(r)}),arrow:n.find(function(t){return t.classList.contains(o)||t.classList.contains(a)}),backdrop:n.find(function(t){return t.classList.contains(i)})}}function pt(t){var e=x(),i=x();i.className=n,i.setAttribute("data-state","hidden"),i.setAttribute("tabindex","-1");var o=x();function a(n,r){var i=ct(e),o=i.box,a=i.content,s=i.arrow;r.theme?o.setAttribute("data-theme",r.theme):o.removeAttribute("data-theme"),"string"==typeof r.animation?o.setAttribute("data-animation",r.animation):o.removeAttribute("data-animation"),r.inertia?o.setAttribute("data-inertia",""):o.removeAttribute("data-inertia"),o.style.maxWidth="number"==typeof r.maxWidth?r.maxWidth+"px":r.maxWidth,r.role?o.setAttribute("role",r.role):o.removeAttribute("role"),n.content===r.content&&n.allowHTML===r.allowHTML||ut(a,t.props),r.arrow?s?n.arrow!==r.arrow&&(o.removeChild(s),o.appendChild(st(r.arrow))):o.appendChild(st(r.arrow)):s&&o.removeChild(s)}return o.className=r,o.setAttribute("data-state","hidden"),ut(o,t.props),e.appendChild(i),i.appendChild(o),a(t.props,t.props),{popper:e,onUpdate:a}}pt.$$tippy=!0;var ft=1,lt=[],dt=[];function vt(e,n){var r,i,o,a,u,p,d,b=rt(e,Object.assign({},Q,{},et(w(n)))),E=!1,T=!1,A=!1,O=!1,M=[],V=l(yt,b.interactiveDebounce),S=ft++,I=h(b.plugins),B={id:S,reference:e,popper:x(),popperInstance:null,props:b,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:I,clearDelayTimeouts:function(){clearTimeout(r),clearTimeout(i),cancelAnimationFrame(o)},setProps:function(t){0;if(B.state.isDestroyed)return;Z("onBeforeUpdate",[B,t]),ht();var n=B.props,r=rt(e,Object.assign({},B.props,{},t,{ignoreAttributes:!0}));B.props=r,gt(),n.interactiveDebounce!==r.interactiveDebounce&&(it(),V=l(yt,r.interactiveDebounce));n.triggerTarget&&!r.triggerTarget?m(n.triggerTarget).forEach(function(t){t.removeAttribute("aria-expanded")}):r.triggerTarget&&e.removeAttribute("aria-expanded");nt(),K(),H&&H(n,r);B.popperInstance&&(Tt(),At().forEach(function(t){requestAnimationFrame(t._tippy.popperInstance.forceUpdate)}));Z("onAfterUpdate",[B,t])},setContent:function(t){B.setProps({content:t})},show:function(){0;var t=B.state.isVisible,e=B.state.isDestroyed,n=!B.state.isEnabled,r=R.isTouch&&!B.props.touch,i=c(B.props.duration,0,Q.duration);if(t||e||n||r)return;if(q().hasAttribute("disabled"))return;if(Z("onShow",[B],!1),!1===B.props.onShow(B))return;B.state.isVisible=!0,$()&&(U.style.visibility="visible");K(),ut(),B.state.isMounted||(U.style.transition="none");if($()){var o=J(),a=o.box,s=o.content;L([a,s],0)}p=function(){if(B.state.isVisible&&!O){if(O=!0,U.offsetHeight,U.style.transition=B.props.moveTransition,$()&&B.props.animation){var t=J(),e=t.box,n=t.content;L([e,n],i),j([e,n],"visible")}tt(),nt(),g(dt,B),B.state.isMounted=!0,Z("onMount",[B]),B.props.animation&&$()&&function(t,e){vt(t,e)}(i,function(){B.state.isShown=!0,Z("onShown",[B])})}},function(){var t,e=B.props.appendTo,n=q();t=B.props.interactive&&e===Q.appendTo||"parent"===e?n.parentNode:f(e,[n]);t.contains(U)||t.appendChild(U);Tt(),0}()},hide:function(){0;var t=!B.state.isVisible,e=B.state.isDestroyed,n=!B.state.isEnabled,r=c(B.props.duration,1,Q.duration);if(t||e||n)return;if(Z("onHide",[B],!1),!1===B.props.onHide(B))return;B.state.isVisible=!1,B.state.isShown=!1,O=!1,E=!1,$()&&(U.style.visibility="hidden");if(it(),pt(),K(),$()){var i=J(),o=i.box,a=i.content;B.props.animation&&(L([o,a],r),j([o,a],"hidden"))}tt(),nt(),B.props.animation?$()&&function(t,e){vt(t,function(){!B.state.isVisible&&U.parentNode&&U.parentNode.contains(U)&&e()})}(r,B.unmount):B.unmount()},hideWithInteractivity:function(t){0;z().addEventListener("mousemove",V),g(lt,V),V(t)},enable:function(){B.state.isEnabled=!0},disable:function(){B.hide(),B.state.isEnabled=!1},unmount:function(){0;B.state.isVisible&&B.hide();if(!B.state.isMounted)return;Ct(),At().forEach(function(t){t._tippy.unmount()}),U.parentNode&&U.parentNode.removeChild(U);dt=dt.filter(function(t){return t!==B}),B.state.isMounted=!1,Z("onHidden",[B])},destroy:function(){0;if(B.state.isDestroyed)return;B.clearDelayTimeouts(),B.unmount(),ht(),delete e._tippy,B.state.isDestroyed=!0,Z("onDestroy",[B])}};if(!b.render)return B;var N=b.render(B),U=N.popper,H=N.onUpdate;U.setAttribute("data-tippy-root",""),U.id="tippy-"+B.id,B.popper=U,e._tippy=B,U._tippy=B;var F=I.map(function(t){return t.fn(B)}),Y=e.hasAttribute("aria-expanded");return gt(),nt(),K(),Z("onCreate",[B]),b.showOnCreate&&Ot(),U.addEventListener("mouseenter",function(){B.props.interactive&&B.state.isVisible&&B.clearDelayTimeouts()}),U.addEventListener("mouseleave",function(t){B.props.interactive&&B.props.trigger.indexOf("mouseenter")>=0&&(z().addEventListener("mousemove",V),V(t))}),B;function W(){var t=B.props.touch;return Array.isArray(t)?t:[t,0]}function X(){return"hold"===W()[0]}function $(){var t;return!!(null==(t=B.props.render)?void 0:t.$$tippy)}function q(){return d||e}function z(){var t=q().parentNode;return t?k(t):document}function J(){return ct(U)}function G(t){return B.state.isMounted&&!B.state.isVisible||R.isTouch||a&&"focus"===a.type?0:c(B.props.delay,t?0:1,Q.delay)}function K(){U.style.pointerEvents=B.props.interactive&&B.state.isVisible?"":"none",U.style.zIndex=""+B.props.zIndex}function Z(t,e,n){var r;(void 0===n&&(n=!0),F.forEach(function(n){n[t]&&n[t].apply(void 0,e)}),n)&&(r=B.props)[t].apply(r,e)}function tt(){var t=B.props.aria;if(t.content){var n="aria-"+t.content,r=U.id;m(B.props.triggerTarget||e).forEach(function(t){var e=t.getAttribute(n);if(B.state.isVisible)t.setAttribute(n,e?e+" "+r:r);else{var i=e&&e.replace(r,"").trim();i?t.setAttribute(n,i):t.removeAttribute(n)}})}}function nt(){!Y&&B.props.aria.expanded&&m(B.props.triggerTarget||e).forEach(function(t){B.props.interactive?t.setAttribute("aria-expanded",B.state.isVisible&&t===q()?"true":"false"):t.removeAttribute("aria-expanded")})}function it(){z().removeEventListener("mousemove",V),lt=lt.filter(function(t){return t!==V})}function ot(t){if(!(R.isTouch&&(A||"mousedown"===t.type)||B.props.interactive&&U.contains(t.target))){if(q().contains(t.target)){if(R.isTouch)return;if(B.state.isVisible&&B.props.trigger.indexOf("click")>=0)return}else Z("onClickOutside",[B,t]);!0===B.props.hideOnClick&&(B.clearDelayTimeouts(),B.hide(),T=!0,setTimeout(function(){T=!1}),B.state.isMounted||pt())}}function at(){A=!0}function st(){A=!1}function ut(){var t=z();t.addEventListener("mousedown",ot,!0),t.addEventListener("touchend",ot,s),t.addEventListener("touchstart",st,s),t.addEventListener("touchmove",at,s)}function pt(){var t=z();t.removeEventListener("mousedown",ot,!0),t.removeEventListener("touchend",ot,s),t.removeEventListener("touchstart",st,s),t.removeEventListener("touchmove",at,s)}function vt(t,e){var n=J().box;function r(t){t.target===n&&(P(n,"remove",r),e())}if(0===t)return e();P(n,"remove",u),P(n,"add",r),u=r}function mt(t,n,r){void 0===r&&(r=!1),m(B.props.triggerTarget||e).forEach(function(e){e.addEventListener(t,n,r),M.push({node:e,eventType:t,handler:n,options:r})})}function gt(){X()&&(mt("touchstart",bt,{passive:!0}),mt("touchend",wt,{passive:!0})),v(B.props.trigger).forEach(function(t){if("manual"!==t)switch(mt(t,bt),t){case"mouseenter":mt("mouseleave",wt);break;case"focus":mt(_?"focusout":"blur",xt);break;case"focusin":mt("focusout",xt)}})}function ht(){M.forEach(function(t){var e=t.node,n=t.eventType,r=t.handler,i=t.options;e.removeEventListener(n,r,i)}),M=[]}function bt(t){var e,n=!1;if(B.state.isEnabled&&!Et(t)&&!T){var r="focus"===(null==(e=a)?void 0:e.type);a=t,d=t.currentTarget,nt(),!B.state.isVisible&&C(t)&&lt.forEach(function(e){return e(t)}),"click"===t.type&&(B.props.trigger.indexOf("mouseenter")<0||E)&&!1!==B.props.hideOnClick&&B.state.isVisible?n=!0:Ot(t),"click"===t.type&&(E=!n),n&&!r&&Lt(t)}}function yt(t){var e=t.target,n=q().contains(e)||U.contains(e);"mousemove"===t.type&&n||D(At().concat(U).map(function(t){var e,n=null==(e=t._tippy.popperInstance)?void 0:e.state;return n?{popperRect:t.getBoundingClientRect(),popperState:n,props:b}:null}).filter(Boolean),t)&&(it(),Lt(t))}function wt(t){Et(t)||B.props.trigger.indexOf("click")>=0&&E||(B.props.interactive?B.hideWithInteractivity(t):Lt(t))}function xt(t){B.props.trigger.indexOf("focusin")<0&&t.target!==q()||B.props.interactive&&t.relatedTarget&&U.contains(t.relatedTarget)||Lt(t)}function Et(t){return!!R.isTouch&&X()!==t.type.indexOf("touch")>=0}function Tt(){Ct();var n=B.props,r=n.popperOptions,i=n.placement,o=n.offset,a=n.getReferenceClientRect,s=n.moveTransition,u=$()?ct(U).arrow:null,c=a?{getBoundingClientRect:a,contextElement:a.contextElement||q()}:e,f=[{name:"offset",options:{offset:o}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!s}},{name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(t){var e=t.state;if($()){var n=J().box;["placement","reference-hidden","escaped"].forEach(function(t){"placement"===t?n.setAttribute("data-placement",e.placement):e.attributes.popper["data-popper-"+t]?n.setAttribute("data-"+t,""):n.removeAttribute("data-"+t)}),e.attributes.popper={}}}}];$()&&u&&f.push({name:"arrow",options:{element:u,padding:3}}),f.push.apply(f,(null==r?void 0:r.modifiers)||[]),B.popperInstance=(0,t.createPopper)(c,U,Object.assign({},r,{placement:i,onFirstUpdate:p,modifiers:f}))}function Ct(){B.popperInstance&&(B.popperInstance.destroy(),B.popperInstance=null)}function At(){return y(U.querySelectorAll("[data-tippy-root]"))}function Ot(t){B.clearDelayTimeouts(),t&&Z("onTrigger",[B,t]),ut();var e=G(!0),n=W(),i=n[0],o=n[1];R.isTouch&&"hold"===i&&o&&(e=o),e?r=setTimeout(function(){B.show()},e):B.show()}function Lt(t){if(B.clearDelayTimeouts(),Z("onUntrigger",[B,t]),B.state.isVisible){if(!(B.props.trigger.indexOf("mouseenter")>=0&&B.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(t.type)>=0&&E)){var e=G(!1);e?i=setTimeout(function(){B.state.isVisible&&B.hide()},e):o=requestAnimationFrame(function(){B.hide()})}}else pt()}}function mt(t,e){void 0===e&&(e={});var n=Q.plugins.concat(e.plugins||[]);B();var r=Object.assign({},e,{plugins:n}),i=O(t),o=i.reduce(function(t,e){var n=e&&vt(e,r);return n&&t.push(n),t},[]);return E(t)?o[0]:o}mt.defaultProps=Q,mt.setDefaultProps=tt,mt.currentInput=R;var gt=function(t){var e=void 0===t?{}:t,n=e.exclude,r=e.duration;dt.forEach(function(t){var e=!1;if(n&&(e=A(n)?t.reference===n:t.popper===n.popper),!e){var i=t.props.duration;t.setProps({duration:r}),t.hide(),t.state.isDestroyed||t.setProps({duration:i})}})};exports.hideAll=gt;var ht=function(t,e){void 0===e&&(e={});var n,r=t,i=[],o=e.overrides,a=[];function s(){i=r.map(function(t){return t.reference})}function u(t){r.forEach(function(e){t?e.enable():e.disable()})}function c(t){return r.map(function(e){var r=e.setProps;return e.setProps=function(i){r(i),e.reference===n&&t.setProps(i)},function(){e.setProps=r}})}u(!1),s();var p={fn:function(){return{onDestroy:function(){u(!0)},onTrigger:function(t,e){var a=e.currentTarget,s=i.indexOf(a);if(a!==n){n=a;var u=(o||[]).concat("content").reduce(function(t,e){return t[e]=r[s].props[e],t},{});t.setProps(Object.assign({},u,{getReferenceClientRect:"function"==typeof u.getReferenceClientRect?u.getReferenceClientRect:function(){return a.getBoundingClientRect()}}))}}}}},f=mt(x(),Object.assign({},d(e,["overrides"]),{plugins:[p].concat(e.plugins||[]),triggerTarget:i})),l=f.setProps;return f.setProps=function(t){o=t.overrides||o,l(t)},f.setInstances=function(t){u(!0),a.forEach(function(t){return t()}),r=t,u(!1),s(),c(f),f.setProps({triggerTarget:i})},a=c(f),f};exports.createSingleton=ht;var bt={mouseover:"mouseenter",focusin:"focus",click:"click"};function yt(t,e){var n=[],r=[],i=!1,o=e.target,a=d(e,["target"]),s=Object.assign({},a,{trigger:"manual",touch:!1}),u=Object.assign({},a,{showOnCreate:!0}),c=mt(t,s);function p(t){if(t.target&&!i){var n=t.target.closest(o);if(n){var a=n.getAttribute("data-tippy-trigger")||e.trigger||Q.trigger;if(!n._tippy&&!("touchstart"===t.type&&"boolean"==typeof u.touch||"touchstart"!==t.type&&a.indexOf(bt[t.type])<0)){var s=mt(n,u);s&&(r=r.concat(s))}}}}function f(t,e,r,i){void 0===i&&(i=!1),t.addEventListener(e,r,i),n.push({node:t,eventType:e,handler:r,options:i})}return m(c).forEach(function(t){var e=t.destroy,o=t.enable,a=t.disable;t.destroy=function(t){void 0===t&&(t=!0),t&&r.forEach(function(t){t.destroy()}),r=[],n.forEach(function(t){var e=t.node,n=t.eventType,r=t.handler,i=t.options;e.removeEventListener(n,r,i)}),n=[],e()},t.enable=function(){o(),r.forEach(function(t){return t.enable()}),i=!1},t.disable=function(){a(),r.forEach(function(t){return t.disable()}),i=!0},function(t){var e=t.reference;f(e,"touchstart",p),f(e,"mouseover",p),f(e,"focusin",p),f(e,"click",p)}(t)}),c}var wt={name:"animateFill",defaultValue:!1,fn:function(t){var e;if(!(null==(e=t.props.render)?void 0:e.$$tippy))return{};var n=ct(t.popper),r=n.box,i=n.content,o=t.props.animateFill?xt():null;return{onCreate:function(){o&&(r.insertBefore(o,r.firstElementChild),r.setAttribute("data-animatefill",""),r.style.overflow="hidden",t.setProps({arrow:!1,animation:"shift-away"}))},onMount:function(){if(o){var t=r.style.transitionDuration,e=Number(t.replace("ms",""));i.style.transitionDelay=Math.round(e/10)+"ms",o.style.transitionDuration=t,j([o],"visible")}},onShow:function(){o&&(o.style.transitionDuration="0ms")},onHide:function(){o&&j([o],"hidden")}}}};function xt(){var t=x();return t.className=i,j([t],"hidden"),t}exports.animateFill=wt;var Et={clientX:0,clientY:0},Tt=[];function Ct(t){var e=t.clientX,n=t.clientY;Et={clientX:e,clientY:n}}function At(t){t.addEventListener("mousemove",Ct)}function Ot(t){t.removeEventListener("mousemove",Ct)}var Lt={name:"followCursor",defaultValue:!1,fn:function(t){var e=t.reference,n=k(t.props.triggerTarget||e),r=!1,i=!1,o=!0,a=t.props;function s(){return"initial"===t.props.followCursor&&t.state.isVisible}function u(){n.addEventListener("mousemove",f)}function c(){n.removeEventListener("mousemove",f)}function p(){r=!0,t.setProps({getReferenceClientRect:null}),r=!1}function f(n){var r=!n.target||e.contains(n.target),i=t.props.followCursor,o=n.clientX,a=n.clientY,s=e.getBoundingClientRect(),u=o-s.left,c=a-s.top;!r&&t.props.interactive||t.setProps({getReferenceClientRect:function(){var t=e.getBoundingClientRect(),n=o,r=a;"initial"===i&&(n=t.left+u,r=t.top+c);var s="horizontal"===i?t.top:r,p="vertical"===i?t.right:n,f="horizontal"===i?t.bottom:r,l="vertical"===i?t.left:n;return{width:p-l,height:f-s,top:s,right:p,bottom:f,left:l}}})}function l(){t.props.followCursor&&(Tt.push({instance:t,doc:n}),At(n))}function d(){0===(Tt=Tt.filter(function(e){return e.instance!==t})).filter(function(t){return t.doc===n}).length&&Ot(n)}return{onCreate:l,onDestroy:d,onBeforeUpdate:function(){a=t.props},onAfterUpdate:function(e,n){var o=n.followCursor;r||void 0!==o&&a.followCursor!==o&&(d(),o?(l(),!t.state.isMounted||i||s()||u()):(c(),p()))},onMount:function(){t.props.followCursor&&!i&&(o&&(f(Et),o=!1),s()||u())},onTrigger:function(t,e){C(e)&&(Et={clientX:e.clientX,clientY:e.clientY}),i="focus"===e.type},onHidden:function(){t.props.followCursor&&(p(),c(),o=!0)}}}};function jt(t,e){var n;return{popperOptions:Object.assign({},t.popperOptions,{modifiers:[].concat(((null==(n=t.popperOptions)?void 0:n.modifiers)||[]).filter(function(t){return t.name!==e.name}),[e])})}}exports.followCursor=Lt;var kt={name:"inlinePositioning",defaultValue:!1,fn:function(t){var e,n=t.reference;var r=-1,i=!1,o={name:"tippyInlinePositioning",enabled:!0,phase:"afterWrite",fn:function(i){var o=i.state;t.props.inlinePositioning&&(e!==o.placement&&t.setProps({getReferenceClientRect:function(){return Dt(b(o.placement),n.getBoundingClientRect(),y(n.getClientRects()),r)}}),e=o.placement)}};function a(){var e;i||(e=jt(t.props,o),i=!0,t.setProps(e),i=!1)}return{onCreate:a,onAfterUpdate:a,onTrigger:function(e,n){if(C(n)){var i=y(t.reference.getClientRects()),o=i.find(function(t){return t.left-2<=n.clientX&&t.right+2>=n.clientX&&t.top-2<=n.clientY&&t.bottom+2>=n.clientY});r=i.indexOf(o)}},onUntrigger:function(){r=-1}}}};function Dt(t,e,n,r){if(n.length<2||null===t)return e;if(2===n.length&&r>=0&&n[0].left>n[1].right)return n[r]||e;switch(t){case"top":case"bottom":var i=n[0],o=n[n.length-1],a="top"===t,s=i.top,u=o.bottom,c=a?i.left:o.left,p=a?i.right:o.right;return{top:s,bottom:u,left:c,right:p,width:p-c,height:u-s};case"left":case"right":var f=Math.min.apply(Math,n.map(function(t){return t.left})),l=Math.max.apply(Math,n.map(function(t){return t.right})),d=n.filter(function(e){return"left"===t?e.left===f:e.right===l}),v=d[0].top,m=d[d.length-1].bottom;return{top:v,bottom:m,left:f,right:l,width:l-f,height:m-v};default:return e}}exports.inlinePositioning=kt;var Pt={name:"sticky",defaultValue:!1,fn:function(t){var e=t.reference,n=t.popper;function r(e){return!0===t.props.sticky||t.props.sticky===e}var i=null,o=null;function a(){var s=r("reference")?(t.popperInstance?t.popperInstance.state.elements.reference:e).getBoundingClientRect():null,u=r("popper")?n.getBoundingClientRect():null;(s&&Rt(i,s)||u&&Rt(o,u))&&t.popperInstance&&t.popperInstance.update(),i=s,o=u,t.state.isMounted&&requestAnimationFrame(a)}return{onMount:function(){t.props.sticky&&a()}}}};function Rt(t,e){return!t||!e||(t.top!==e.top||t.right!==e.right||t.bottom!==e.bottom||t.left!==e.left)}exports.sticky=Pt,mt.setDefaultProps({render:pt});var Mt=mt;exports.default=Mt;
},{"@popperjs/core":"S1OH"}],"T0Ik":[function(require,module,exports) {

},{}],"VZdO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.unsafeHTML=void 0;var e=require("../lib/parts.js"),t=require("../lit-html.js"),r=new WeakMap,n=(0,t.directive)(function(n){return function(i){if(!(i instanceof t.NodePart))throw new Error("unsafeHTML can only be used in text bindings");var a=r.get(i);if(void 0===a||!(0,e.isPrimitive)(n)||n!==a.value||i.value!==a.fragment){var o=document.createElement("template");o.innerHTML=n;var s=document.importNode(o.content,!0);i.setValue(s),r.set(i,{value:n,fragment:s})}}});exports.unsafeHTML=n;
},{"../lib/parts.js":"PIiJ","../lit-html.js":"KMqM"}],"jBp4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.repeat=void 0;var e=require("../lit-html.js");function r(e,r){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=t(e))||r&&e&&"number"==typeof e.length){n&&(e=n);var o=0,a=function(){};return{s:a,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,f=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){f=!0,i=e},f:function(){try{l||null==n.return||n.return()}finally{if(f)throw i}}}}function t(e,r){if(e){if("string"==typeof e)return n(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?n(e,r):void 0}}function n(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var o=function(r,t){var n=r.startNode.parentNode,o=void 0===t?r.endNode:t.startNode,a=n.insertBefore((0,e.createMarker)(),o);n.insertBefore((0,e.createMarker)(),o);var i=new e.NodePart(r.options);return i.insertAfterNode(a),i},a=function(e,r){return e.setValue(r),e.commit(),e},i=function(r,t,n){var o=r.startNode.parentNode,a=n?n.startNode:r.endNode,i=t.endNode.nextSibling;i!==a&&(0,e.reparentNodes)(o,t.startNode,i,a)},l=function(r){(0,e.removeNodes)(r.startNode.parentNode,r.startNode,r.endNode.nextSibling)},f=function(e,r,t){for(var n=new Map,o=r;o<=t;o++)n.set(e[o],o);return n},u=new WeakMap,s=new WeakMap,d=(0,e.directive)(function(t,n,d){var c;return void 0===d?d=n:void 0!==n&&(c=n),function(n){if(!(n instanceof e.NodePart))throw new Error("repeat can only be used in text bindings");var v,p,y,N=u.get(n)||[],h=s.get(n)||[],b=[],g=[],m=[],w=0,x=r(t);try{for(x.s();!(v=x.n()).done;){var A=v.value;m[w]=c?c(A,w):w,g[w]=d(A,w),w++}}catch(W){x.e(W)}finally{x.f()}for(var M=0,S=N.length-1,j=0,k=g.length-1;M<=S&&j<=k;)if(null===N[M])M++;else if(null===N[S])S--;else if(h[M]===m[j])b[j]=a(N[M],g[j]),M++,j++;else if(h[S]===m[k])b[k]=a(N[S],g[k]),S--,k--;else if(h[M]===m[k])b[k]=a(N[M],g[k]),i(n,N[M],b[k+1]),M++,k--;else if(h[S]===m[j])b[j]=a(N[S],g[j]),i(n,N[S],N[M]),S--,j++;else if(void 0===p&&(p=f(m,j,k),y=f(h,M,S)),p.has(h[M]))if(p.has(h[S])){var I=y.get(m[j]),O=void 0!==I?N[I]:null;if(null===O){var P=o(n,N[M]);a(P,g[j]),b[j]=P}else b[j]=a(O,g[j]),i(n,O,N[M]),N[I]=null;j++}else l(N[S]),S--;else l(N[M]),M++;for(;j<=k;){var B=o(n,b[k+1]);a(B,g[j]),b[j++]=B}for(;M<=S;){var E=N[M++];null!==E&&l(E)}u.set(n,b),s.set(n,m)}});exports.repeat=d;
},{"../lit-html.js":"KMqM"}],"zFN9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.classMap=void 0;var t=require("../lit-html.js");function e(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=n(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var a=0,i=function(){};return{s:i,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return s=t.done,t},e:function(t){c=!0,o=t},f:function(){try{s||null==r.return||r.return()}finally{if(c)throw o}}}}function n(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}var s=function(){function t(n){a(this,t),this.classes=new Set,this.changed=!1,this.element=n;var r,i=e((n.getAttribute("class")||"").split(/\s+/));try{for(i.s();!(r=i.n()).done;){var o=r.value;this.classes.add(o)}}catch(s){i.e(s)}finally{i.f()}}return o(t,[{key:"add",value:function(t){this.classes.add(t),this.changed=!0}},{key:"remove",value:function(t){this.classes.delete(t),this.changed=!0}},{key:"commit",value:function(){if(this.changed){var t="";this.classes.forEach(function(e){return t+=e+" "}),this.element.setAttribute("class",t)}}}]),t}(),c=new WeakMap,u=(0,t.directive)(function(e){return function(n){if(!(n instanceof t.AttributePart)||n instanceof t.PropertyPart||"class"!==n.committer.name||n.committer.parts.length>1)throw new Error("The `classMap` directive must be used in the `class` attribute and must be the only part in the attribute.");var r=n.committer,a=r.element,i=c.get(n);void 0===i&&(a.setAttribute("class",r.strings.join(" ")),c.set(n,i=new Set));var o=a.classList||new s(a);for(var u in i.forEach(function(t){t in e||(o.remove(t),i.delete(t))}),e){var l=e[u];l!=i.has(u)&&(l?(o.add(u),i.add(u)):(o.remove(u),i.delete(u)))}"function"==typeof o.commit&&o.commit()}});exports.classMap=u;
},{"../lit-html.js":"KMqM"}],"oXRc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.styleMap=void 0;var e=require("../lit-html.js"),t=new WeakMap,r=(0,e.directive)(function(r){return function(i){if(!(i instanceof e.AttributePart)||i instanceof e.PropertyPart||"style"!==i.committer.name||i.committer.parts.length>1)throw new Error("The `styleMap` directive must be used in the style attribute and must be the only part in the attribute.");var n=i.committer,o=n.element.style,s=t.get(i);for(var a in void 0===s&&(o.cssText=n.strings.join(" "),t.set(i,s=new Set)),s.forEach(function(e){e in r||(s.delete(e),-1===e.indexOf("-")?o[e]=null:o.removeProperty(e))}),r)s.add(a),-1===a.indexOf("-")?o[a]=r[a]:o.setProperty(a,r[a])}});exports.styleMap=r;
},{"../lit-html.js":"KMqM"}],"LhRC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.cache=void 0;var e=require("../lib/template-instance.js"),t=require("../lit-html.js"),a=new WeakMap,n=(0,t.directive)(function(n){return function(o){if(!(o instanceof t.NodePart))throw new Error("cache can only be used in text bindings");var i=a.get(o);void 0===i&&(i=new WeakMap,a.set(o,i));var r=o.value;if(r instanceof e.TemplateInstance){if(n instanceof t.TemplateResult&&r.template===o.options.templateFactory(n))return void o.setValue(n);var s=i.get(r.template);void 0===s&&(s={instance:r,nodes:document.createDocumentFragment()},i.set(r.template,s)),(0,t.reparentNodes)(s.nodes,o.startNode.nextSibling,o.endNode)}if(n instanceof t.TemplateResult){var c=o.options.templateFactory(n),l=i.get(c);void 0!==l&&(o.setValue(l.nodes),o.commit(),o.value=l.instance)}o.setValue(n)}});exports.cache=n;
},{"../lib/template-instance.js":"nn5n","../lit-html.js":"KMqM"}],"CFRe":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ifDefined=void 0;var e=require("../lit-html.js"),t=new WeakMap,i=(0,e.directive)(function(i){return function(r){var o=t.get(r);if(void 0===i&&r instanceof e.AttributePart){if(void 0!==o||!t.has(r)){var n=r.committer.name;r.committer.element.removeAttribute(n)}}else i!==o&&r.setValue(i);t.set(r,i)}});exports.ifDefined=i;
},{"../lit-html.js":"KMqM"}],"i5N8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.live=void 0;var e=require("../lit-html.js"),t=(0,e.directive)(function(t){return function(r){var i;if(r instanceof e.EventPart||r instanceof e.NodePart)throw new Error("The `live` directive is not allowed on text or event bindings");if(r instanceof e.BooleanAttributePart)n(r.strings),i=r.element.hasAttribute(r.name),r.value=i;else{var o=r.committer,s=o.element,a=o.name,l=o.strings;if(n(l),r instanceof e.PropertyPart){if((i=s[a])===t)return}else r instanceof e.AttributePart&&(i=s.getAttribute(a));if(i===String(t))return}r.setValue(t)}});exports.live=t;var n=function(e){if(2!==e.length||""!==e[0]||""!==e[1])throw new Error("`live` bindings can only contain a single expression")};
},{"../lit-html.js":"KMqM"}],"KCCw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e,exports.setForceClassList=c;class s{constructor(s){this.classes=new Set,this.element=s;const t=(s.getAttribute("class")||"").split(/\s+/);for(const e of t)this.classes.add(e)}add(s){this.classes.add(s),this.commit()}remove(s){this.classes.delete(s),this.commit()}commit(){let s="";this.classes.forEach(t=>s+=t+" "),this.element.setAttribute("class",s)}}let t=!1;function e(e){return t?new s(e):e.classList||new s(e)}function c(s){t=s}
},{}],"Zmzg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.nextFrame=n,exports.classChanged=r,exports.partDomSingle=l,exports.mark=a,exports.marked=d,exports.needsLock=c,exports.recordExtents=f,exports.applyExtents=p,exports.pageVisible=x;var e=t(require("./class-list"));function t(e){return e&&e.__esModule?e:{default:e}}function n(e=1){return new Promise(t=>0==--e?requestAnimationFrame(()=>t()):t(n(e)))}function o(e){let t=e;for(;t=t.parentNode||t.host;)if(t instanceof HTMLElement)return t;return null}function r(e,t,o=!0){return new Promise(r=>{const i=new MutationObserver(async()=>{i.disconnect(),o&&await n(),r()});i.observe(e,{attributes:!0,attributeFilter:["class"]}),t&&t()})}function i(e){var t;return"#text"===e.nodeName&&!(null===(t=e.nodeValue)||void 0===t?void 0:t.trim())}function s(e){const t=[];let n=e.startNode.nextSibling;for(;n!==e.endNode;)t.push(n),n=n.nextSibling;return t}function l(e){let t=s(e).filter(e=>!i(e));if(1!=t.length)throw new Error(`lit-transition directive expects exactly one child node,\n      but was passed ${t.map(e=>e.nodeName).join(", ")}`);return t[0]}const u=new WeakMap;function a(e,t){return u.set(e,t),e}function d(e){return u.get(e)}function c(t,n){const r=o(t);if(r){if("absolute"===(()=>{const t=document.createElement("div"),o=(0,e.default)(t),i=r.shadowRoot||r;(e=>Array.isArray(e)?e.forEach(e=>o.add(e)):o.add(e))(n),i.appendChild(t);const s=window.getComputedStyle(t).position;return i.removeChild(t),s})()){return"relative"===window.getComputedStyle(r).position}}return!1}function f(e){const t=e.getBoundingClientRect();let n=0,r=0;{let t=e.offsetParent;for(;e&&e!==document&&!(e instanceof DocumentFragment)&&e!==t;)n+=e.offsetTop-(e.scrollTop||0),r+=e.offsetLeft-(e.scrollLeft||0),e=o(e)}return{left:r,top:n,width:t.width,height:t.height}}function p(e,t){e.style.marginLeft="0px",e.style.marginTop="0px",e.style.left=t.left+"px",e.style.top=t.top+"px",e.style.width=t.width+"px",e.style.height=t.height+"px"}let m;function h(e=!document.hidden){m=e}function x(){return m}h(),document.addEventListener("visibilitychange",()=>h(),!1);
},{"./class-list":"KCCw"}],"bu3h":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.transitionBase=n;var t=require("lit-html"),e=require("./utils");const a=new WeakMap;function n(n){return function(i,o){return async s=>{if(!(s instanceof t.NodePart))throw new Error("The `transition` directive can only be used on nodes");i||(i=t.html`<div></div>`),"string"!=typeof i&&"number"!=typeof i||(i=t.html`<div style="display: inline-block">${i}</div>`);const r=(0,e.marked)(i),{enter:l,leave:d,onEnter:c,onLeave:u,onAfterEnter:w,onAfterLeave:f,mode:p="in-out"}=o;let m=a.get(s);function v(e){const a=new t.NodePart(s.options);return a.appendIntoPart(s),a.setValue(e),a.commit(),a}function y(t){const{startNode:e,endNode:a}=t;try{e&&t.clear()}catch(a){}e&&e.parentNode&&e.parentNode.removeChild(e),a&&a.parentNode&&a.parentNode.removeChild(a)}if(!(0,e.pageVisible)())return m&&m.last&&y(m.last),u&&await u(),f&&await f(),c&&await c(),m&&(m.last=v(i)),void(w&&await w());async function h(t){c&&await c(),l&&await n.transition(t,l,o),w&&await w()}async function N(t){u&&await u(),d&&await n.transition(t,d,o),y(t),f&&await f()}if(m||a.set(s,m={children:new Map,styles:new Map,transition:o}),n.init&&n.init({transition:o,data:m,add:v,remove:y}),m.last&&r&&r===m.name)m.last.setValue(i),m.last.commit();else if(m.name=r,"in-out"===p){const t=m.last;await h(m.last=v(i)),t&&await N(t)}else if("out-in"===p){const t=m.last;t&&await N(t),await h(m.last=v(i))}else m.last&&N(m.last),await h(m.last=v(i))}}}
},{"lit-html":"KMqM","./utils":"Zmzg"}],"YzCS":[function(require,module,exports) {
"use strict";var o,e;Object.defineProperty(exports,"__esModule",{value:!0}),exports.GeometryLockMode=exports.TransitionMode=void 0,exports.TransitionMode=o,function(o){o.InOut="in-out",o.OutIn="out-in",o.Both="both"}(o||(exports.TransitionMode=o={})),exports.GeometryLockMode=e,function(o){o[o.None=0]="None",o[o.Lock=1]="Lock",o.Auto="auto"}(e||(exports.GeometryLockMode=e={}));
},{}],"lzab":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.normalizeCSSTransitionOptions=r,exports.instantiateDefault=n,exports.mergeObjects=o;var e=require("lit-html"),t=require("./interfaces");function r(r={}){const{css:n,duration:o,enter:i={},leave:a={},mode:s=t.TransitionMode.Both,onAfterEnter:c,onAfterLeave:f,onEnter:v,onLeave:l,skipHidden:u=!0}=r;return{duration:o,skipHidden:u,css:e.html`<style>${n}</style>`,enter:0!=i&&(Array.isArray(i)||"string"==typeof i?{active:i}:Object.assign({active:"enter-active",from:"enter-from",to:"enter-to"},i)),leave:0!=a&&(Array.isArray(a)||"string"==typeof a?{active:a,lock:!1}:Object.assign({active:"leave-active",from:"leave-from",to:"leave-to",lock:!1},a)),onEnter:v,onLeave:l,onAfterEnter:c,onAfterLeave:f,mode:s}}function n(e,t){const r=t();for(let n in r)t[n]=r[n];return Object.defineProperty(t,"name",{get:()=>e}),t}function o(e,t){for(var r in t)try{t[r].constructor==Object?e[r]=o(e[r],t[r]):e[r]=t[r]}catch(n){e[r]=t[r]}return e}
},{"lit-html":"KMqM","./interfaces":"YzCS"}],"pIoh":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.fade=void 0;var e=require("../utils");const t=(0,e.instantiateDefault)("fade",function(t={}){const{duration:a=500,ease:n="ease-out",opacity:o=0}=t;return(0,e.mergeObjects)({enter:{active:"fade-enter-active",from:"fade-enter-from",to:"fade-enter-to"},leave:{active:"fade-leave-active",from:"fade-leave-from",to:"fade-leave-to",lock:!0},css:`\n    .fade-leave-active {\n      position: fixed;\n      transition: opacity ${a}ms ${n}, transform ${a}ms ${n};\n    }\n    .fade-enter-active {\n      transition: opacity ${a}ms ${n}, transform ${a}ms ${n};\n    }\n  .fade-enter-from, .fade-leave-to {\n    opacity: ${o};\n  }\n  .fade-enter-to, .fade-leave-from {\n    opacity: 1;\n  }\n  `},t)});exports.fade=t;
},{"../utils":"lzab"}],"cCKj":[function(require,module,exports) {
var global = arguments[3];
var e=arguments[3];Object.defineProperty(exports,"__esModule",{value:!0}),exports.flow=void 0;var t=require("lit-html"),n=i(require("../core/class-list")),r=require("../core/utils"),a=require("./interfaces");function i(e){return e&&e.__esModule?e:{default:e}}const s={async transition(e,t,i){const{duration:s=i.duration,active:o,from:c,to:d,lock:l}=t,u=(0,r.partDomSingle)(e);if(!u)return;let f;l&&(l!==a.GeometryLockMode.Auto||o&&(0,r.needsLock)(u,o))&&(f=(0,r.recordExtents)(u)),await new Promise(async e=>{const t=(0,n.default)(u),a=e=>Array.isArray(e)?e.forEach(e=>t.add(e)):t.add(e),i=e=>Array.isArray(e)?e.forEach(e=>t.remove(e)):t.remove(e);function l(t){if(t){if(t.target!==u)return;t.preventDefault(),t.stopPropagation()}["transitionend","transitioncancel","animationend","animationcancel"].filter(e=>!t||e!==t.type).forEach(e=>u.removeEventListener(e,l)),o&&i(o),c&&i(c),d&&i(d),e()}f&&(0,r.applyExtents)(u,f);const m={once:!0};s?setTimeout(l,s):(u.addEventListener("transitionrun",function(){u.addEventListener("transitionend",l,m),u.addEventListener("transitioncancel",l,m)},m),u.addEventListener("animationstart",function(){u.addEventListener("animationend",l,m),u.addEventListener("animationcancel",l,m)},m)),c&&await(0,r.classChanged)(u,()=>a(c)),o&&await(0,r.classChanged)(u,()=>a(o)),c&&i(c),d&&a(d)})},init({data:e,remove:n,add:r,transition:a}){if(e._cssSource!==a.css&&(e.css&&n(e.css),a.css)){e._cssSource=a.css;let n=a.css;n="string"==typeof n?t.html`<style>${n}</style>`:n,e.css=r(n)}}};exports.flow=s;
},{"lit-html":"KMqM","../core/class-list":"KCCw","../core/utils":"Zmzg","./interfaces":"YzCS"}],"hwmx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.land=void 0;var n=require("../utils");const e=(0,n.instantiateDefault)("land",function(e={}){const{duration:t=500,ease:a="ease-out",opacity:r=0}=e;return(0,n.mergeObjects)({enter:{active:"land1-enter-active",from:"land1-enter-from",to:"land1-enter-to"},leave:{active:"land1-leave-active",from:"land1-leave-from",to:"land1-leave-to"},mode:"both",css:`\n      .land1-enter-active {\n        transform-origin: 50% 50%;\n        transition: transform ${t}ms ${a}, opacity ${t}ms ${a};\n      }\n      .land1-leave-active {\n        transform-origin: 50% 50%;\n        position: absolute;\n        transition: transform ${t}ms ${a}, opacity ${t}ms ${a};\n      }\n      .land1-enter-from {\n        opacity: ${r};\n        transform: translate(0px, 0px) scale(3);\n      }\n      .land1-leave-to {\n        transform: translate(0px, 100px);\n        opacity: ${r};\n      }`},e)});exports.land=e;
},{"../utils":"lzab"}],"GzEW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.slide=void 0;var e=require("../interfaces"),t=require("../utils");const i=(0,t.instantiateDefault)("slide",function(i={}){const{left:n,right:s,up:o,down:a}=i;let r={};n&&(r={x:"-100%",x1:"100%"}),s&&(r={x:"100%",x1:"-100%"}),o&&(r={y:"100%",y1:"-100%"}),a&&(r={y:"-100%",y1:"100%"});let{mode:l,duration:c=500,x:d="100%",y:m="0%",x1:u="",y1:v="",ease:$="ease-out",leavePosition:y="",opacity:f=0}=Object.assign(Object.assign({},r),i);return u=u||d,v=v||m,(0,t.mergeObjects)({enter:{active:"slide-enter-active",from:"slide-enter-from"},leave:{active:"slide-leave-active",to:"slide-leave-to",lock:e.GeometryLockMode.Auto},css:`\n    .slide-enter-active {\n      transition: transform ${c}ms ${$}, opacity ${c}ms ${$};\n    }\n    .slide-leave-active {\n      position: ${y||(l!==e.TransitionMode.OutIn?"absolute":"initial")};\n      transition: transform ${c}ms ${$}, opacity ${c}ms ${$};\n    }\n    .slide-leave-to {\n      opacity: ${f};\n      transform: translate(${d}, ${m});\n    }\n    .slide-enter-from {\n      opacity: ${f};\n      transform: translate(${u}, ${v});\n    }`,mode:l},i)});exports.slide=i;
},{"../interfaces":"YzCS","../utils":"lzab"}],"h7Pw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./fade");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&(r in exports&&exports[r]===e[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}}))});var r=require("./land");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===r[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}}))});var t=require("./slide");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===t[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}}))});
},{"./fade":"pIoh","./land":"hwmx","./slide":"GzEW"}],"Xvf9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e={transition:!0,mark:!0};Object.defineProperty(exports,"mark",{enumerable:!0,get:function(){return u.mark}}),exports.transition=void 0;var r=require("lit-html"),t=require("../core/transition-base"),n=require("./transitions/fade"),o=require("./utils"),i=require("./flow"),s=require("./interfaces");Object.keys(s).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in exports&&exports[r]===s[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return s[r]}}))});var a=require("./transitions");Object.keys(a).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in exports&&exports[r]===a[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return a[r]}}))});var u=require("../core/utils");const c=(0,r.directive)(function(e,r=n.fade){return"function"==typeof r&&(r=r()),(0,t.transitionBase)(i.flow)(e,(0,o.normalizeCSSTransitionOptions)(r))});exports.transition=c;
},{"lit-html":"KMqM","../core/transition-base":"bu3h","./transitions/fade":"pIoh","./utils":"lzab","./flow":"cCKj","./interfaces":"YzCS","./transitions":"h7Pw","../core/utils":"Zmzg"}],"Hfmq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./css/index");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&(r in exports&&exports[r]===e[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}}))});
},{"./css/index":"Xvf9"}],"jUSW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.formatMoney=a;var e="${{amount}}";function a(a,t){"string"==typeof a&&(a=a.replace(".",""));var r="",o=/\{\{\s*(\w+)\s*\}\}/,n=t||e;function c(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:",",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".";if(isNaN(e)||null==e)return 0;var o=(e=(e/100).toFixed(a)).split(".");return o[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1".concat(t))+(o[1]?r+o[1]:"")}switch(n.match(o)[1]){case"amount":r=c(a,2);break;case"amount_no_decimals":r=c(a,0);break;case"amount_with_comma_separator":r=c(a,2,".",",");break;case"amount_no_decimals_with_comma_separator":r=c(a,0,".",",")}return n.replace(o,r)}
},{}],"QqYi":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DiscountType=exports.ThemeCurrency=exports.ThemeConfig=exports.CartItemProperties=void 0;var t={OPTIONS:"_cl_options",ID:"_cl_options_id",PRICE:"_cl_options_price",VALIDATE:!0};exports.CartItemProperties=t;var r={cartItem:!0,cartItemPreview:!0,cartItemPrice:!0,cartItemPriceOptions:!0,cartItemEdit:!1,cartItemClOptions:!0,cartCount:!0,cartTotal:!0,cartFormCapture:!0,cartDiscount:!1,productFormCapture:!0,productPrice:!0,productPriceAll:!1,productVariantHide:!0,productVariantFilter:!1,productVariantReset:!1,productPriceTimeout:!1,productPriceObserver:!1,productItemUpdate:!0,productItemModal:!1,productOptionsClear:!1,amountNoDecimals:!1,themeGallery:!1};exports.ThemeConfig=r;var e={currency:"",currencyFactor:1,moneyFormat:"$ {{amount}}",moneyFormatWithCurrency:"${{amount}} USD"};exports.ThemeCurrency=e;var o={NONE:0,CODE:1,AUTO:2};exports.DiscountType=o;
},{}],"WtKS":[function(require,module,exports) {
"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=function t(){e(this,t)};t.templates={};var a=t;exports.default=a;
},{}],"AYOv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=o(require("./../request")),t=o(require("./../util")),n=a(require("loglevel"));function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}function a(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var i=o?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(a,u,i):a[u]=e[u]}return a.default=e,n&&n.set(e,a),a}function o(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}var l=function(){function r(e){u(this,r);this.settings=t.default.extend({api:"",path:"/api/storage",queryParams:{}},e||{})}return f(r,[{key:"upload",value:function(t,r){for(var a=this,o=[],u=[],i=function(n){var i=t[n];o.push(new Promise(function(t,o){a._getSignedUrl(i).then(function(a){var f={method:"PUT",headers:{"Content-type":i.mimeType},data:i._file};0===n&&(f.onProgress=r);var l=new e.default(a.upload,f);u.push(l),l.then(function(){i.url=a.download,i.path=a.path,t(i)}).catch(function(e){o(e)})}).catch(function(e){o(e)})}))},f=0;f<t.length;f++)i(f);var l=Promise.all(o).then(function(e){return n.info(e),e});return l.cancel=function(){for(var e=0;e<u.length;e++){u[e].cancel()}},l}},{key:"_getSignedUrl",value:function(n){var r=this.settings.api+this.settings.path,a=t.default.extend(this.settings.queryParams,{name:encodeURIComponent(n.name),type:encodeURIComponent(n.mimeType),public:"1",cb:1e18*Math.random()+""});return new e.default(r,{method:"GET",withCredentials:!0,queryParams:a}).then(function(e){return e.data})}}]),r}(),c=l;exports.default=c;
},{"./../request":"mx8w","./../util":"zY0S","loglevel":"ohSP"}],"B0kr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=n(require("./../request")),t=n(require("./../util"));function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}var s=function(){function n(e){i(this,n);this.settings=t.default.extend({api:"",path:"/api/upload",queryParams:{}},e||{}),this.findToken()}return r(n,[{key:"findToken",value:function(){var e=t.default.readCookie("token");e&&(this.settings.queryParams.token=e)}},{key:"blobToFile",value:function(e,t){return new File([e],t,{lastModified:(new Date).getTime(),type:e.type})}},{key:"fromBlob",value:function(e,t){return{name:t,size:e.size,mimeType:e.type,meta:{},_file:e}}},{key:"fromNative",value:function(e){return{name:e.name?e.name:"",size:e.size,mimeType:e.type,meta:{},_file:e}}},{key:"saveFile",value:function(n){var i=this;return this.settings.queryParams.token||this.findToken(),this.settings.origin&&(n.origin=this.settings.origin),new e.default(this.settings.api+this.settings.path,{method:"POST",responseType:"json",headers:{"Content-type":"application/json"},withCredentials:!0,data:n,queryParams:this.settings.queryParams}).then(function(e){if(!i.settings.queryParams.token&&e.data.token){var n=e.data.token;t.default.writeCookie("token",n,10,"/"),i.settings.queryParams.token=n}return e.data}).catch(function(e){throw e})}},{key:"removeFile",value:function(t){return new e.default(this.settings.api+this.settings.path+"/"+t.uuid,{method:"DELETE",responseType:"json",withCredentials:!0,queryParams:this.settings.queryParams}).then(function(e){return e.data}).catch(function(e){throw e})}}]),n}(),o=s;exports.default=o;
},{"./../request":"mx8w","./../util":"zY0S"}],"xAgl":[function(require,module,exports) {
var define;
var e;!function(n,t){"function"==typeof e&&e.amd?e([],t):"object"==typeof exports?module.exports=t():n.loadjs=t()}(this,function(){var e=function(){},n={},t={},r={};function s(e,n){if(e){var s=r[e];if(t[e]=n,s)for(;s.length;)s[0](e,n),s.splice(0,1)}}function i(n,t){n.call&&(n={success:n}),t.length?(n.error||e)(t):(n.success||e)(n)}function o(n,t,r,s){var i,c,f=document,u=r.async,l=(r.numRetries||0)+1,a=r.before||e,h=n.replace(/[\?|#].*$/,""),p=n.replace(/^(css|img)!/,"");s=s||0,/(^css!|\.css$)/.test(h)?((c=f.createElement("link")).rel="stylesheet",c.href=p,(i="hideFocus"in c)&&c.relList&&(i=0,c.rel="preload",c.as="style")):/(^img!|\.(png|gif|jpg|svg|webp)$)/.test(h)?(c=f.createElement("img")).src=p:((c=f.createElement("script")).src=n,c.async=void 0===u||u),c.onload=c.onerror=c.onbeforeload=function(e){var f=e.type[0];if(i)try{c.sheet.cssText.length||(f="e")}catch(u){18!=u.code&&(f="e")}if("e"==f){if((s+=1)<l)return o(n,t,r,s)}else if("preload"==c.rel&&"style"==c.as)return c.rel="stylesheet";t(n,f,e.defaultPrevented)},!1!==a(n,c)&&f.head.appendChild(c)}function c(e,t,r){var c,f;if(t&&t.trim&&(c=t),f=(c?r:t)||{},c){if(c in n)throw"LoadJS";n[c]=!0}function u(n,t){!function(e,n,t){var r,s,i=(e=e.push?e:[e]).length,c=i,f=[];for(r=function(e,t,r){if("e"==t&&f.push(e),"b"==t){if(!r)return;f.push(e)}--i||n(f)},s=0;s<c;s++)o(e[s],r,t)}(e,function(e){i(f,e),n&&i({success:n,error:t},e),s(c,e)},f)}if(f.returnPromise)return new Promise(u);u()}return c.ready=function(e,n){return function(e,n){e=e.push?e:[e];var s,i,o,c=[],f=e.length,u=f;for(s=function(e,t){t.length&&c.push(e),--u||n(c)};f--;)i=e[f],(o=t[i])?s(i,o):(r[i]=r[i]||[]).push(s)}(e,function(e){i(n,e)}),c},c.done=function(e){s(e,[])},c.reset=function(){n={},t={},r={}},c.isDefined=function(e){return e in n},c});
},{}],"U86w":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=n(require("loadjs"));function n(e){return e&&e.__esModule?e:{default:e}}function r(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function t(e,n){for(var r=0;r<n.length;r++){var t=n[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function u(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}var a=function(){function n(){r(this,n)}return u(n,null,[{key:"load",value:function(n,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{async:!0};return t.returnPromise=!0,(0,e.default)(n,r,t)}},{key:"isReady",value:function(n){return Array.isArray(n)||(n=[n]),new Promise(function(r,t){e.default.ready(n,function(){r(n)})})}},{key:"isDefined",value:function(n){return e.default.isDefined(n)}},{key:"loadOnce",value:function(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{async:!0};return n.isDefined(r)?n.isReady(r):n.load(e,r,t)}}]),n}(),i=a;exports.default=i;
},{"loadjs":"xAgl"}],"k2Pi":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=i(require("../util")),t=i(require("./provider-google")),n=i(require("./file-meta")),r=i(require("../translate")),l=i(require("../resource-loader"));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}var s=function(){function l(r){a(this,l);this.settings=e.default.extend({api:"",queryParams:{}},r||{}),this._fileMeta=new n.default({api:this.settings.api,queryParams:this.settings.queryParams,origin:4}),this._provider=new t.default({api:this.settings.api,queryParams:this.settings.queryParams})}return u(l,[{key:"controller",value:function(){var t=this,n={files:[],inputs:[],onValidate:function(e){var t=!0;return e.required&&0===n.files.length&&(e.errors.push(r.default.get("product.options.validity.upload.required")),t=!1),t},onChange:function(l,i,a,o){var u=l.target;if(u.value&&u.files.length>0){for(var s=u.files,d=[],p=0;p<s.length;p++){var f=s[p],c=i.params.maxMb||10,v=1024*c*1024;if(f.size>v)return u.value="",i.errors=i.errors||[],i.errors.push(r.default.get("product.options.validity.upload.max",{max:c})),void u.dispatchEvent(new CustomEvent("options:render",{detail:i,cancelable:!0,bubbles:!0}));d.push(t._fileMeta.fromNative(f))}var h=e.default.findParent(u,".cl-po--upload"),m=h.querySelector("progress");m.max=100,m.value=0,m.style.display="block",t.upload(d,function(e){if(e.lengthComputable){var t=e.loaded/e.total*100;t>m.value&&(m.value=t)}}).then(function(e){m.style.display="none";for(var r=0;r<n.files.length;r++){var l=n.files[r];l.uuid&&t._fileMeta.removeFile(l)}for(var s=0;s<n.inputs.length;s++){var d=n.inputs[s];d.parentNode&&d.parentNode.removeChild(d)}n.inputs.length=0,n.files=e;for(var p="",f=0;f<n.files.length;f++){var c=n.files[f];p+=t._corsUrl(c.url);var v=f+1;v<n.files.length&&(p+=",");var g=document.createElement("input");g.type="hidden",i.params.multiple?g.name="properties["+i.name+"_"+v+"]":g.name="properties["+i.name+"]",g.value=c.url,t._linkForm(g,a),h.appendChild(g),n.inputs.push(g)}i.value=p,u.value="",o(i)})}},update:function(e,r){if(e.value){if(0===n.inputs.length){n.files.push({url:e.value,name:"file"+e.value.substring(e.value.lastIndexOf(".")),meta:{}});var l=document.createElement("input");l.type="hidden",l.name="properties["+e.name+"]",l.value=e.value,e.value=t._corsUrl(e.value),t._linkForm(l,r),document.querySelector('[data-option="'+e.name+'"] .cl-po--upload').appendChild(l),n.inputs.push(l)}}else if(n.inputs.length>0){for(var i=0;i<n.inputs.length;i++){var a=n.inputs[i];a.parentNode&&a.parentNode.removeChild(a)}n.inputs.length=0,n.files.length=0}},remove:function(e,r,l,i){for(var a=0;a<n.files.length;a++)if(n.files[a]===l){t._fileMeta.removeFile(l),n.files.splice(a,1);for(var o=0;o<n.inputs.length;o++)if(n.inputs[o].value==l.url){var u=n.inputs[o];u.parentNode&&u.parentNode.removeChild(u),n.inputs.splice(o,1)}e.value="",i(e);break}},crop:function(e,t){t.dispatchEvent(new CustomEvent("option:crop",{detail:e,cancelable:!0,bubbles:!0}))}};return n}},{key:"controllerLift",value:function(e,t,n,l){var i=this,a={option:e,selector:".cl-po--upload-lift-".concat(e.id),container:null,field:null,urls:[],onValidate:function(e){var t=!0;if(e.required&&0===a.urls.length)e.errors.push(r.default.get("product.options.validity.upload.required")),t=!1;else if(a.field)return a.field.validate();return t},syncValue:function(){for(var e="",t=0;t<a.urls.length;t++){e+=i._corsUrl(a.urls[t]),t+1<a.urls.length&&(e+=",")}a.option.value=e,l(a.option)},watchUploads:function(){a.container=document.querySelector(a.selector),a.container&&(a.container.addEventListener("upload:added",function(t){var n=t.detail,r=e.params.variant||"original";n.url&&n.meta.variant===r&&(a.urls.push(n.url),a.syncValue())}),a.container.addEventListener("upload:removed",function(t){var n=t.detail,r=e.params.variant||"original";if(n.url&&n.meta.variant===r){var l=a.urls.indexOf(n.url);-1!==l&&(a.urls.splice(l,1),a.syncValue())}}))},update:function(e,t){e.value?0===a.urls.length&&e._controller.ready.then(function(){var t=e.value.split(",");e._controller.field.restore(t),e.value=""}):a.urls.length>0&&e._controller.field&&e._controller.field.clearFiles()},crop:function(e,t){t.dispatchEvent(new CustomEvent("option:crop",{detail:e,cancelable:!0,bubbles:!0}))}};return n.addEventListener("options:rendered",function r(l){n.removeEventListener("options:rendered",r);var i=function(){var r=window.Cloudlift.upload.App;if(r.fields.length>0)for(var l=0;l<r.fields.length;l++){var i=r.fields[l];i.config.uuid==e.params.uuid&&(i.destroy(),r.fields.splice(l,1))}else r.config.setup=!1;for(var o=0;o<window.Cloudlift.upload.config.fields.length;o++){var u=window.Cloudlift.upload.config.fields[o];if(u.uuid===e.params.uuid){var s=JSON.parse(JSON.stringify(u));s.field=e.name,s.fileFetch=!1,s.selector=a.selector,r._createUploadField(s,t);var d=r.fields.length-1;a.field=r.fields[d],a.field._productForm=n,r.fields.splice(d,1),e._controller.onReady(a.field)}}};e._controller.ready=new Promise(function(t,n){e._controller.onReady=t});var o=function e(){setTimeout(function(){window.Cloudlift.upload.App?a.field||i():e()},300)};window.Cloudlift&&window.Cloudlift.upload&&(window.Cloudlift.upload.App?i():o()),window.addEventListener("cloudlift.upload.ready",function(e){window.Cloudlift.upload.App?i():o()}),a.watchUploads()}),a}},{key:"_corsUrl",value:function(e){return e=(e=e.replace("https://upload.dev.cloudlift.app/s/dev","https://storage.googleapis.com/cloudlift-app-cloud-dev-upload")).replace("https://upload.cloudlift.app/s","https://storage.googleapis.com/cloudlift-app-cloud-prod-upload")}},{key:"_linkForm",value:function(e,t){if(t){var n=t.getAttribute("id");n&&e.setAttribute("form",n)}}},{key:"upload",value:function(e,t){var n=this;try{var r=this._provider.upload(e,t),l=new Promise(function(e,t){r.then(function(r){for(var l=0;l<r.length;l++)delete r[l]._file;var i=r[0];n._fileMeta.saveFile(i).then(function(t){for(var l=[],i=1;i<r.length;i++){var a=r[i];a.parent=t.uuid,l.push(n._fileMeta.saveFile(a).then(function(e){return e}))}Promise.all(l).then(function(n){n.unshift(t),e(n)})}).catch(function(e){t(e)})}),r.catch(function(e){t(e)})});return l.cancel=function(){r.cancel()},l}catch(i){return Promise.reject(i)}}}],[{key:"getInstance",value:function(e){return l._instance?l._instance:(l._instance=new l(e),l._instance)}}]),l}(),d=s;exports.default=d;
},{"../util":"zY0S","./provider-google":"AYOv","./file-meta":"B0kr","../translate":"IkY8","../resource-loader":"U86w"}],"kRzK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e,t,a,n,l,r,o,i,c,s,p,u,d,m,v,f,h,g,y,_,w,x,b,D,M,k,F,T,H,z,L,q,C,E,S,V,A,O,j,P,W,B,U,N,R,Y,I,$,G,J,K,Q,X,Z,ee,te,ae,ne,le,re,oe,ie,ce,se,pe,ue,de,me,ve,fe,he,ge,ye,_e,we,xe,be,De,Me=require("lit-html"),ke=require("lit-html/directives/unsafe-html"),Fe=require("lit-html/directives/repeat"),Te=require("lit-html/directives/class-map"),He=require("lit-html/directives/style-map"),ze=require("lit-html/directives/cache"),Le=require("lit-html/directives/if-defined"),qe=require("lit-html/directives/live"),Ce=require("lit-transition"),Ee=require("@shopify/theme-currency"),Se=Re(require("../util")),Ve=require("../const"),Ae=Re(require("./template-registry")),Oe=Re(require("../upload/upload")),je=Re(require("../translate")),Pe=Re(require("../font-loader")),We=Re(require("../resource-loader")),Be=Ne(require("loglevel"));function Ue(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(Ue=function(e){return e?a:t})(e)}function Ne(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=Ue(t);if(a&&a.has(e))return a.get(e);var n={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=l?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}function Re(e){return e&&e.__esModule?e:{default:e}}function Ye(e){return(Ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ie(){Ie=function(e,t){return new a(e,void 0,t)};var e=RegExp.prototype,t=new WeakMap;function a(e,n,l){var r=new RegExp(e,n);return t.set(r,l||t.get(e)),Ge(r,a.prototype)}function n(e,a){var n=t.get(a);return Object.keys(n).reduce(function(t,a){return t[a]=e[n[a]],t},Object.create(null))}return $e(a,RegExp),a.prototype.exec=function(t){var a=e.exec.call(this,t);return a&&(a.groups=n(a,this)),a},a.prototype[Symbol.replace]=function(a,l){if("string"==typeof l){var r=t.get(this);return e[Symbol.replace].call(this,a,l.replace(/\$<([^>]+)>/g,function(e,t){return"$"+r[t]}))}if("function"==typeof l){var o=this;return e[Symbol.replace].call(this,a,function(){var e=arguments;return"object"!==Ye(e[e.length-1])&&(e=[].slice.call(e)).push(n(e,o)),l.apply(this,e)})}return e[Symbol.replace].call(this,a,l)},Ie.apply(this,arguments)}function $e(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ge(e,t)}function Ge(e,t){return(Ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Je(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Ke=function(e,t){var a=e.target;if(a){var n=a.parentNode.querySelector(".cl-po--text-help");n&&(t.value=a.value,n.innerHTML=Qe(t.params.textHelp,t))}},Qe=function(e,t){if(e){var a={};for(var n in a.used=t.value.length,a.min=t.params.min?t.params.min:0,a.max=t.params.max?t.params.max:1e3,a.left=a.max-a.used,a)a.hasOwnProperty(n)&&(e=e.replace(new RegExp("{"+n+"}","g"),a[n]));return e}},Xe=function(e){return e.replace(/(<([^>]+)>)/gi,"")},Ze=function(e,t){return t?t.replace(new RegExp("{price}","g"),e):"(+ ".concat(e,")")},et=function(e){if(e.values){for(var t=0;t<e.values.length;t++){var a=e.values[t];if(a.value==e.value)return a}return null}},tt=function(e){return e?e.text?e.text:e.value||"":""},at=function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],l=tt(t);if(e.params.valuePriceText){var r=nt(e,t,a);r&&(l+=" "+r)}return n&&(l=Xe(l)),l},nt=function(e,t,a){if(t.price&&a)return Ze(lt(e,t,a),e.params.priceTemplate)},lt=function(e,t,a){return t.price&&a?(0,Ee.formatMoney)(100*t.price,a):""},rt=function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],l="";if(e.params.imgTooltip&&(l+='<img src="'.concat(t.img,'" style="max-width:100%;max-height:300px; display: block; margin:auto; margin-bottom:5px;" />').concat(l)),e.params.imgText||(l+=at(e,t,a,n)),""!==l.trim())return l},ot={mode:"both",enter:{active:"cl-po--fade-enter-active",from:"cl-po--fade-enter-from",to:"cl-po--fade-enter-to"},leave:{active:"cl-po--fade-leave-active",from:"cl-po--fade-leave-from",to:"cl-po--fade-leave-to"},duration:500},it=function(){var e=document.createElement("input");return e.type="color",e.value="!","color"===e.type&&"!"!==e.value},ct=function(){var e=document.createElement("input");return e.setAttribute("type","date"),e.setAttribute("value","a"),"a"!==e.value},st=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t["cl-po--invalid"]=e.errors&&e.errors.length>0,e._editor&&e._layer.params.collapse&&(t["cl-po--b-radius-0"]=!0),t},pt=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.params.size?a["cl-po--"+e.params.size]=!0:t&&(a["cl-po--"+t]=!0),e.params.shape&&(a["cl-po--"+e.params.shape]=!0),a},ut=function(e,t,a,n){t.params.toggle&&t.value===a.value&&(e.preventDefault(),e.stopImmediatePropagation(),t.value="",n(t))},dt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.params.minWidth&&e.params.minWidth>0&&(t.minWidth=e.params.minWidth+"px"),t},mt=function(e,t){var a=e.params.debounce||300;return 0===a?t:Se.default.debounced(a,t)},vt=function(e){return e.params.name?e.params.name:"properties[".concat(e.name,"]")},ft=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"noop";return e.params.autocomplete?e.params.autocomplete:t},ht=function(e,t,a){return e.target.value&&("uppercase"===t.params.textTransform?e.target.value=e.target.value.toUpperCase():"lowercase"===t.params.textTransform&&(e.target.value=e.target.value.toLowerCase())),gt(e,t,a)},gt=function(e,t,a){return t.value=e.target.value,a(t)},yt=function(e){var t=[];return e._layer.params.editor.font&&t.push("font:"+(e._editor.fontFamily||"")),e._layer.params.editor.style&&(t.push("weight:"+(e._editor.fontWeight||"normal")),t.push("style:"+(e._editor.fontStyle||"normal"))),e._layer.params.editor.align&&t.push("align:"+(e._editor.textAlign||"left")),e._layer.params.editor.size&&t.push("size:"+(e._editor.fontSize||"normal")),e._layer.params.editor.color&&t.push("color:"+(e._editor.color||"#000000")),t.join(",")},_t=function(e,t,a){return{multiSelect:!0,onValidate:function(e){var t=e.value?e.value.split(",").length:0;return e.params.minSelect&&t<e.params.minSelect?(e.errors.push(je.default.get("product.options.validity.selectMin",{min:e.params.minSelect})),!1):e.params.maxSelect&&t>e.params.maxSelect?(e.errors.push(je.default.get("product.options.validity.selectMax",{max:e.params.maxSelect})),!1):!(e.required&&!e.value)||(e.errors.push(je.default.get("product.options.validity.valueMissing")),!1)},onChange:function(e,t){var n=document.querySelector("#"+t.id);if(n){for(var l=document.querySelectorAll('[id^="'+t.id+'"]'),r=[],o=0;o<l.length;o++){var i=l[o];i!==n&&i.checked&&r.push(i.value)}var c=r.join(",");n.value=c,t.value=c,a(t)}},isChecked:function(e,t){return e.value==t.value||e.value&&-1!==e.value.indexOf(t.value)}}};Ae.default.templates.hidden=function(t,a,n){return(0,Me.html)(e||(e=Je(['\n    <input type="hidden" id="','" name="','" .value='," form=",">\n"])),t.id,vt(t),(0,qe.live)(t.value),(0,Le.ifDefined)(a.productFormLink))};var wt=function(e){return(0,Me.html)(t||(t=Je(["\n    ",'\n    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path fill="none" d="M0 0h24v24H0z"/><path d="M15.728 9.686l-1.414-1.414L5 17.586V19h1.414l9.314-9.314zm1.414-1.414l1.414-1.414-1.414-1.414-1.414 1.414 1.414 1.414zM7.242 21H3v-4.243L16.435 3.322a1 1 0 0 1 1.414 0l2.829 2.829a1 1 0 0 1 0 1.414L7.243 21z" fill="var(--text-editor-color)"/></svg>\n'])),e._layer.params.collapseLabel?(0,Me.html)(a||(a=Je(['<span class="cl-po--edit-label">',"</span>"])),e._layer.params.collapseLabel):null)};Ae.default.templates.text=function(e,t,a){return(0,Me.html)(n||(n=Je(['\n    <input type="text" class="cl-po--input ','" id="','" name="','" .value='," @input=","\n      ?required="," minlength="," maxlength="," pattern="," placeholder=",' autocomplete="','" form='," style=",">\n\n    ","\n"])),(0,Te.classMap)(st(e)),e.id,vt(e),(0,qe.live)(e.value),mt(e,function(t){return ht(t,e,a)}),e.required,(0,Le.ifDefined)(e.params.min),(0,Le.ifDefined)(e.params.max),(0,Le.ifDefined)(e.params.pattern||void 0),(0,Le.ifDefined)(e.params.placeholder),ft(e),(0,Le.ifDefined)(t.productFormLink),(0,He.styleMap)({textTransform:e.params.textTransform}),e._editor?e._layer.params.collapse?(0,Me.html)(l||(l=Je(["",""])),bt(wt(e),Ae.default.templates.text_editor(e,t,a),!1,"cl-po--edit")):(0,Me.html)(r||(r=Je(["",""])),Ae.default.templates.text_editor(e,t,a)):null)},Ae.default.templates.textarea=function(e,t,a){return(0,Me.html)(o||(o=Je(['\n    <textarea class="cl-po--input ','" id="','" name="','" .value='," @input="," @keyup=","\n     ?required="," minlength="," maxlength="," rows="," placeholder="," style=",' autocomplete="','" form=',">\n    </textarea>\n\n    ","\n        \n    ","\n"])),(0,Te.classMap)(st(e)),e.id,vt(e),(0,qe.live)(e.value),mt(e,function(t){return ht(t,e,a)}),e.params.textUsage?function(t){return Ke(t,e)}:null,e.required,(0,Le.ifDefined)(e.params.min),(0,Le.ifDefined)(e.params.max),(0,Le.ifDefined)(e.params.rows),(0,Le.ifDefined)(e.params.placeholder),(0,He.styleMap)({textTransform:e.params.textTransform}),ft(e),(0,Le.ifDefined)(t.productFormLink),e._editor?e._layer.params.collapse?(0,Me.html)(i||(i=Je(["",""])),bt(wt(e),Ae.default.templates.text_editor(e,t,a),!1,"cl-po--edit")):(0,Me.html)(c||(c=Je(["",""])),Ae.default.templates.text_editor(e,t,a)):null,e.params.textUsage?(0,Me.html)(s||(s=Je(['\n        <div class="cl-po--help cl-po--text-help"></div>\n    ']))):null)},Ae.default.templates.text_editor=function(e,t,a){return(0,Me.html)(p||(p=Je(['\n    <div class="cl-po--text-editor">\n\n        ',"\n        \n        ","\n        ","\n        ","\n        ","\n         ","\n        \n    </div>\n"])),Ae.default.templates.hidden({id:e.id+"_editor",name:"_"+e.name+"_editor",params:{},value:yt(e)},t),e._layer.params.editor.font?(0,Me.html)(u||(u=Je(['\n        <div class="cl-po--editor-group cl-po--font-family">\n            ',"\n        </div>"])),Ae.default.templates.font({id:e.id+"_font",name:e.name+"_font",params:{name:e.name+"_font"},value:e._editor.fontFamily},t,function(t){e._editor.fontFamily=t.value,a(e)})):null,e._layer.params.editor.style?(0,Me.html)(d||(d=Je([' \n        <div class="cl-po--editor-group cl-po--font-style">\n            <div @click=',' class="cl-po--swatch cl-po--swatch-button ','" data-tippy-content="','" data-tippy-placement="bottom">\n                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path fill="none" d="M0 0h24v24H0z"/><path d="M8 11h4.5a2.5 2.5 0 1 0 0-5H8v5zm10 4.5a4.5 4.5 0 0 1-4.5 4.5H6V4h6.5a4.5 4.5 0 0 1 3.256 7.606A4.498 4.498 0 0 1 18 15.5zM8 13v5h5.5a2.5 2.5 0 1 0 0-5H8z" fill="var(--text-editor-color)"/></svg>\n            </div>\n            <div @click=',' class="cl-po--swatch cl-po--swatch-button ','" data-tippy-content="','" data-tippy-placement="bottom">\n                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path fill="none" d="M0 0h24v24H0z"/><path d="M15 20H7v-2h2.927l2.116-12H9V4h8v2h-2.927l-2.116 12H15z" fill="var(--text-editor-color)"/></svg>\n            </div>\n        </div>'])),function(t){e._editor.fontWeight="bold"===e._editor.fontWeight?"normal":"bold",a(e)},"bold"===e._editor.fontWeight?"selected":"",je.default.get("product.options.text.style.bold"),function(t){e._editor.fontStyle="italic"===e._editor.fontStyle?"normal":"italic",a(e)},"italic"===e._editor.fontStyle?"selected":"",je.default.get("product.options.text.style.italic")):null,e._layer.params.editor.align?(0,Me.html)(m||(m=Je([' \n        <div class="cl-po--editor-group cl-po--text-align">\n            <div @click=',' class="cl-po--swatch cl-po--swatch-button ','" data-tippy-content="','" data-tippy-placement="bottom">\n                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path fill="none" d="M0 0h24v24H0z"/><path d="M3 4h18v2H3V4zm0 15h14v2H3v-2zm0-5h18v2H3v-2zm0-5h14v2H3V9z" fill="var(--text-editor-color)"/></svg>\n            </div>\n            <div @click=',' class="cl-po--swatch cl-po--swatch-button ','" data-tippy-content="','" data-tippy-placement="bottom">\n                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path fill="none" d="M0 0h24v24H0z"/><path d="M3 4h18v2H3V4zm2 15h14v2H5v-2zm-2-5h18v2H3v-2zm2-5h14v2H5V9z" fill="var(--text-editor-color)"/></svg>\n            </div>\n            <div @click=',' class="cl-po--swatch cl-po--swatch-button ','" data-tippy-content="','" data-tippy-placement="bottom">\n                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path fill="none" d="M0 0h24v24H0z"/><path d="M3 4h18v2H3V4zm4 15h14v2H7v-2zm-4-5h18v2H3v-2zm4-5h14v2H7V9z" fill="var(--text-editor-color)"/></svg>\n            </div>\n        </div>'])),function(t){e._editor.textAlign="left",a(e)},"left"===e._editor.textAlign?"selected":"",je.default.get("product.options.text.align.left"),function(t){e._editor.textAlign="center",a(e)},"center"===e._editor.textAlign?"selected":"",je.default.get("product.options.text.align.center"),function(t){e._editor.textAlign="right",a(e)},"right"===e._editor.textAlign?"selected":"",je.default.get("product.options.text.align.right")):null,e._layer.params.editor.size?(0,Me.html)(v||(v=Je([' \n        <div class="cl-po--editor-group cl-po--font-size">\n            <div @click=',' class="cl-po--swatch cl-po--swatch-button">\n                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path fill="none" d="M0 0h24v24H0z"/><path d="M5 11h14v2H5z" fill="var(--text-editor-color)"/></svg>\n            </div>\n            <div class="cl-po--swatch cl-po--swatch-button icon" data-tippy-content="','" data-tippy-placement="bottom">\n                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path fill="none" d="M0 0h24v24H0z"/><path d="M11.246 15H4.754l-2 5H.6L7 4h2l6.4 16h-2.154l-2-5zm-.8-2L8 6.885 5.554 13h4.892zM21 12.535V12h2v8h-2v-.535a4 4 0 1 1 0-6.93zM19 18a2 2 0 1 0 0-4 2 2 0 0 0 0 4z" fill="var(--text-editor-color)"/></svg>\n            </div>\n            <div @click=',' class="cl-po--swatch cl-po--swatch-button">\n                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path fill="none" d="M0 0h24v24H0z"/><path d="M11 11V5h2v6h6v2h-6v6h-2v-6H5v-2z" fill="var(--text-editor-color)"/></svg>\n            </div>\n        </div>'])),function(t){e._editor.fontSize-=e._layer.params.fontSizeStep||1,a(e)},je.default.get("product.options.text.fontSize"),function(t){e._editor.fontSize+=e._layer.params.fontSizeStep||1,a(e)}):null,e._layer.params.editor.color?(0,Me.html)(f||(f=Je([' \n        <div class="cl-po--editor-group cl-po--font-color">\n            ',"\n            ","\n        </div>"])),Ae.default.templates.color({id:e.id+"_color",name:e.name+"_color",params:{name:e.name+"_color"},value:e._editor.color||"#000000"},t,function(t){e._editor.color=t.value,a(e)}),it()?(0,Me.html)(h||(h=Je(['\n            <div class="cl-po--font-color-input">\n            ',"\n              </div>"])),Ae.default.templates.color_input({id:e.id+"_color",name:e.name+"_color",params:{name:e.name+"_color"},value:e._editor.color||"#000000"},t,function(t){e._editor.color=t.value,a(e)})):null):null)},Ae.default.templates.date=function(e,t,a){var n=void 0===e._controller;if(e._controller=e._controller||{setup:function(){if(e._controller.native=ct(),e._controller.native)e._controller.ready=Promise.resolve();else{var a=[t.assets+"/static/lib/dateinput/dateinput.min.js"];e._controller.ready=We.default.loadOnce(a,"option-date",{async:!1})}},onValidate:function(){var t=e._controller.dateEl,a=t.checkValidity(),n=!1,l=!1;if(a&&!e._controller.native){if(t.min){var r=new Date(t.min+"T00:00:00");t.valueAsDate<r&&(a=!1,n=!0)}if(t.max){var o=new Date(t.max+"T00:00:00");t.valueAsDate>o&&(a=!1,l=!0)}}if(!a){if(t.validity.rangeUnderflow||n){var i=t.min,c=new Date(i+"T00:00:00");c.setDate(c.getDate()-1),i=e._controller.format(c,e.params.dateFormat||"yyyy-mm-dd"),e.errors.push(je.default.get("product.options.validity.dateMin",{min:i}))}else if(t.validity.rangeOverflow||l){var s=t.max,p=new Date(s+"T00:00:00");p.setDate(p.getDate()+1),s=e._controller.format(p,e.params.dateFormat||"yyyy-mm-dd"),e.errors.push(je.default.get("product.options.validity.dateMax",{max:s}))}else e.errors.push(je.default.get("product.options.validity.valueMissing"));return!1}return!0},onChange:function(e,t){t._controller.mapDateValue(),a(t)},mapDateValue:function(){e._controller.dateEl.value?e.params.dateFormat?e._controller.el.value=e._controller.format(e._controller.dateEl.valueAsDate,e.params.dateFormat):e._controller.el.value=e._controller.dateEl.value:e._controller.el.value="",e.value=e._controller.el.value},mapOptionValue:function(){if(e.value&&e.value!==e._controller.el.value){var t,a,n=e.params.dateFormat;if(n&&"yyyy-mm-dd"!==n){if(-1!==n.indexOf("/")?a=n.startsWith("yyyy")?Ie(/([0-9]{4})\/([0-9]{2})\/([0-9]{2})/,{year:1,month:2,day:3}):Ie(/([0-9]{2})\/([0-9]{2})\/([0-9]{4})/,{day:1,month:2,year:3}):-1!==n.indexOf(".")&&(a=n.startsWith("dd")?Ie(/([0-9]{2})\.([0-9]{2})\.([0-9]{4})/,{day:1,month:2,year:3}):Ie(/([0-9]{2})\.([0-9]{2})\.([0-9]{4})/,{month:1,day:2,year:3})),a){var l=a.exec(e.value);l&&(t=new Date(l.groups.year,l.groups.month-1,l.groups.day))}}else t=new Date(e.value+"T00:00:00");if(t)return e._controller.dateEl.valueAsDate=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate())),!0}return!1},format:function(e,t){return t=(t=(t=t.replace("yyyy",e.getFullYear())).replace("mm",("0"+(e.getMonth()+1)).slice(-2))).replace("dd",("0"+e.getDate()).slice(-2))},init:function(e,t){t&&(e._controller.options=t),e._controller.ready.then(function(){if(e._controller.el=document.querySelector("#"+e.id),e._controller.dateEl=document.querySelector("#"+e.id+"-date"),!e._controller.native){if(window.navigator&&window.navigator.language){var t=navigator.language,a=t.substr(0,2);e._controller.dateEl.setAttribute("lang",t),"en"!==a&&e._controller.dateEl.setAttribute("data-first-day","mo")}e.params.dateFormat&&e._controller.dateEl.setAttribute("data-date-format",e.params.dateFormat)}e._controller.mapOptionValue(),e._controller.initMinMax(e)})},initMinMax:function(e){var n=!isNaN(e.params.maxDays)&&null!=e.params.maxDays,l=!isNaN(e.params.minDays)&&null!=e.params.minDays;if(l||n){var r=function(t){n&&function(t){if(t.setDate(t.getDate()+e.params.maxDays),e.params.maxDate){var a=new Date(e.params.maxDate+"T00:00:00");t>a&&(t=a)}e._controller.dateEl.max=e._controller.format(t,"yyyy-mm-dd"),e._controller.dateEl.valueAsDate&&e._controller.dateEl.valueAsDate>t&&(e._controller.dateEl.valueAsDate=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate())),e._controller.mapDateValue())}(new Date(t.getTime())),l&&function(t){if(t.setDate(t.getDate()+e.params.minDays),e.params.minDate){var a=new Date(e.params.minDate+"T00:00:00");t<a&&(t=a)}e._controller.dateEl.min=e._controller.format(t,"yyyy-mm-dd"),(!e.value||e._controller.dateEl.valueAsDate&&e._controller.dateEl.valueAsDate<t)&&(e._controller.dateEl.valueAsDate=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate())),e._controller.mapDateValue())}(new Date(t.getTime()))},o=new Date;if(e.params.optionDate){if(e._controller.options)for(var i=0;i<e._controller.options.length;i++){var c=e._controller.options[i];if(c.name===e.params.optionDate&&c._controller&&c._controller.dateEl){o=c._controller.dateEl.valueAsDate;break}}e._controller.optionChanged&&t.productForm.removeEventListener("option:changed",e._controller.optionChanged),e._controller.optionChanged=function(t){var n=t.detail;n.name===e.params.optionDate&&n._controller&&n._controller.dateEl&&(r(n._controller.dateEl.valueAsDate),a(e))},t.productForm.addEventListener("option:changed",e._controller.optionChanged)}r(o)}else if(e._controller.dateEl.min){var s=new Date(e._controller.dateEl.min+"T00:00:00");(!e.value||e._controller.dateEl.valueAsDate&&e._controller.dateEl.valueAsDate<s)&&(e._controller.dateEl.valueAsDate=new Date(Date.UTC(s.getFullYear(),s.getMonth(),s.getDate())),e._controller.mapDateValue())}}},t.productForm)if(n){e._controller.setup();t.productForm.addEventListener("options:rendered",function a(n){var l=n.detail;t.productForm.removeEventListener("options:rendered",a),e._controller.init(e,l.config.options)})}else t.editorMode?e._controller.init(e):e._controller.mapOptionValue()&&e._controller.initMinMax(e);return(0,Me.html)(g||(g=Je(['\n         <input type="hidden" name="','" id="','" .value='," form=",'  />\n         <input type="date" class="cl-po--input ','" id="','-date" @change=',"\n            ?required="," min="," max=",">\n    "])),vt(e),e.id,(0,qe.live)(e.value),(0,Le.ifDefined)(t.productFormLink),(0,Te.classMap)(st(e)),e.id,function(t){return e._controller.onChange(t,e)},e.required,(0,Le.ifDefined)(null!=e.params.minDate?e.params.minDate:void 0),(0,Le.ifDefined)(null!=e.params.maxDate?e.params.maxDate:void 0))},Ae.default.templates.number=function(e,t,a){return(0,Me.html)(y||(y=Je(['\n    <input type="number" class="cl-po--input ','" id="','" name="','" .value='," @input=","\n     ?required="," min="," max="," placeholder=",' autocomplete="','" form=',">\n"])),(0,Te.classMap)(st(e)),e.id,vt(e),(0,qe.live)(e.value),mt(e,function(t){return gt(t,e,a)}),e.required,(0,Le.ifDefined)(e.params.min),(0,Le.ifDefined)(e.params.max),(0,Le.ifDefined)(e.params.placeholder),ft(e,"color"),(0,Le.ifDefined)(t.productFormLink))},Ae.default.templates.color=function(e,t,a){return(0,Me.html)(_||(_=Je(["\n    ","\n"])),it()?(0,Me.html)(w||(w=Je(['\n     <input type="color" class="cl-po--input ','" id="','" name="','" .value='," @change=","\n     ?required="," minlength="," maxlength="," placeholder="," form=",">\n        "])),(0,Te.classMap)(st(e)),e.id,vt(e),(0,qe.live)(e.value),function(t){return gt(t,e,a)},e.required,(0,Le.ifDefined)(e.params.min),(0,Le.ifDefined)(e.params.max),(0,Le.ifDefined)(e.params.placeholder),(0,Le.ifDefined)(t.productFormLink)):Ae.default.templates.color_input(e,t,a))},Ae.default.templates.color_input=function(e,t,a){return(0,Me.html)(x||(x=Je(['\n      <input type="text" class="cl-po--input ','" id="','" name="','" .value='," @change="," \n      ?required=",' pattern="#[0-9A-Fa-f]{6}" placeholder=',' autocomplete="','" form=',">\n"])),(0,Te.classMap)(st(e)),e.id,vt(e),(0,qe.live)(e.value),function(t){return gt(t,e,a)},e.required,(0,Le.ifDefined)(e.params.placeholder),ft(e,"color"),(0,Le.ifDefined)(t.productFormLink))},Ae.default.templates["color-swatch"]=function(e,t,a){return e.params.multiSelect?(e._controller=e._controller||_t(e,t,a),(0,Me.html)(b||(b=Je(['\n            <div class="cl-po--swatch-container">\n                <input type="hidden" name="','" id="','" value='," />\n                ","\n            </div>\n        "])),vt(e),e.id,e.value,(0,Fe.repeat)(e.values||[],function(a,n){return(0,Me.html)(D||(D=Je(['\n                    <label class="cl-po--swatch-item ',' ">\n                        <input type="checkbox" class="cl-po--input ','" id="',"-",'"  .value='," @change=","\n                               .checked="," form=",'>\n                        <div class="cl-po--swatch cl-po--swatch-color ','" style=',' data-tippy-content="','" data-tippy-placement="bottom">\n                        </div>\n                    </label>\n                    ',"\n                "])),(0,Te.classMap)({grow:e.params.grow}),(0,Te.classMap)(st(e)),e.id,n,a.value,function(t){return e._controller.onChange(t,e)},(0,qe.live)(e._controller.isChecked(e,a)),(0,Le.ifDefined)(t.productFormLink),(0,Te.classMap)(pt(e,"small")),(0,He.styleMap)({backgroundColor:a.color}),at(e,a,Ve.ThemeCurrency.moneyFormat),e.params.items&&(n+1)%e.params.items==0?(0,Me.html)(M||(M=Je(['<div class="cl-po--break" data-index=',"></div>"])),n):null)}))):(0,Me.html)(k||(k=Je(['\n            <div class="cl-po--swatch-container">\n            ',"\n            </div>\n        "])),(0,Fe.repeat)(e.values||[],function(n,l){return(0,Me.html)(F||(F=Je(['\n                <label class="cl-po--swatch-item ','">\n                    <input type="radio" class="cl-po--input ','" id="',"-",'" name="','" .value='," @change=","\n                           .checked="," ?required="," form=",'>\n                    <div class="cl-po--swatch cl-po--swatch-color ','" style=',' data-tippy-content="','" data-tippy-placement="bottom"\n                         @click=',">\n                    </div>\n                </label>\n                ","\n            "])),(0,Te.classMap)({grow:e.params.grow}),(0,Te.classMap)(st(e)),e.id,l,vt(e),n.value,function(t){return gt(t,e,a)},(0,qe.live)(e.value==n.value),e.required,(0,Le.ifDefined)(t.productFormLink),(0,Te.classMap)(pt(e,"small")),(0,He.styleMap)({backgroundColor:n.color}),at(e,n,Ve.ThemeCurrency.moneyFormat),function(t){return ut(t,e,n,a)},e.params.items&&(l+1)%e.params.items==0?(0,Me.html)(T||(T=Je(['<div class="cl-po--break" data-index=',"></div>"])),l):null)}))},Ae.default.templates["color-img-swatch"]=function(e,t,a){return Ae.default.templates["img-swatch"](e,t,a)},Ae.default.templates["img-swatch"]=function(e,t,a){return e.params.multiSelect?(e._controller=e._controller||_t(e,t,a),(0,Me.html)(H||(H=Je(['\n            <div class="cl-po--swatch-container">\n                <input type="hidden" name="','" id="','" value='," />\n                ","\n            </div>\n        "])),vt(e),e.id,e.value,(0,Fe.repeat)(e.values||[],function(a,n){return(0,Me.html)(z||(z=Je(['\n                    <label class="cl-po--swatch-item ','">\n                        <input type="checkbox" class="cl-po--input ','" id="',"-",'"  .value='," @change=","\n                               .checked="," form=",'>\n                        <div class="cl-po--swatch cl-po--swatch-img ','" data-tippy-content="','" data-tippy-placement="bottom">\n                            ',"\n                        </div>\n                        ","\n                    </label>\n                    ","\n                "])),(0,Te.classMap)({grow:e.params.grow}),(0,Te.classMap)(st(e)),e.id,n,a.value,function(t){return e._controller.onChange(t,e)},(0,qe.live)(e._controller.isChecked(e,a)),(0,Le.ifDefined)(t.productFormLink),(0,Te.classMap)(pt(e,"large")),(0,Le.ifDefined)(rt(e,a,Ve.ThemeCurrency.moneyFormat)),a.img?(0,Me.html)(L||(L=Je(['<img src="','" />'])),a.img):null,e.params.imgText?(0,Me.html)(q||(q=Je(['<span class="cl-po--swatch-text">',"</span>"])),(0,ke.unsafeHTML)(at(e,a,Ve.ThemeCurrency.moneyFormat))):null,e.params.items&&(n+1)%e.params.items==0?(0,Me.html)(C||(C=Je(['<div class="cl-po--break" data-index=',"></div>"])),n):null)}))):(0,Me.html)(E||(E=Je(['\n            <div class="cl-po--swatch-container">\n                ',"\n            </div>\n        "])),(0,Fe.repeat)(e.values||[],function(n,l){return(0,Me.html)(S||(S=Je(['\n                    <label class="cl-po--swatch-item ','">\n                        <input type="radio" class="cl-po--input ','" id="',"-",'" name="','" .value='," @change=","\n                               .checked="," ?required="," form=",'>\n                        <div class="cl-po--swatch cl-po--swatch-img  ','" data-tippy-content="','" data-tippy-placement="bottom"\n                             @click=',">\n                            ","\n                        </div>\n                        ","\n                    </label>\n                    ","\n                "])),(0,Te.classMap)({grow:e.params.grow}),(0,Te.classMap)(st(e)),e.id,l,vt(e),n.value,function(t){return gt(t,e,a)},(0,qe.live)(e.value==n.value),e.required,(0,Le.ifDefined)(t.productFormLink),(0,Te.classMap)(pt(e,"large")),(0,Le.ifDefined)(rt(e,n,Ve.ThemeCurrency.moneyFormat)),function(t){return ut(t,e,n,a)},n.img?(0,Me.html)(V||(V=Je(['<img src="','" />'])),n.img):null,e.params.imgText?(0,Me.html)(A||(A=Je(['<span class="cl-po--swatch-text">',"</span>"])),(0,ke.unsafeHTML)(at(e,n,Ve.ThemeCurrency.moneyFormat))):null,e.params.items&&(l+1)%e.params.items==0?(0,Me.html)(O||(O=Je(['<div class="cl-po--break" data-index=',"></div>"])),l):null)}))},Ae.default.templates["button-swatch"]=function(e,t,a){return e.params.multiSelect?(e._controller=e._controller||_t(e,t,a),(0,Me.html)(j||(j=Je(['\n            <div class="cl-po--swatch-container">\n                <input type="hidden" name="','" id="','" value='," />\n                ","\n            </div>\n        "])),vt(e),e.id,e.value,(0,Fe.repeat)(e.values||[],function(a,n){return(0,Me.html)(P||(P=Je(['\n                    <label class="cl-po--swatch-item ','" >\n                        <input type="checkbox" class="cl-po--input ','" id="',"-",'" .value='," @change=","\n                               .checked="," form=",'>\n                        <div class="cl-po--swatch cl-po--swatch-button ','" style=',' data-tippy-content="','" data-tippy-placement="bottom">\n                            ',"\n                        </div>\n                    </label>\n                    ","\n                "])),(0,Te.classMap)({grow:e.params.grow}),(0,Te.classMap)(st(e)),e.id,n,a.value,function(t){return e._controller.onChange(t,e)},(0,qe.live)(e._controller.isChecked(e,a)),(0,Le.ifDefined)(t.productFormLink),(0,Te.classMap)(pt(e,"small")),(0,He.styleMap)(dt(e)),(0,Le.ifDefined)(e.params.valuePriceTooltip?nt(e,a,Ve.ThemeCurrency.moneyFormat):void 0),(0,ke.unsafeHTML)(at(e,a,Ve.ThemeCurrency.moneyFormat)),e.params.items&&(n+1)%e.params.items==0?(0,Me.html)(W||(W=Je(['<div class="cl-po--break" data-index=',"></div>"])),n):null)}))):(0,Me.html)(B||(B=Je(['\n            <div class="cl-po--swatch-container">\n                ',"\n            </div>\n          \n        "])),(0,Fe.repeat)(e.values||[],function(n,l){return(0,Me.html)(U||(U=Je(['\n                    <label class="cl-po--swatch-item ','" >\n                        <input type="radio" class="cl-po--input ','" id="',"-",'" name="','" .value='," @change=","\n                               .checked="," ?required="," form=",'>\n                        <div class="cl-po--swatch cl-po--swatch-button ','" style=',' data-tippy-content="','" data-tippy-placement="bottom"\n                             @click=',">\n                            ","\n                        </div>\n                    </label>\n                    ","\n                "])),(0,Te.classMap)({grow:e.params.grow}),(0,Te.classMap)(st(e)),e.id,l,vt(e),n.value,function(t){return gt(t,e,a)},(0,qe.live)(e.value==n.value),e.required,(0,Le.ifDefined)(t.productFormLink),(0,Te.classMap)(pt(e,"small")),(0,He.styleMap)(dt(e)),(0,Le.ifDefined)(e.params.valuePriceTooltip?nt(e,n,Ve.ThemeCurrency.moneyFormat):void 0),function(t){return ut(t,e,n,a)},(0,ke.unsafeHTML)(at(e,n,Ve.ThemeCurrency.moneyFormat)),e.params.items&&(l+1)%e.params.items==0?(0,Me.html)(N||(N=Je(['<div class="cl-po--break" data-index=',"></div>"])),l):null)}))},Ae.default.templates.radio=function(e,t,a){return(0,Me.html)(R||(R=Je(["\n    ","\n"])),(0,Fe.repeat)(e.values||[],function(n,l){return(0,Me.html)(Y||(Y=Je(['\n        <label class="cl-po--radio-item" >\n            <input type="radio" class="cl-po--input ','" id="',"-",'" name="','" .value='," @change=","\n                   .checked="," ?required="," form=",">\n            ","\n        </label>\n    "])),(0,Te.classMap)(st(e)),e.id,l,vt(e),n.value,function(t){return gt(t,e,a)},(0,qe.live)(e.value==n.value),e.required,(0,Le.ifDefined)(t.productFormLink),(0,ke.unsafeHTML)(at(e,n,Ve.ThemeCurrency.moneyFormat)))}))},Ae.default.templates.checkbox=function(e,t,a){return e._controller=e._controller||_t(e,t,a),(0,Me.html)(I||(I=Je(['\n        <input type="hidden" name="','" id="','" value='," form="," />\n        ","\n    "])),vt(e),e.id,e.value,(0,Le.ifDefined)(t.productFormLink),(0,Fe.repeat)(e.values||[],function(a,n){return(0,Me.html)($||($=Je(['\n        <label class="cl-po--checkbox-item" >\n            <input type="checkbox" class="cl-po--input ','" id="',"-",'" .value='," @change=","\n                   .checked="," form=",">\n            ","\n        </label>\n    "])),(0,Te.classMap)(st(e)),e.id,n,a.value,function(t){return e._controller.onChange(t,e)},(0,qe.live)(e._controller.isChecked(e,a)),(0,Le.ifDefined)(t.productFormLink),(0,ke.unsafeHTML)(at(e,a,Ve.ThemeCurrency.moneyFormat)))}))},Ae.default.templates.select=function(e,t,a){return(0,Me.html)(G||(G=Je(['\n    <select class="cl-po--input ','" id="','" .value=',' name="','" @change='," ?required="," form=",">\n        ","\n        \n        ","\n    </select>\n"])),(0,Te.classMap)(st(e)),e.id,(0,qe.live)(e.value),vt(e),function(t){return gt(t,e,a)},e.required,(0,Le.ifDefined)(t.productFormLink),e.value?null:(0,Me.html)(J||(J=Je(['\n           <option value="" selected></option>']))),(0,Fe.repeat)(e.values||[],function(t,a){return(0,Me.html)(K||(K=Je(["            \n            <option .value="," ?selected="," > ","</option>\n        "])),t.value,e.value==t.value,at(e,t,Ve.ThemeCurrency.moneyFormat,!0))}))},Ae.default.templates.font=function(e,t,a){var n;n=e.params.fontFamilies&&e.params.fontFamilies.length?e.params.fontFamilies:Pe.default.fonts.map(function(e){return e.name}),e.values=n.map(function(e){return{value:e,text:" ",img:Pe.default.fontPreview(e)}});var l="dropdown";return e.params.fontSwatch&&(e.params.grow=!0,e.params.items=e.params.fontSwatchItems||3,l="img-swatch"),(0,Me.html)(Q||(Q=Je(['\n        <div class="cl-po--font-selector">\n            ',"\n        </div>\n    "])),Ae.default.templates[l](e,t,a))},Ae.default.templates.dropdown=function(e,t,a){var n=void 0===e._controller;if(e._controller=e._controller||{setup:function(){var a=[t.assets+"/static/lib/choicesjs/choices.min.css",t.assets+"/static/lib/choicesjs/choices.min.js"];e._controller.ready=We.default.loadOnce(a,"option-dropdown",{async:!1})},mapValues:function(e){var t=e.values?e.values.map(function(t){return{value:t.value,label:at(e,t,Ve.ThemeCurrency.moneyFormat),customProperties:t.img,selected:e.value==t.value}}):[];return e.value||t.unshift({value:"",label:"",selected:!0}),t},init:function(e){e._controller.ready.then(function(){e._controller.selectEl=document.querySelector("#"+e.id);var t=function(e){var t='<span class="o--text">'.concat(e.label,"</span>");return e.customProperties?'<img src="'.concat(e.customProperties,'" class="o--img"/> ').concat(t):t};e._controller.instance=new Choices(e._controller.selectEl,{choices:e._controller.mapValues(e),itemSelectText:"",searchEnabled:!1,searchChoices:!1,shouldSort:!1,callbackOnCreateTemplates:function(e){var a=this;return{item:function(e,n,l){var r=Choices.defaults.templates.item.apply(a,[e,n,l]);return r.innerHTML=t(n),r},choice:function(e,n,l){var r=Choices.defaults.templates.choice.apply(a,[e,n,l]);return r.innerHTML=t(n),r}}}})})},updateChoices:function(e){e._controller.instance.setChoices(e._controller.mapValues(e),"value","label",!0)},update:function(e){e._controller.selectEl&&e.value!==e._controller.selectEl.value&&e._controller.instance.setChoiceByValue(e.value)}},t.productForm)if(n){e._controller.setup();t.productForm.addEventListener("options:rendered",function a(){t.productForm.removeEventListener("options:rendered",a),e._controller.init(e)})}else t.editorMode?e._controller.updateChoices(e):e._controller.update(e);return(0,Me.html)(X||(X=Je(['\n        <select class="cl-po--input ','" id="','" name="','" @change='," ?required="," form=",">\n        </select>\n    "])),(0,Te.classMap)(st(e)),e.id,vt(e),function(t){return gt(t,e,a)},e.required,(0,Le.ifDefined)(t.productFormLink))};var xt=function(e){var t=e.currentTarget,a=-1!==t.className.indexOf("open"),n=t.nextElementSibling;a||(n.style.maxHeight=n.scrollHeight+100+"px",setTimeout(function(){n.style.maxHeight&&(n.style.maxHeight=null)},500)),t.classList.toggle("cl-po--open")},bt=function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return(0,Me.html)(Z||(Z=Je(['\n    <div class="cl-po--collapse ','" @click=',">",'</div>\n    <div class="cl-po--panel ','">\n        ',"\n    </div>\n"])),a?n+" cl-po--open":n,function(e){return xt(e)},e,n,t)};Ae.default.templates.group=function(e,t,a,n){var l=(0,Me.html)(ee||(ee=Je(['\n            <div class="cl-po--group" >\n                ',"\n            </div>"])),e.options&&e.options.length>0?(0,Me.html)(te||(te=Je(["\n                    ","\n                "])),Dt(e.options,t,a,n)):null);return e.params.collapse?bt((0,ke.unsafeHTML)(e.params.collapseLabel),l,e.params.collapseOpen):l},Ae.default.templates.html=function(e,t,a){return(0,Me.html)(ae||(ae=Je(["\n    ","\n"])),(0,ke.unsafeHTML)(e.params.html))},Ae.default.templates.upload=function(e,t,a){var n=void 0===e._controller;return e._controller=e._controller||Oe.default.getInstance().controller(),n||e._controller.update(e,t.productForm),(0,Me.html)(ne||(ne=Je(['  \n        <div class="cl-po--upload ','">\n            <div class="cl-po--upload-wrap">\n                <label class="cl-po--input cl-po--upload-button">\n                 <input type="file" @change='," \n                    ?required="," ?multiple=","  accept="," >\n                 <span>","</span>\n                </label>\n                ",'\n            </div>\n            <progress class="cl-po--preview-progress" style="display:none;"></progress>\n            <div class="cl-po--upload-files">\n             ',"\n            </div>\n        </div>\n    "])),(0,Te.classMap)(st(e)),function(n){return e._controller.onChange(n,e,t.productForm,a)},e.required,e.params.multiple,(0,Le.ifDefined)(e.params.accept),(0,Le.ifDefined)(e.params.button||"Choose file"),e.value&&e._layer&&e._layer.params.crop?(0,Me.html)(le||(le=Je(['\n                    <label class="cl-po--input cl-po--upload-button crop ','" @click=','>\n                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path fill="none" d="M0 0h24v24H0z"/><path d="M15 17v2H6a1 1 0 0 1-1-1V7H2V5h3V2h2v15h8zm2 5V7H9V5h9a1 1 0 0 1 1 1v11h3v2h-3v3h-2z" /></svg>\n                        ',"\n                    </label>\n                "])),(0,Te.classMap)({"has-label":e._layer.params.cropLabel}),function(a){return e._controller.crop(e,t.productForm)},e._layer.params.cropLabel?(0,Me.html)(re||(re=Je(['<span class="cl-po--crop-label">',"</span>"])),e._layer.params.cropLabel):null):null,(0,Fe.repeat)(e._controller.files,function(n){return(0,Me.html)(oe||(oe=Je(["\n                   <div>",' <span class="cl-po--remove" @click=',">&times;</span></div>\n             "])),n.name,function(l){return e._controller.remove(e,t.productForm,n,a)})}))},Ae.default.templates["upload-lift"]=function(e,t,a){if(e.params.uuid){e._controller&&(e._controller.field&&e._controller.field.config.uuid!==e.params.uuid?(e._controller.field.destroy(),delete e._controller):t.editorMode&&!e._controller.field&&delete e._controller);var n=void 0===e._controller;return e._controller=e._controller||Oe.default.getInstance().controllerLift(e,t.product,t.productForm,a),n||e._controller.update(e,t.productForm),e._controller.option=e,(0,Me.html)(ie||(ie=Je(['\n            <div class="cl-po--upload-lift ','">\n                <div class="cl-po--upload-lift-','"></div>\n                ',"\n            </div>"])),(0,Te.classMap)(st(e)),e.id,e.value&&e._layer&&e._layer.params.crop?(0,Me.html)(ce||(ce=Je(['\n                    <label class="cl-po--input cl-po--upload-lift-crop" @click=','>\n                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path fill="none" d="M0 0h24v24H0z"/><path d="M15 17v2H6a1 1 0 0 1-1-1V7H2V5h3V2h2v15h8zm2 5V7H9V5h9a1 1 0 0 1 1 1v11h3v2h-3v3h-2z" /></svg>\n                    </label>\n                '])),function(a){return e._controller.crop(e,t.productForm)}):null)}return null};var Dt=function(e,t,a,n){return(0,Me.html)(se||(se=Je(["\n    ","\n"])),(0,Fe.repeat)(e,function(e){return e.name},function(e,l){return(0,Me.html)(pe||(pe=Je(["\n            \n             ","\n    "])),(0,ze.cache)(e.visible?(0,Me.html)(ue||(ue=Je(['\n                 <div class="cl-po--option" data-option="','">\n                    ',"\n                    \n                    ","\n                     \n                    ","\n                     \n                    ","\n                   \n                </div>\n             "])),e.name,e.label?(0,Me.html)(de||(de=Je(['\n                    <label class="cl-po--label" for="','">'," "," ","    ","</label>\n                    "])),e.id,(0,ke.unsafeHTML)(e.label),e.value&&e.params.labelValueText?(0,Me.html)(me||(me=Je(['<span class="cl-po--value">&nbsp;',"</span>"])),tt(et(e))):null,e._priceText?(0,Me.html)(ve||(ve=Je(['<span class="cl-po--price">&nbsp;',"</span>"])),(0,ke.unsafeHTML)(Ze(e._priceText,e.params.priceTemplate))):null,e.params.info?(0,Me.html)(fe||(fe=Je(['<span class="cl-po--info" data-tippy-content="','"></span>'])),e.params.info):null):null,Ae.default.templates[e.type]?(0,Me.html)(he||(he=Je(["\n                      ","\n                    "])),Ae.default.templates[e.type](e,t,a,n)):null,e.params.help?(0,Me.html)(ge||(ge=Je(['\n                    <div class="cl-po--help">',"</div>\n                    "])),(0,ke.unsafeHTML)(e.params.help)):null,(0,Ce.transition)(e.errors&&e.errors.length>0?(0,Ce.mark)((0,Me.html)(ye||(ye=Je(['\n                    <div class="cl-po--errors">\n                        ',"\n                    </div>\n                    "])),(0,Fe.repeat)(e.errors,function(t,a){return(0,Me.html)(_e||(_e=Je(['\n                            <div class="cl-po--error" @click=',">","</div>\n                        "])),function(a){return n(a,e,t)},t)})),"".concat(e.id,"-errors")):(0,Ce.mark)((0,Me.html)(we||(we=Je(["<span></span>"]))),"noop"),ot)):null))}))},Mt=function(e,t,a,n,l){return(0,Me.html)(xe||(xe=Je(['\n<div class="cl-po--options">\n\n',' \n    \n    <input type="hidden" name="properties[_cl_options]" value='," form=",">\n</div>\n"])),e.length>0?(0,Me.html)(be||(be=Je(["\n        ","\n        \n        ","\n    "])),Dt(e,t,a,n),t.editorMode?(0,Me.html)(De||(De=Je(['  \n            <div class="cl-editor-mode">\n                <p data-live-price="','" ></p>\n                <button class="cl-po--swatch cl-po--swatch-button cl-po--small" @click="','">\n                    Add to cart (validation test)\n                </button>\n            </div>\n            '])),t.product.id,function(e){return l(e)}):null):null,t.uuid,(0,Le.ifDefined)(t.productFormLink))},kt=Mt;exports.default=kt;
},{"lit-html":"KMqM","lit-html/directives/unsafe-html":"VZdO","lit-html/directives/repeat":"jBp4","lit-html/directives/class-map":"zFN9","lit-html/directives/style-map":"oXRc","lit-html/directives/cache":"LhRC","lit-html/directives/if-defined":"CFRe","lit-html/directives/live":"i5N8","lit-transition":"Hfmq","@shopify/theme-currency":"jUSW","../util":"zY0S","../const":"QqYi","./template-registry":"WtKS","../upload/upload":"k2Pi","../translate":"IkY8","../font-loader":"G9B6","../resource-loader":"U86w","loglevel":"ohSP"}],"XKb4":[function(require,module,exports) {
var define;
var t;!function(o){"use strict";var e=o.HTMLCanvasElement&&o.HTMLCanvasElement.prototype,n=o.Blob&&function(){try{return Boolean(new Blob)}catch(t){return!1}}(),a=n&&o.Uint8Array&&function(){try{return 100===new Blob([new Uint8Array(100)]).size}catch(t){return!1}}(),r=o.BlobBuilder||o.WebKitBlobBuilder||o.MozBlobBuilder||o.MSBlobBuilder,i=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,l=(n||r)&&o.atob&&o.ArrayBuffer&&o.Uint8Array&&function(t){var o,e,l,u,c,b,B,s,f;if(!(o=t.match(i)))throw new Error("invalid data URI");for(e=o[2]?o[1]:"text/plain"+(o[3]||";charset=US-ASCII"),l=!!o[4],u=t.slice(o[0].length),c=l?atob(u):decodeURIComponent(u),b=new ArrayBuffer(c.length),B=new Uint8Array(b),s=0;s<c.length;s+=1)B[s]=c.charCodeAt(s);return n?new Blob([a?B:b],{type:e}):((f=new r).append(b),f.getBlob(e))};o.HTMLCanvasElement&&!e.toBlob&&(e.mozGetAsFile?e.toBlob=function(t,o,n){var a=this;setTimeout(function(){n&&e.toDataURL&&l?t(l(a.toDataURL(o,n))):t(a.mozGetAsFile("blob",o))})}:e.toDataURL&&l&&(e.msToBlob?e.toBlob=function(t,o,n){var a=this;setTimeout(function(){(o&&"image/png"!==o||n)&&e.toDataURL&&l?t(l(a.toDataURL(o,n))):t(a.msToBlob(o))})}:e.toBlob=function(t,o,e){var n=this;setTimeout(function(){t(l(n.toDataURL(o,e)))})})),"function"==typeof t&&t.amd?t(function(){return l}):"object"==typeof module&&module.exports?module.exports=l:o.dataURLtoBlob=l}(window);
},{}],"K90H":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e,r=require("lit-html"),t=require("lit-html/directives/repeat"),i=require("lit-html/directives/cache"),c=require("lit-transition");function a(e,r){return r||(r=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(r)}}))}var l=function(t,i){return(0,r.html)(e||(e=a(['\n<div class="cl-po--preview"> \n    <canvas class="cl-po--canvas"></canvas>\n</div>\n'])))},s=l;exports.default=s;
},{"lit-html":"KMqM","lit-html/directives/repeat":"jBp4","lit-html/directives/cache":"LhRC","lit-transition":"Hfmq"}],"z5P1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t,n=require("lit-html");function e(t,n){return n||(n=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(n)}}))}var v=function(v,h,o,s){return(0,n.html)(t||(t=e(['\n<div class="cl-po--preview-crop">\n    <button type="button" @click=','>\n        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="30" height="30"><path d="M12 10.586l4.95-4.95 1.414 1.414-4.95 4.95 4.95 4.95-1.414 1.414-4.95-4.95-4.95 4.95-1.414-1.414 4.95-4.95-4.95-4.95L7.05 5.636z"/></svg>\n    </button>\n    <div>\n        <button type="button" @click=',' >\n            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="30" height="30"><path d="M18.031 16.617l4.283 4.282-1.415 1.415-4.282-4.283A8.96 8.96 0 0 1 11 20c-4.968 0-9-4.032-9-9s4.032-9 9-9 9 4.032 9 9a8.96 8.96 0 0 1-1.969 5.617zm-2.006-.742A6.977 6.977 0 0 0 18 11c0-3.868-3.133-7-7-7-3.868 0-7 3.132-7 7 0 3.867 3.132 7 7 7a6.977 6.977 0 0 0 4.875-1.975l.15-.15zM7 10h8v2H7v-2z"/></svg>\n        </button>\n        <button type="button" @click=',' >\n            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="30" height="30"><path d="M18.031 16.617l4.283 4.282-1.415 1.415-4.282-4.283A8.96 8.96 0 0 1 11 20c-4.968 0-9-4.032-9-9s4.032-9 9-9 9 4.032 9 9a8.96 8.96 0 0 1-1.969 5.617zm-2.006-.742A6.977 6.977 0 0 0 18 11c0-3.868-3.133-7-7-7-3.868 0-7 3.132-7 7 0 3.867 3.132 7 7 7a6.977 6.977 0 0 0 4.875-1.975l.15-.15zM10 10V7h2v3h3v2h-3v3h-2v-3H7v-2h3z"/></svg>\n        </button>\n        <button type="button" @click=',' >\n            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="30" height="30"><path fill="none" d="M0 0h24v24H0z"/><path d="M20 10.586l1.828-1.829 1.415 1.415L19 14.414l-4.243-4.242 1.415-1.415L18 10.586V8a3 3 0 0 0-3-3h-4V3h4a5 5 0 0 1 5 5v2.586zM13 9a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V10a1 1 0 0 1 1-1h10zm-1 2H4v8h8v-8z"/></svg>\n        </button>\n    </div>\n    <button type="button" @click=',' style="background:#31cc01;margin-right:1px;">\n        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="30" height="30"><path fill="white" d="M10 15.172l9.192-9.193 1.415 1.414L10 18l-6.364-6.364 1.414-1.414z"/></svg>\n    </button>\n    <svg class="icon-crop cursor" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">\n        <path class="cursor-x-y" d="M56 49v-3l4 4-4 4v-3h-5v5h3l-4 4-4-4h3v-5h-5v3l-4-4 4-4v3h5v-5h-3l4-4 4 4h-3v5z" />\n    </svg>\n    <svg class="icon-crop touch"  xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200">\n        <path class="hand-x-y" d="M139.93,113.56l-41.12-6.93V76.08a9.25,9.25,0,0,0-9.25-9.25h0a9.25,9.25,0,0,0-9.25,9.25v57.36L71,122.65c-3.61-3.61-8.44-3.89-13.08,0,0,0-7.24,5.84-3.83,9.25l34,34h42.63a9.25,9.25,0,0,0,9.07-7.43l6.82-34.09A9.28,9.28,0,0,0,139.93,113.56Z"/>\n    </svg>\n</div>\n'])),function(t){return o()},function(t){return v(!1)},function(t){return v(!0)},function(t){return h(90)},function(t){return s()})},h=v;exports.default=h;
},{"lit-html":"KMqM"}],"Uk2d":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=n(require("./util")),t=a(require("loglevel"));function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(r=function(e){return e?a:t})(e)}function a(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=r(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=o?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(n,i,u):n[i]=e[i]}return n.default=e,a&&a.set(e,n),n}function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function u(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),e}var s=function(){function r(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,r);this.settings=e.default.extend({},t||{}),this.data=a}return u(r,[{key:"evaluateConditions",value:function(e,r,a){var n=1===r?"OR":"AND",o=t.getLevel();o<=t.levels.TRACE&&t.debug("====> evaluating conditions for: "+a+" in mode "+n,e);var i=!1;if(e.length)for(var u=0;u<e.length;u++){var s=e[u];if(i=this.evaluateCondition(s,this.data),o<=t.levels.TRACE&&t.debug("evaluated condition: ",s,i),1===r){if(i)break}else if(!i)break}else i=!0;return t.debug("======> evaluated conditions for: "+a+" in mode "+n,i),!!i}},{key:"evaluateCondition",value:function(e,t){return"options"===e.data?this.evaluateOptionCondition(e,t.options):"product"===e.data?this.evaluateProductCondition(e,t.product):"variant"===e.data&&this.evaluateVariantCondition(e,t.variant)}},{key:"evaluateOptionCondition",value:function(e,t){for(var r=0;r<t.length;r++){var a=t[r];if(a.name===e.field){if(e.value&&-1!==e.value.indexOf(","))for(var n=e.value.split(","),o=0;o<n.length;o++){var i=n[o];if(this.evaluateOperation(e.operator,i,a.value))return!0}return this.evaluateOperation(e.operator,e.value,a.value)}if(a.options&&a.options.length>0&&this.evaluateOptionCondition(e,a.options))return!0}return!1}},{key:"evaluateVariantCondition",value:function(e,t){if(t)switch(e.field){case"variant":if(e.variants)for(var r=0;r<e.variants.length;r++)if(e.variants[r]&&e.variants[r].id.toString()===t.id.toString())return!0;break;case"variant_title":if(this.evaluateOperation(e.operator,e.value,t.title))return!0}return!1}},{key:"evaluateProductCondition",value:function(e,t){switch(e.field){case"product":for(var r=0;r<e.products.length;r++)if(e.products[r]&&e.products[r].id.toString()===t.id.toString())return!0;break;case"product_handle":if(this.evaluateOperation(e.operator,e.value,t.handle))return!0;break;case"product_title":if(this.evaluateOperation(e.operator,e.value,t.title))return!0;break;case"product_type":if(t.type&&this.evaluateOperation(e.operator,e.value,t.type))return!0;if(t.product_type&&this.evaluateOperation(e.operator,e.value,t.product_type))return!0;break;case"product_vendor":if(this.evaluateOperation(e.operator,e.value,t.vendor))return!0;break;case"product_tags":var a;a=Array.isArray(t.tags)?t.tags:t.tags.indexOf(", ")>=0?t.tags.split(", "):[t.tags];for(var n=0;n<e.tags.length;n++)for(var o=0;o<a.length;o++)if(e.tags[n].toString().toLowerCase().trim()===a[o].toString().toLowerCase().trim())return!0}return!1}},{key:"evaluateOperation",value:function(e,t,r){if(void 0!==r){switch(e){case"equals":return r.toString().toLowerCase().trim()===t.toString().toLowerCase().trim();case"!equals":return r.toString().toLowerCase().trim()!==t.toString().toLowerCase().trim();case"contains":return r.toString().toLowerCase().trim().indexOf(t.toString().toLowerCase().trim())>-1;case"!contains":return-1===r.toString().toLowerCase().trim().indexOf(t.toString().toLowerCase().trim());case"empty":return!r;case"!empty":return!!r;case"=":return parseFloat(r)===parseFloat(t);case"!=":return parseFloat(r)!==parseFloat(t);case">":return parseFloat(r)>parseFloat(t);case">=":return parseFloat(r)>=parseFloat(t);case"<":return parseFloat(r)<parseFloat(t);case"<=":return parseFloat(r)<=parseFloat(t)}return!1}}}]),r}();s.MODE={OR:1,AND:2};var l=s;exports.default=l;
},{"./util":"zY0S","loglevel":"ohSP"}],"fCYj":[function(require,module,exports) {
"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function r(e,r,a){return r&&t(e.prototype,r),a&&t(e,a),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var a=function(){function t(){e(this,t)}return r(t,null,[{key:"getProductOption",value:function(e,t){for(var r=0;r<t.length;r++){var a=t[r];if(a.name===e)return a;if(a.options&&a.options.length>0){var n=this.getProductOption(e,a.options);if(null!=n)return n}}return null}},{key:"hasEditLayer",value:function(e,r){return e&&r&&r!==t.editLayer}},{key:"isEditLayer",value:function(e,t,r){return!!t&&(!r||!(e.name!==r&&!e.name.startsWith(r+"_")))}},{key:"isCropLayer",value:function(e,t,r){return!(!t||e.name!==r)}},{key:"hasRefRect",value:function(e){return e.params.refRect&&(e.params.autoScale||e.params.autoPos)}},{key:"getRefDimensions",value:function(e,r){return t.hasRefRect(e)?{width:e.params.refWidth||r.config.width-100,height:e.params.refHeight||r.config.height-100}:{width:r.config.width,height:r.config.height}}},{key:"getRefCoordinates",value:function(e,r){return t.hasRefRect(e)?{x:void 0!==e.params.refX?e.params.refX:50,y:void 0!==e.params.refY?e.params.refY:50}:e.params.autoPos?{x:0,y:0}:{x:0|e.params.x,y:0|e.params.y}}}]),t}();a.editLayer="_";var n=a;exports.default=n;
},{}],"wIMs":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=i(require("loglevel")),t=a(require("./render-util"));function a(e){return e&&e.__esModule?e:{default:e}}function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(o=function(e){return e?a:t})(e)}function i(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=o(t);if(a&&a.has(e))return a.get(e);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var r=n?Object.getOwnPropertyDescriptor(e,l):null;r&&(r.get||r.set)?Object.defineProperty(i,l,r):i[l]=e[l]}return i.default=e,a&&a.set(e,i),i}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var a=0;a<t.length;a++){var o=t[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function r(e,t,a){return t&&l(e.prototype,t),a&&l(e,a),e}var c=function(){function a(){n(this,a)}return r(a,[{key:"render",value:function(e,t,a){}},{key:"_getOptions",value:function(e,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.params,i={visible:!0,selectable:!1,evented:!1,lockUniScaling:!0,lockRotation:!0,lockScalingX:!0,lockScalingY:!0,lockMovementX:!0,lockMovementY:!0,hasControls:!1,lockScalingFlip:!0};if(i.visible=!0,i.centeredRotation=!0,o.autoRotate?i.angle=0:void 0!==o.angle&&(i.angle=o.angle%360),o.autoPos&&!e._interactive?(i.left=0,i.top=0):(void 0!==o.x&&(i.left=o.x),void 0!==o.y&&(i.top=o.y)),o.autoScale&&!e._interactiveScaled?(i.scaleX=1,i.scaleY=1):(void 0!==o.scaleX&&(i.scaleX=o.scaleX),void 0!==o.scaleY&&(i.scaleY=o.scaleY)),void 0!==o.width&&(i.width=o.width),void 0!==o.height&&(i.height=o.height),t.default.isEditLayer(e,a.editorMode,a.editLayer)&&!a.cropMode){if(!t.default.hasRefRect(e)){i.lockMovementX=!0===e.params.autoPos,i.lockMovementY=!0===e.params.autoPos,i.lockScalingX=!0===e.params.autoScale,i.lockScalingY=!0===e.params.autoScale;var n=!e.params.autoPos||!e.params.autoScale;i.hasControls=n,i.selectable=n,i.evented=n,i.lockRotation=!1}}else if(t.default.isCropLayer(e,a.cropMode,a.cropLayer)){i.lockMovementX=!1,i.lockMovementY=!1,o.interactive=!1;i.lockScalingX=!0,i.lockScalingY=!0,i.hasControls=!1,i.selectable=!0,i.evented=!0,i.borderColor="rgb(178,204,255)",i.borderScaleFactor=1}else if(e.params.interactive&&!a.cropMode&&(!a.editorMode||!t.default.hasEditLayer(a.editorMode,a.editLayer))){i.lockMovementX=!1,i.lockMovementY=!1;var l="upload"===e.type&&!o.autoScaleOverlay;i.lockScalingX=!l,i.lockScalingY=!l,i.hasControls=l,i.selectable=!0,i.evented=!0,i.borderColor=e.params.interactiveColor||"rgb(178,204,255)"}if(t.default.hasRefRect(e)&&"text"!==e.type&&"textbox"!==e.type&&isNaN(a.canvasRotate)){var r=this._getRefRect(e,a);r.set("absolutePositioned",!0),i.clipPath=r}return i._layer=e,i}},{key:"_isEditorMode",value:function(e,t){return!!t.editorMode&&(!t.editLayer||!(e.name!==t.editLayer&&!e.name.startsWith(t.editLayer+"_")))}},{key:"_printObject",value:function(t){e.debug("width/height =",t.width,t.height),e.debug("scaled width/height =",t.getScaledWidth(),t.getScaledHeight()),e.debug("left/top = ",t.left,t.top),e.debug("boundingRect = ",t.getBoundingRect()),e.debug("boundingRectAbsolute = ",t.getBoundingRect(!0)),e.debug("boundingRectCalc = ",t.getBoundingRect(!1,!0)),e.debug("boundingRectAbsoluteCalc = ",t.getBoundingRect(!0,!0))}},{key:"_applyAutoParams",value:function(e,a,o){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:a.params,n=t.default.getRefCoordinates(a,o),l=t.default.getRefDimensions(a,o),r=this._getDimensions(e),c=e.width,d=e.height;if(i.autoScale&&!a._interactiveScaled){var s=i.autoScaleRatio,u=i.autoScaleMax,f=i.autoScaleOverlay||!1;"text"===a.type&&(s=!0);var g=1,h=l.width/c,v=l.height/d;(u||r.height>l.height||r.width>l.width)&&(s?(f?(g=Math.max(h,v),i.interactive&&(h>v?e.lockMovementX=!0:e.lockMovementY=!0)):g=Math.min(h,v),e.scaleX=g,e.scaleY=g):(e.scaleY=v,e.scaleX=h),e.setCoords(),r=this._getDimensions(e)),1!==g&&a.type}if(i.autoPos&&!a._interactive)if(i.autoCenter)this._center(e,r,n,l);else{if(i.autoCenterH)this._centerHorizontal(e,r,n,l);else if(e.left=n.x,"text"===a.type&&!i.textBox)if("center"===i.textAlign)this._centerHorizontal(e,r,n,l);else if("right"===i.textAlign){var p=n.x+l.width-r.width;e.left=parseFloat(p.toFixed(2))}i.autoCenterV?this._centerVertical(e,r,n,l):e.top=n.y}}},{key:"_getDimensions",value:function(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?{height:e.getScaledWidth(),width:e.getScaledHeight()}:{width:e.getScaledWidth(),height:e.getScaledHeight()}}},{key:"_center",value:function(e,t,a,o){this._centerHorizontal(e,t,a,o),this._centerVertical(e,t,a,o)}},{key:"_centerHorizontal",value:function(e,t,a,o){var i=a.x+o.width/2-t.width/2;e.left=parseFloat(i.toFixed(2))}},{key:"_centerVertical",value:function(e,t,a,o){var i=a.y+o.height/2-t.height/2;e.top=parseFloat(i.toFixed(2))}},{key:"_addRefRect",value:function(e,a,o,i){if(t.default.isEditLayer(a,o.editorMode,o.editLayer)&&!o.cropMode)if(t.default.hasRefRect(a)){var n=this._getRefRect(a,o);i.add(n),i.uniformScaling=!1}else i.uniformScaling=!0}},{key:"_getRefRect",value:function(e,t){var a=e._objectRef||new fabric.Rect,o={visible:!0,lockUniScaling:!1,lockRotation:!0,lockMovementX:!1,lockMovementY:!1,lockScalingX:!1,lockScalingY:!1,hasControls:!0,lockScalingFlip:!0,selectable:!0,evented:!0};return o.left=void 0!==e.params.refX?e.params.refX:50,o.top=void 0!==e.params.refY?e.params.refY:50,o.width=e.params.refWidth||t.config.width-100,o.height=e.params.refHeight||t.config.height-100,o.scaleX=1,o.scaleY=1,o.fill="#139cf6",o.opacity=.5,o._layerRef=e,a.setOptions(o),e._objectRef=a,a}}]),a}(),d=c;exports.default=d;
},{"loglevel":"ohSP","./render-util":"fCYj"}],"j77H":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var o=function(o){var r=o.Image.filters,e=o.util.createClass;r.SwapColor=e(r.BaseFilter,{type:"SwapColor",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec4 colorSource;\nuniform vec4 colorDestination;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec3 delta = abs(colorSource.rgb - color.rgb);\ngl_FragColor = length(delta) < 0.02 ? colorDestination.rgba : color;\n}",colorSource:"rgb(255, 0, 0)",colorDestination:"rgb(0, 255, 0)",applyTo2d:function(r){var e,t=r.imageData.data,n=t.length,i=new o.Color(this.colorSource).getSource(),c=new o.Color(this.colorDestination).getSource();for(e=0;e<n;e+=4)t[e]===i[0]&&t[e+1]===i[1]&&t[e+2]===i[2]&&(t[e]=c[0],t[e+1]=c[1],t[e+2]=c[2])},getUniformLocations:function(o,r){return{uColorSource:o.getUniformLocation(r,"colorSource"),uColorDestination:o.getUniformLocation(r,"colorDestination")}},sendUniformData:function(r,e){var t=new o.Color(this.colorSource).getSource(),n=new o.Color(this.colorDestination).getSource();t[0]/=255,t[1]/=255,t[2]/=255,n[0]/=255,n[1]/=255,n[2]/=255,r.uniform4fv(e.uColorSource,t),r.uniform4fv(e.uColorDestination,n)},isNeutralState:function(){return this.colorSource===this.colorDestination},toObject:function(){return o.util.object.extend(this.callSuper("toObject"),{colorSource:this.colorSource,colorDestination:this.colorDestination})}}),o.Image.filters.SwapColor.fromObject=o.Image.filters.BaseFilter.fromObject},r=o;exports.default=r;
},{}],"Li6q":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=i(require("./layer-renderer")),t=l(require("loglevel")),r=i(require("./render-util")),o=i(require("./swap-color-filter"));function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(n=function(e){return e?r:t})(e)}function l(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=n(t);if(r&&r.has(e))return r.get(e);var o={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var c=l?Object.getOwnPropertyDescriptor(e,i):null;c&&(c.get||c.set)?Object.defineProperty(o,i,c):o[i]=e[i]}return o.default=e,r&&r.set(e,o),o}function i(e){return e&&e.__esModule?e:{default:e}}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach(function(t){f(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function y(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),e}function b(e,t,r){return(b="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var o=v(e,t);if(o){var n=Object.getOwnPropertyDescriptor(o,t);return n.get?n.get.call(r):n.value}})(e,t,r||e)}function v(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_(e)););return e}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){var t=j();return function(){var r,o=_(e);if(t){var n=_(this).constructor;r=Reflect.construct(o,arguments,n)}else r=o.apply(this,arguments);return h(this,r)}}function h(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?m(e):t}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var w=function(n){d(i,e.default);var l=g(i);function i(){return p(this,i),l.apply(this,arguments)}return y(i,[{key:"render",value:function(e,t,o){var n=this;e._object&&e._object.clipPath&&delete e._object.clipPath;var l=a({},e.params);if(e.params.optionColor){var i=r.default.getProductOption(e.params.optionColor,t.options);if(i&&i.value)if("color"===i.type)l.color=i.value;else if(i.values&&i.values.length){var c=i.values.filter(function(e){return e.value===i.value});c.length&&(l.color=c[0].color)}}return e.params.crop&&"upload"===e.type&&(l.autoScaleOverlay=!0),this._getImage(e,t,o,l).then(function(i){if(n._addRefRect(i,e,t,o),null==i)return i;var c=n._getOptions(e,t,l);return i.set(c),c.hasControls&&!r.default.isEditLayer(e,t.editorMode,t.editLayer)&&i.setControlsVisibility({mt:!1,mb:!1,ml:!1,mr:!1,bl:!0,br:!0,tl:!0,tr:!0,mtr:!1}),n._applyAutoParams(i,e,t,l),o.add(i),e._object=i,e._object})}},{key:"_getOptions",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.params,o=b(_(i.prototype),"_getOptions",this).call(this,e,t,r);return r.opacity&&(o.opacity=r.opacity),o}},{key:"_getImage",value:function(e,r,o){var n=this,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.params;return e._object?(l.color&&l.color!==e._color&&(this._colorize(e._object,l.color),e._color=l.color),Promise.resolve(e._object)):new Promise(function(r,o){l.url&&-1!==l.url.indexOf(".svg")?fabric.loadSVGFromURL(l.url,function(o,i){void 0===o&&(t.warn("layer url not found: ",l.url),r(null));var c=fabric.util.groupSVGElements(o,i);l.color&&(n._colorize(c,l.color),e._color=l.color),r(c)},null,{crossOrigin:"anonymous"}):fabric.Image.fromURL(l.url,function(o){if(void 0===o)return t.warn("layer url not found: ",l.url),void r(null);l.color&&"overlay"===e.type&&(n._colorize(o,l.color),e._color=l.color),r(o)},{crossOrigin:"anonymous"})})}},{key:"_colorize",value:function(e,t){if("group"===e.type)for(var r=e.getObjects(),n=0;n<r.length;n++){r[n].set("fill",t)}else if("path"===e.type)e.set("fill",t);else if("image"===e.type&&e.width&&e.height){var l;e.filters&&e.filters.length?l=e.filters[0]:(void 0===fabric.Image.filters.SwapColor&&(0,o.default)(fabric),(l=new fabric.Image.filters.SwapColor).colorSource="#fff",e.filters=[l]),l.colorDestination=t,e.applyFilters()}}}]),i}(),P=w;exports.default=P;
},{"./layer-renderer":"wIMs","loglevel":"ohSP","./render-util":"fCYj","./swap-color-filter":"j77H"}],"qA57":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=i(require("./layer-renderer")),e=a(require("loglevel")),r=i(require("../util")),o=i(require("./render-util"));function n(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return(n=function(t){return t?r:e})(t)}function a(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var r=n(e);if(r&&r.has(t))return r.get(t);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if("default"!==i&&Object.prototype.hasOwnProperty.call(t,i)){var l=a?Object.getOwnPropertyDescriptor(t,i):null;l&&(l.get||l.set)?Object.defineProperty(o,i,l):o[i]=t[i]}return o.default=t,r&&r.set(t,o),o}function i(t){return t&&t.__esModule?t:{default:t}}function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,o)}return r}function f(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?u(Object(r),!0).forEach(function(e){c(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function c(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function d(t,e,r){return e&&s(t.prototype,e),r&&s(t,r),t}function y(t,e,r){return(y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var o=h(t,e);if(o){var n=Object.getOwnPropertyDescriptor(o,e);return n.get?n.get.call(r):n.value}})(t,e,r||t)}function h(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=w(t)););return t}function b(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&v(t,e)}function v(t,e){return(v=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function g(t){var e=m();return function(){var r,o=w(t);if(e){var n=w(this).constructor;r=Reflect.construct(o,arguments,n)}else r=o.apply(this,arguments);return O(this,r)}}function O(t,e){return!e||"object"!==l(e)&&"function"!=typeof e?_(t):e}function _(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function w(t){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var x=function(n){b(i,t.default);var a=g(i);function i(){return p(this,i),a.apply(this,arguments)}return d(i,[{key:"render",value:function(t,e,n){var a;a=t.params.textBox?t._object&&"textbox"===t._object.type?t._object:new fabric.Textbox(""):t._object&&"text"===t._object.type?t._object:new fabric.Text("");var i=t.params.text||"",l=f({},t.params);if(t.params.option){var u=o.default.getProductOption(t.params.option,e.options);if(u){u.value&&(i=u.value),u._layer=t;var c=!1;t.params.textEditor?(t._editor?l=r.default.extend(t.params,u._editor):t._editor=r.default.extend({},t.params),u._editor&&u._editor===t._editor||(u._editor=t._editor,l=r.default.extend(t.params,u._editor),c=!0)):u._editor&&(delete u._editor,c=!0),c&&e.productForm&&e.productForm.dispatchEvent(new CustomEvent("options:render",{detail:u,cancelable:!0,bubbles:!0}))}}if(t.params.optionFont){var p=o.default.getProductOption(t.params.optionFont,e.options);p&&p.value&&(l.fontFamily=p.value)}if(t.params.optionColor){var s=o.default.getProductOption(t.params.optionColor,e.options);if(s&&s.value)if("color"===s.type)l.color=s.value;else if(s.values&&s.values.length){var d=s.values.filter(function(t){return t.value===s.value});d.length&&(l.color=d[0].color)}}if(t.params.textShadow&&t.params.optionTextShadowColor){var y=o.default.getProductOption(t.params.optionTextShadowColor,e.options);if(y&&y.value)if("color"===y.type)l.textShadowColor=y.value;else if(y.values&&y.values.length){var h=y.values.filter(function(t){return t.value===y.value});h.length&&(l.textShadowColor=h[0].color)}}if(l.textVertical){for(var b=[],v=0;v<i.length;v++)b.push(i.charAt(v));i=b.join("\n")}var g=this._getOptions(t,e,l);return g.text=i.replace(/\\n/g,"\n"),a.set(g),this._applyAutoParams(a,t,e,l),this._addRefRect(a,t,e,n),n.add(a),t._object=a,l.textPattern&&l.urlPattern?this._applyTextPattern(a,t,l):Promise.resolve(t._object)}},{key:"_getOptions",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.params,n=y(w(i.prototype),"_getOptions",this).call(this,t,e,r);return n.fill=r.color||"#000000",n.fontSize=r.fontSize||10,n.fontFamily=r.fontFamily||"Arial",n.fontStyle=r.fontStyle?r.fontStyle:"normal",n.fontWeight=r.fontWeight?r.fontWeight:"normal",n.textAlign=r.textAlign?r.textAlign:"left",n.lineHeight=r.lineHeight?r.lineHeight:1.16,r.fontSizeFactor&&(n.fontSize*=r.fontSizeFactor),n.charSpacing=r.letterSpacing?100*r.letterSpacing:0,n.shadow=r.textShadow?new fabric.Shadow({color:r.textShadowColor?r.textShadowColor:"#000000",blur:r.textShadowBlur?r.textShadowBlur:1,offsetX:r.textShadowOffsetX?r.textShadowOffsetX:.5,offsetY:r.textShadowOffsetY?r.textShadowOffsetY:.5}):void 0,t.params.textBox&&(o.default.hasRefRect(t)&&(r.refWidth||r.refHeight)?(n.width=r.refWidth,n.height=r.refHeight):(n.width=e.config.width,n.height=e.config.height)),n}},{key:"_applyTextPattern",value:function(t,r,o){return r._pattern&&r._pattern._url===o.urlPattern?(t.set("fill",r._pattern),Promise.resolve(r._object)):new Promise(function(n,a){fabric.Image.fromURL(o.urlPattern,function(a){if(void 0===a)return e.warn("text layer urlPattern not found: ",o.url),void n(null);r._pattern=new fabric.Pattern({source:a._element,repeat:"repeat"}),r._pattern._url=o.urlPattern,t.set("fill",r._pattern),n(r._object)},{crossOrigin:"anonymous"})})}}]),i}(),P=x;exports.default=P;
},{"./layer-renderer":"wIMs","loglevel":"ohSP","../util":"zY0S","./render-util":"fCYj"}],"YKbV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=a(require("./layer-renderer")),t=n(require("loglevel"));function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}function n(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var c=i?Object.getOwnPropertyDescriptor(e,o):null;c&&(c.get||c.set)?Object.defineProperty(a,o,c):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}function a(e){return e&&e.__esModule?e:{default:e}}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t,r){return t&&c(e.prototype,t),r&&c(e,r),e}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=y();return function(){var r,n=d(e);if(t){var a=d(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return p(this,r)}}function p(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=function(r){u(a,e.default);var n=f(a);function a(){return o(this,a),n.apply(this,arguments)}return s(a,[{key:"render",value:function(e,t,r){var n=this;if(e.params.maskLayers&&e.params.maskLayers.length>0){r.clipPath&&delete r.clipPath;var a=[];return r.forEachObject(function(i){i._layer&&-1!==e.params.maskLayers.indexOf(i._layer.name)&&a.push(n._getClipPath(e,t,r,i).then(function(e){e?i.clipPath=e:delete i.clipPath}))}),Promise.all(a)}return this._getClipPath(e,t,r).then(function(n){return n?(t.mask=!0,r.clipPath=n,e._object=n):(delete r.clipPath,delete e._object),n})}},{key:"_getClipPath",value:function(e,r,n,a){var i=this._getOptions(e,r),o=null;if(e.params.shape)switch(e.params.shape){case"circle":if(e._object&&"circle"!==e._object.type&&delete e._object,o=e._object||new fabric.Circle,e.params.radius)i.radius=e.params.radius;else if(!e.params.maskLayers||0===e.params.maskLayers.length){var c=r.config.width;i.radius=c/2}a&&(e.params.radius||(i.radius=a.width/2),i.left=-i.radius,i.top=-i.radius),o.setOptions(i);break;case"triangle":e._object&&"triangle"!==e._object.type&&delete e._object,o=e._object||new fabric.Triangle,e.params.maskLayers&&0!==e.params.maskLayers.length||(i.width=r.config.width,i.height=r.config.height),a&&(i.width=a.width,i.height=a.height,i.left=-i.width/2,i.top=-i.height/2),o.setOptions(i);break;case"svg":if(e.params.url){return(a&&a.clipPath&&a.clipPath._url===e.params.url?Promise.resolve(a.clipPath):n.clipPath&&n.clipPath._url===e.params.url?Promise.resolve(n.clipPath):new Promise(function(r,n){fabric.loadSVGFromURL(e.params.url,function(n,a){if(n){var i=fabric.util.groupSVGElements(n,a);r(i)}else t.warn("svg mask not found",e.params.url),r(null)})})).then(function(t){if(t){i._url=e.params.url,i.width=t.width,i.height=t.height;var n=e.params.padding||3;if(e.params.maskLayers&&0!==e.params.maskLayers.length?a&&(i.scaleX=(a.width-n)/t.width,i.scaleY=(a.height-n)/t.height):(i.scaleX=(r.config.width-n)/t.width,i.scaleY=(r.config.height-n)/t.height),e.params.ratio||!0){var o=Math.min(i.scaleX,i.scaleY);i.scaleX=o,i.scaleY=o}a&&(i.left=-t.width*i.scaleX/2,i.top=-t.height*i.scaleY/2),t.setOptions(i)}return t})}t.warn("svg mask missing url",e)}return Promise.resolve(o)}}]),a}(),b=m;exports.default=b;
},{"./layer-renderer":"wIMs","loglevel":"ohSP"}],"CzOF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=o(require("./overlay-renderer")),t=n(require("loglevel"));function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}function n(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var o={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=u?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(o,i,a):o[i]=e[i]}return o.default=e,n&&n.set(e,o),o}function o(e){return e&&e.__esModule?e:{default:e}}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),e}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=d();return function(){var r,n=v(e);if(t){var o=v(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return p(this,r)}}function p(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?y(e):t}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var b=function(r){c(o,e.default);var n=s(o);function o(){return i(this,o),n.apply(this,arguments)}return f(o,[{key:"_findProductUrl",value:function(e,t){var r=t.product;if(e.params.imgPos){var n=parseInt(e.params.imgPos);if(!isNaN(n)&&r.images.length>n-1)return r.images[n-1]}if(e.params.variant&&t.variantId)for(var o=0;o<t.product.variants.length;o++){var u=t.product.variants[o];if(u.id.toString()===t.variantId.toString()){if(u.featured_image&&u.featured_image.src)return u.featured_image.src;break}}return r.featured_image}},{key:"_getImage",value:function(e,r,n){arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.params;if(r.product){var o=this._findProductUrl(e,r);if(o)return e._object&&e._url===o?Promise.resolve(e._object):new Promise(function(r,n){fabric.Image.fromURL(o,function(n){void 0===n&&(t.warn("product url not found: ",o),r(null)),e._url=o,r(n)},{crossOrigin:"anonymous"})})}else t.warn("missing product in render context");return Promise.resolve(null)}}]),o}(),m=b;exports.default=m;
},{"./overlay-renderer":"Li6q","loglevel":"ohSP"}],"km6Y":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=a(require("./overlay-renderer")),t=o(require("loglevel")),r=a(require("./render-util"));function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(n=function(e){return e?r:t})(e)}function o(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=n(t);if(r&&r.has(e))return r.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=a?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(o,i,u):o[i]=e[i]}return o.default=e,r&&r.set(e,o),o}function a(e){return e&&e.__esModule?e:{default:e}}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e){return c(e)||s(e)||l(e)||f()}function f(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){if(e){if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}function s(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function c(e){if(Array.isArray(e))return p(e)}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function v(e,t,r){return t&&m(e.prototype,t),r&&m(e,r),e}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=w();return function(){var r,n=O(e);if(t){var o=O(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return _(this,r)}}function _(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?g(e):t}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var j=function(n){h(a,e.default);var o=d(a);function a(){return y(this,a),o.apply(this,arguments)}return v(a,[{key:"_getImage",value:function(e,n,o){var a=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.params;if(i.option){var u=r.default.getProductOption(i.option,n.options);if(u){if(u._layer=e,u.value){var f=u.value;if(u.params.multiple||-1!==f.indexOf(",")){var l=f.split(","),s=i.fileIndex||l.length;if(s-=1,!(l.length>s))return Promise.resolve(null);f=l[s]}return!e._object||e._url!==f||!isNaN(e.params.rotate)&&e._rotate!==e.params.rotate||e.params.filters&&e._filters&&e._filters.length!==e.params.filters.length?new Promise(function(o,u){e._interactive&&(delete e._interactive,delete e._interactiveScaled),fabric.Image.fromURL(f,function(u){if(void 0===u&&(t.warn("upload url not found: ",f),o(null)),e._url=f,e._rotate=0,e.params.autoRotate){var l=r.default.getRefDimensions(e,n),s=u;s.width<s.height&&l.width>l.height?e._rotate=90:s.width>s.height&&l.width<l.height&&(e._rotate=-90)}if(e.params.rotate&&(e._rotate=e.params.rotate),0!==e._rotate){u.rotate(e._rotate),i.canvasRotate&&(n.canvasRotate=-1*e._rotate);var c={multiplier:1,format:-1!==e._url.indexOf(".png")?"png":"jpeg",quality:1},p=u.toDataURL(c);fabric.Image.fromURL(p,function(t){a._applyFilters(t,e),o(t)})}else a._applyFilters(u,e),o(u)},{crossOrigin:"anonymous"})}):(e.params.autoRotate&&0!==e._rotate&&i.canvasRotate&&(n.canvasRotate=-1*e._rotate),Promise.resolve(e._object))}}else t.warn("no upload option found for layer",e)}else t.warn("missing option for layer",e);return Promise.resolve(null)}},{key:"_applyFilters",value:function(e,t){if(t.params.filters){e.filters||(e.filters=[]);for(var r=0;r<t.params.filters.length;r++){var n=void 0;switch(t.params.filters[r]){case"invert":(n=new fabric.Image.filters.Invert)._sort=2;break;case"grayscale":(n=new fabric.Image.filters.Grayscale)._sort=6;break;case"sepia":(n=new fabric.Image.filters.Sepia)._sort=5;break;case"removeWhite":(n=new fabric.Image.filters.RemoveColor({threshold:.2}))._sort=1}n&&e.filters.push(n)}e.filters.length&&((e.width>fabric.textureSize||e.height>fabric.textureSize)&&(fabric.textureSize=Math.max(e.height,e.width)),e.filters.sort(function(e,t){return(e._sort||100)>(t._sort||100)?1:-1})),t._filters=u(t.params.filters),e.applyFilters()}}}]),a}(),P=j;exports.default=P;
},{"./overlay-renderer":"Li6q","loglevel":"ohSP","./render-util":"fCYj"}],"P0y1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=u(require("./overlay-renderer")),t=u(require("../resource-loader")),r=i(require("loglevel")),n=u(require("./render-util"));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(o=function(e){return e?r:t})(e)}function i(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=o(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var c=i?Object.getOwnPropertyDescriptor(e,u):null;c&&(c.get||c.set)?Object.defineProperty(n,u,c):n[u]=e[u]}return n.default=e,r&&r.set(e,n),n}function u(e){return e&&e.__esModule?e:{default:e}}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t,r){return t&&l(e.prototype,t),r&&l(e,r),e}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=b();return function(){var r,n=_(e);if(t){var o=_(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return y(this,r)}}function y(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?v(e):t}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=function(o){s(u,e.default);var i=d(u);function u(){return f(this,u),i.apply(this,arguments)}return a(u,[{key:"_getImage",value:function(e,o,i){var u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.params,c=u.text||"";if(u.option){var f=n.default.getProductOption(u.option,o.options);f&&f.value&&(c=f.value)}if(c){var l=r.getLevel();if(l<=r.levels.DEBUG&&console.time("====> QR RENDER"),e._object&&e._qrText===c)return l<=r.levels.DEBUG&&console.timeEnd("====> QR RENDER"),Promise.resolve(e._object);var a=[o.assets+"/static/lib/easyqrcodejs/easy.qrcode.min.js"];return t.default.loadOnce(a,"qrcode",{async:!1}).then(function(){return new Promise(function(t,n){var i=function(n,o){l<=r.levels.DEBUG&&console.timeEnd("====> QR RENDER"),fabric.Image.fromURL(o,function(n){if(void 0===n)return r.warn("qr image invalid"),void t(null);e._qrText=c,t(n)})};if(e._qrDiv||(e._qrDiv=document.createElement("div")),o.editorMode&&e._qrCode&&(e._qrCode.clear(),delete e._qrCode),e._qrCode)e._qrCode._htOption.onRenderingEnd=i,e._qrCode._oDrawing._htOption.onRenderingEnd=i,e._qrCode.makeCode(c);else{var f=Math.min(o.config.width/2,1e3),a={text:c,width:f,height:f,onRenderingEnd:i};u.url&&(a.logo=u.url,a.crossOrigin="anonymous"),e._qrCode=new QRCode(e._qrDiv,a)}})})}return Promise.resolve(null)}}]),u}(),h=m;exports.default=h;
},{"./overlay-renderer":"Li6q","../resource-loader":"U86w","loglevel":"ohSP","./render-util":"fCYj"}],"izQH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=a(require("./overlay-renderer")),r=a(require("./text-renderer")),n=a(require("./mask-renderer")),d=a(require("./product-renderer")),t=a(require("./upload-renderer")),u=a(require("./qrcode-renderer"));function a(e){return e&&e.__esModule?e:{default:e}}function o(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}var s=function e(){o(this,e)};s.renderers={},s.renderers.overlay=new e.default,s.renderers.text=new r.default,s.renderers.mask=new n.default,s.renderers.product=new d.default,s.renderers.upload=new t.default,s.renderers.qrcode=new u.default;var l=s;exports.default=l;
},{"./overlay-renderer":"Li6q","./text-renderer":"qA57","./mask-renderer":"YKbV","./product-renderer":"CzOF","./upload-renderer":"km6Y","./qrcode-renderer":"P0y1"}],"wweK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=f(require("./util")),t=f(require("./translate")),i=p(require("loglevel")),r=f(require("./shopify-store")),s=require("lit-html"),a=f(require("./font-loader")),n=f(require("blueimp-canvas-to-blob")),o=f(require("./template/product-preview.template")),l=f(require("./template/product-preview-crop.template")),h=f(require("./conditions-engine")),c=f(require("./renderer/render-util")),d=f(require("./renderer/renderer-registry")),v=f(require("./resource-loader")),u=require("./const");function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return(g=function(e){return e?i:t})(e)}function p(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var i=g(t);if(i&&i.has(e))return i.get(e);var r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var n=s?Object.getOwnPropertyDescriptor(e,a):null;n&&(n.get||n.set)?Object.defineProperty(r,a,n):r[a]=e[a]}return r.default=e,i&&i.set(e,r),r}function f(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t,i){return t&&_(e.prototype,t),i&&_(e,i),e}function w(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var b=function(){function t(s,a,n,o,l){var h=this;y(this,t),w(this,"_syncSticky",function(){var e={format:"png",multiplier:h.previewConfig.width/h._canvas.getWidth()};h._stickyImgEl.src=h._canvas.toDataURL(e),h._canvas.requestRenderAll()});var d={api:"https://api.cloudlift.app",assets:"https://assets.cloudlift.app",queryParams:{},selector:".cl-preview",selectorThumbnail:"",position:"",classNamePrefix:"cl-po",product:{},variantId:null,editorMode:!1,editLayer:c.default.editLayer,cropMode:!1,cropLayer:"",sticky:!1,stickyMobile:"overlay",stickyMode:!1};this.config=s,this.previewConfig=a,this.active=!0,this.settings=e.default.extend(d,l||{}),this.visible={},this.visibleEditor={},this.shopifyStore=r.default.getInstance(),this._productForm=n,this.conditionsEngine=o,null!==this.settings.selector&&(e.default.isElement(this.settings.selector)?this.element=this.settings.selector:this.element=document.querySelector(this.settings.selector)),null!=this.element?(i.info("--\x3e new product-preview: ",this.element),this.resources=[this.settings.assets+"/static/lib/fabricjs/fabric.min.js"],this.ready=v.default.loadOnce(this.resources,"product-preview",{async:!1}).then(function(){return h._init()})):i.warn("no elements with selector found: ",this.settings.selector)}return m(t,[{key:"destroy",value:function(){this.element.removeChild(this._wrapper)}},{key:"render",value:function(){(0,s.render)((0,o.default)(this.settings.product,{uuid:this.config.uuid}),this._wrapper)}},{key:"_renderContext",value:function(){return{config:this.previewConfig,options:this.config.options,product:this.settings.product,assets:this.settings.assets,productForm:this._productForm,variantId:this.settings.variantId,editorMode:this.settings.editorMode,editLayer:this.settings.editLayer,cropMode:this.settings.cropMode,cropLayer:this.settings.cropLayer,mask:!1}}},{key:"renderPreview",value:function(){var e=this;return null==this._renderQueue&&(this._renderQueue=Promise.resolve()),this._renderQueue=this._renderQueue.then(function(){return e._loadUsedFonts()}).then(function(){return function(){var t=i.getLevel();t<=i.levels.DEBUG&&console.time("====> RENDER PREVIEW "+e.previewConfig.position);var r=e._renderContext(),s=null;if(!e.static){var a=e._canvas.getActiveObject();e._canvas.discardActiveObject(),a&&(s=a._layer)}return e._rotateGroup&&e._rotateGroup.forEachObject(function(t){e._rotateGroup.remove(t)}),e._canvas.clear(),e._renderLayers(e.previewConfig.layers,r).then(function(){e._canvas.clipPath&&!r.mask&&delete e._canvas.clipPath,s?e.selectLayer(s.name,!1):c.default.hasEditLayer(e.settings.editorMode,e.settings.editLayer)&&e.selectLayer(e.settings.editLayer,!1),void 0!==r.canvasRotate&&(e._rotateGroup=new fabric.Group(e._canvas.getObjects()),e._rotateGroup.rotate(r.canvasRotate),e._rotateGroup.setCoords()),e._canvas.renderAll(),t<=i.levels.DEBUG&&console.timeEnd("====> RENDER PREVIEW "+e.previewConfig.position),e._responsiveCanvasHeight(),e._syncThemeGallery(),e._triggerEvent("preview:rendered",e)})}()}),this._renderQueue}},{key:"export",value:function(e,t,r,s){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"jpeg",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:.8;if(this._canvas){var l=i.getLevel();l<=i.levels.DEBUG&&console.time("====> EXPORT PREVIEW");var h=!1,c=0;if(this._canvas.forEachObject(function(e){e.visible&&e._layer&&(!0===e._layer.params[s]?(e.visible=!1,e._visible=!0,h=!0):"product"!==e._layer.type&&c++)}),0===c)return i.debug("==> no visible layers - skipping export"),h&&this._canvas.forEachObject(function(e){e._visible&&(e.visible=!0,delete e._visible)}),null;this._canvas.renderAll();var d={multiplier:e.width/this._canvas.getWidth(),format:a,quality:o};t&&(d.left=t.x/d.multiplier,d.top=t.y/d.multiplier,d.width=t.width/d.multiplier,d.height=t.height/d.multiplier);var v,u=this._canvas.toDataURL(d);return v=r?(0,n.default)(u):u,h&&(this._canvas.forEachObject(function(e){e._visible&&(e.visible=!0,delete e._visible)}),this._canvas.renderAll()),l<=i.levels.DEBUG&&console.timeEnd("====> EXPORT PREVIEW"),v}return null}},{key:"exportLayer",value:function(e,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"jpeg",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.8,a=this._canvas.getObjects(),o=0;o<a.length;o++){var l=a[o];if(l._layer&&l._layer.name===e){var h={multiplier:1,withoutTransform:!0,format:r,quality:s},c=l.clipPath;if(c){l.clipPath=null;var d=c.getBoundingRect(!0,!0);i.debug("crop rect",d);var v=l.getBoundingRect(!0,!0);i.debug("bounding rect",v);var u=l.width/l.getScaledWidth();h.left=Math.round((d.left-v.left)*u),h.top=Math.round((d.top-v.top)*u),h.width=Math.round(d.width*u),h.height=Math.round(d.height*u),h.left=Math.max(h.left,0),h.top=Math.max(h.top,0),h.width=Math.min(h.width,l.width-h.left),h.height=Math.min(h.height,l.height-h.top)}var g=l.toDataURL(h),p=void 0;return p=t?(0,n.default)(g):g,c&&(l.clipPath=c),p}}return null}},{key:"clear",value:function(){this._canvas&&this._canvas.clear()}},{key:"updateConfig",value:function(e){var t=!1;return this.previewConfig.width===e.width&&this.previewConfig.height===e.height||(t=!0),this.previewConfig=e,t&&this._setDimensions(),this.renderPreview()}},{key:"selectLayer",value:function(e){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.previewConfig.layers,r=0;r<i.length;r++){var s=i[r];if(s.layers&&s.layers.length>0&&this.selectLayer(e,t,s.layers))return!0;if(s.name===e&&s._object&&(c.default.isEditLayer(s,this.settings.editorMode,this.settings.editLayer)&&(this._canvas.preserveObjectStacking=!1,delete s._interactive),this._canvas.contains(s._object)))return this._canvas.setActiveObject(s._object),t&&this._canvas.renderAll(),!0}return!1}},{key:"deSelect",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._canvas.discardActiveObject(),this.settings.editorMode&&!this._canvas.preserveObjectStacking&&(this._canvas.preserveObjectStacking=!0),e&&this._canvas.renderAll()}},{key:"_init",value:function(){var e=this;this._wrapper=document.createElement("div"),this._wrapper.className=this.settings.classNamePrefix+"--preview-wrapper",this._wrapper.setAttribute("id",this.config.uuid+"_preview"),this._wrapper.style.width="100%",this.settings.position?(this.element.insertAdjacentElement(this.settings.position,this._wrapper),this.element!==this._wrapper.parentNode&&(this.element=this._wrapper.parentNode)):this.element.appendChild(this._wrapper),this.render(),this._preview=this._wrapper.querySelector("."+this.settings.classNamePrefix+"--preview"),this._preview.classList.add("cl-hide");var t=this._wrapper.querySelector("."+this.settings.classNamePrefix+"--canvas");this.static=this._isStatic(),fabric.devicePixelRatio<2&&(fabric.devicePixelRatio=2),window.clPreviewRatio&&(fabric.devicePixelRatio=parseInt(window.clPreviewRatio)),this.static?this._canvas=new fabric.StaticCanvas(t):(this._canvas=new fabric.Canvas(t,{selection:!1,preserveObjectStacking:!0}),this._subscribeCanvasEvents()),this._setDimensions(),this.renderPreview().then(function(){e._watchFormChanges(),e._watchWindowResize(),e._watchWindowScroll(),e._preview.classList.remove("cl-hide")}).catch(function(e){i.error("[live-options] failed render preview",e)})}},{key:"_setDimensions",value:function(){var t=this._canvas.getZoom();1!==t&&this._canvas.setZoom(1);var i=fabric.devicePixelRatio,r=this.previewConfig.width*this.previewConfig.height,s=window.clPreviewMaxRetina||9e6;i>1&&r>s&&e.default.isMobile(e.default.getAgent())&&(this._canvas.enableRetinaScaling=!1),this._canvas.setDimensions({width:this.previewConfig.width,height:this.previewConfig.height}),1!==t&&this._resizeCanvas()}},{key:"_renderLayers",value:function(e,t){for(var i=this,r=Promise.resolve(),s=function(s){var a=e[s];r=r.then(function(){return i._renderLayer(a,t)})},a=0;a<e.length;a++)s(a);return r}},{key:"_renderLayer",value:function(e,t){var r=!0;if(e.conditions&&e.conditions.length&&(r=this.conditionsEngine.evaluateConditions(e.conditions,h.default.MODE.AND,"layer.name="+e.name)),this.settings.editorMode&&this.visibleEditor.hasOwnProperty(e.name)&&(r=this.visibleEditor[e.name]),this.visible[e.name]=r,r){if(i.debug("rendering layer: ",e),e.layers&&e.layers.length>0)return this._renderLayers(e.layers,t);var s=d.default.renderers[e.type];if(s)return s.render(e,t,this._canvas)}return Promise.resolve()}},{key:"_loadUsedFonts",value:function(){for(var e=[],t=0;t<this.previewConfig.layers.length;t++){var i=this.previewConfig.layers[t];if("text"===i.type){if(i.params.fontFamily&&e.push(i.params.fontFamily),i.params.option&&i.params.textEditor){var r=c.default.getProductOption(i.params.option,this.config.options);r&&r._editor&&r._editor.fontFamily&&e.push(r._editor.fontFamily)}if(i.params.optionFont){var s=c.default.getProductOption(i.params.optionFont,this.config.options);s&&s.value&&e.push(s.value)}}}return e.length>0?a.default.loadFontsByName(e):Promise.resolve(!0)}},{key:"_isStatic",value:function(){if(this.settings.editorMode)return!1;for(var e=0;e<this.previewConfig.layers.length;e++){var t=this.previewConfig.layers[e];if(t.params.interactive||t.params.crop&&"upload"===t.type)return!1}return!0}},{key:"_watchFormChanges",value:function(){var e=this;this._productForm?(this._productForm.addEventListener("option:changed",function(t){return e._optionChanged(t)}),this._productForm.addEventListener("option:crop",function(t){return e._optionCrop(t)}),this._productForm.addEventListener("variant:changed",function(t){return e._variantChanged(t)})):i.warn("product-preview no productForm found for config: "+this.config.uuid)}},{key:"_subscribeCanvasEvents",value:function(){var t=this,r=i.getLevel();this._canvas.on("object:modified",function(s){var a=s.target;if(r<=i.levels.TRACE&&i.debug("object:modified",a),a._layer){var n=a._layer,o=n.params;o.x=Math.round(a.left),o.y=Math.round(a.top),r<=i.levels.TRACE&&i.debug("=> layer x,y = ",o.x,o.y),o.crop?(o.scaleX=a.scaleX,o.scaleY=a.scaleY):(o.scaleX=parseFloat(a.scaleX.toFixed(3)),o.scaleY=parseFloat(a.scaleY.toFixed(3))),0!==a.angle&&(o.angle=Math.round(a.angle)),n._editor&&(e.default.merge(n._editor,n.params,["x","y","scaleX","scaleY","angle"]),t._productForm&&t._productForm.dispatchEvent(new CustomEvent("options:render",{detail:null,cancelable:!0,bubbles:!0}))),t._triggerEvent("layer:changed",n)}else if(a._layerRef){var l=a._layerRef.params;l.refX=Math.round(a.left),l.refY=Math.round(a.top),l.refWidth=Math.round(a.getScaledWidth()),l.refHeight=Math.round(a.getScaledHeight()),i.debug("updated layer rectRef params",l),t._triggerEvent("layer:changed",a._layerRef),t.renderPreview()}}),this._canvas.on("object:moving",function(e){var s=e.target;if(r<=i.levels.TRACE&&i.debug("object:moving",s),s._layer){var a=s._layer,n=a.params,o=c.default.isCropLayer(a,t.settings.cropLayer,t.settings.cropLayer);if(o||n.interactive&&!c.default.isEditLayer(a,t.settings.editorMode,t.settings.editLayer)){a._interactive=!0;var l={x:0,y:0},h={x:t.previewConfig.width,y:t.previewConfig.height},d={width:t.previewConfig.width,height:t.previewConfig.height};c.default.hasRefRect(a)&&(l.x=n.refX,l.y=n.refY,h.x=n.refX+n.refWidth,h.y=n.refY+n.refHeight,d.width=n.refWidth,d.height=n.refHeight);var v=s.getBoundingRect(!0,!0);if(r<=i.levels.TRACE&&i.debug("boundingRect = ",v),n.interactiveBox||o)n.autoScaleOverlay||o?(l.x-=v.width-d.width,l.y-=v.height-d.height,h.x-=d.width,h.y-=d.height):(h.x-=v.width,h.y-=v.height);else{var u=50/t._canvas.getZoom();l.x-=v.width-u,l.y-=v.height-u,h.x-=u,h.y-=u}v.left<l.x?(s.left=l.x,r<=i.levels.TRACE&&i.debug("=> reset object.left  = ",s.left)):v.left>h.x&&(s.left=h.x,r<=i.levels.TRACE&&i.debug("=> reset object.left  = ",s.left)),v.top<l.y?(s.top=l.y,r<=i.levels.TRACE&&i.debug("=> reset object.top  = ",s.left)):v.top>h.y&&(s.top=h.y,r<=i.levels.TRACE&&i.debug("=> reset object.top  = ",s.left))}}});var s=function(e){var s=e.target;if(r<=i.levels.TRACE&&i.debug("object:scaling",s),s._layer){var a=s._layer,n=a.params;if(n.interactive&&!c.default.isEditLayer(a,t.settings.editorMode,t.settings.editLayer)&&(a._interactive=!0,a._interactiveScaled=!0,n.interactiveBox)){var o={x:0,y:0},l={x:t.previewConfig.width,y:t.previewConfig.height};c.default.hasRefRect(a)&&(o.x=n.refX,o.y=n.refY,l.x=n.refX+n.refWidth,l.y=n.refY+n.refHeight);var h=s.getBoundingRect(!0,!0);r<=i.levels.TRACE&&i.debug("boundingRect = ",h);var d=null;if(e.transform.corner&&("tr"==e.transform.corner?(o.x-=20,l.y+=20):"tl"==e.transform.corner?(l.x+=20,l.y+=20):"br"==e.transform.corner?(o.x-=20,o.y-=20):"bl"==e.transform.corner&&(l.x+=20,o.y-=20)),Math.floor(h.left)<o.x)d=(s.aCoords.tr.x-o.x)/s.width,s.left=o.x;else if(Math.floor(h.left+h.width)>l.x){var v=l.x-h.left;d=v/s.width,s.left=l.x-v}if(Math.floor(h.top)<o.y)d=(s.aCoords.br.y-o.y)/s.height,s.top=o.y;else if(Math.floor(h.top+h.height)>l.y){var u=l.y-h.top;d=u/s.height,s.top=l.y-u}null!=d&&(s.scaleX=d,s.scaleY=d,s.setCoords(),t._canvas.requestRenderAll(),r<=i.levels.TRACE&&i.debug("=> reset object.scale  = ",d))}}};this._canvas.on("object:scaling",s),this._canvas.on("object:scaled",s),this._canvas.on("selection:created",function(e){var s=e.selected?e.selected[0]:null;r<=i.levels.TRACE&&i.debug("selection:created",s),s._layer?t._triggerEvent("layer:selected",s._layer):s._layerRef&&t._triggerEvent("layer:selected",s._layerRef)}),this._canvas.on("selection:updated",function(e){var s=e.selected?e.selected[0]:null;r<=i.levels.TRACE&&i.debug("selection:updated",s),s._layer?t._triggerEvent("layer:selected",s._layer):s._layerRef&&t._triggerEvent("layer:selected",s._layerRef)}),this._canvas.on("selection:cleared",function(e){r<=i.levels.TRACE&&i.debug("selection:cleared")})}},{key:"_variantChanged",value:function(e){this.settings.variantId=e.detail.variantId,this._clearVisibleEditor(),this.renderPreview()}},{key:"_optionChanged",value:function(e){var t=this,i=e.detail;this._clearVisibleEditor(),this.renderPreview().then(function(){t.static||(i._layer&&"upload"===i._layer.type&&i.value&&i._layer.params.crop?t._optionCrop(e):i._layer&&i._layer.params.interactive&&t.selectLayer(i._layer.name,!1))})}},{key:"_optionCrop",value:function(t){var i,r=this,a=t.detail;if(this.active){for(var n=this._canvas.getObjects(),o=0;o<n.length;o++){var h=n[o];if(h._layer&&h._layer.params.option===a.name&&h._layer.params.crop){i=h._layer;break}}if(i){if(this.settings.cropMode){this.settings.cropMode=!1,this.settings.cropLayer="";var d=this._getContainerWidth()/this.previewConfig.width;this._canvas.setViewportTransform([d,0,0,d,0,0]),this._highlight(!1),this._wrapper.removeChild(this._cropEl),delete this._cropEl}else{this.settings.cropMode=!0,this.settings.cropLayer=i.name;var v=i.params,u={width:this.previewConfig.width,height:this.previewConfig.height},g={x:i._object.left,y:i._object.top,scaleX:i._object.scaleX,scaleY:i._object.scaleY,rotate:0|i.params.rotate};if(c.default.hasRefRect(i)){var p=this._renderContext(),f=c.default.getRefDimensions(i,p),y=c.default.getRefCoordinates(i,p),_=Math.min((this._canvas.getWidth()-100)/f.width,(this._canvas.getHeight()-100)/f.height);_=Math.min(_,2);var m=y.x+f.width/2,w=y.y+f.height/2,b=-m*_+this._canvas.getWidth()/2,E=-w*_+this._canvas.getHeight()/2;this._canvas.setViewportTransform([_,0,0,_,b,E]),u.width=v.refWidth,u.height=v.refHeight}if(this._cropEl=document.createElement("div"),!1!==window.clCropHelp){this._cropEl.classList.add("cl-po--crop-help"),"ontouchstart"in window||navigator.msMaxTouchPoints?this._cropEl.classList.add("touch"):this._cropEl.classList.add("cursor");var k=function e(){r._cropEl&&(r._cropEl.classList.remove("cl-po--crop-help"),r._canvas.off("object:moving",e),window.clCropHelp=!1)};this._canvas.on("object:moving",k),setTimeout(k,9e3)}(0,s.render)((0,l.default)(function(e){var t=i._object;i._interactiveScaled=!0;var s=Math.min(u.width,u.height)/10,a=s/t.width;if(e)t.scaleX+=a,t.scaleY+=a,t.left-=s/2,t.top-=s/2;else{if(t.scaleX-=a,t.scaleY-=a,Math.round(t.getScaledWidth())<u.width||Math.round(t.getScaledHeight())<u.height)return t.scaleX+=a,void(t.scaleY+=a);t.left+=s/2,t.top+=s/2}r._canvas.fire("object:moving",{target:i._object}),r._canvas.renderAll()},function(e){i.params.rotate=i.params.rotate|i._rotate|0,i.params.rotate+=e,i.params.rotate=i.params.rotate%360,r.renderPreview()},function(){e.default.merge(i.params,g),r._optionCrop({detail:a})},function(){i._interactive=!0,i._interactiveScaled=!0,r._canvas.fire("object:modified",{target:i._object}),r._optionCrop({detail:a})}),this._cropEl),this._wrapper.appendChild(this._cropEl),this._highlight(!0),this._wrapper.scrollIntoView&&(this._wrapper.style.scrollMargin="50px",this._wrapper.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"}),this._wrapper.style.scrollMargin="")}this._canvas.discardActiveObject(),this.renderPreview().then(function(){r.settings.cropMode&&r.selectLayer(r.settings.cropLayer)})}}}},{key:"_clearVisibleEditor",value:function(){this.settings.editorMode&&(this.visibleEditor={})}},{key:"_optionLayerUpdate",value:function(e){var t=this;if(e._layer&&e._layer._object){var i=this._canvas.getObjects().indexOf(e._layer._object);return this._canvas.remove(e._layer._object),this._renderLayer(e._layer).then(function(e){t._canvas.moveTo(e,i)})}}},{key:"_watchWindowResize",value:function(){var t=this,i=e.default.debounced(200,function(e){t._resizeCanvas(),t.settings.stickyMode&&t._stickyPreview(!0)});this._resizeCanvas(),window.addEventListener("resize",i)}},{key:"_watchWindowScroll",value:function(){var e=this;if(this.settings.sticky){var t=!1;window.addEventListener("scroll",function(){t||(window.requestAnimationFrame(function(){e._stickyPreview(),t=!1}),t=!0)}),window.addEventListener("preview:active",function(){return e._stickyPreview()})}}},{key:"_getContainerWidth",value:function(){for(var t=this._wrapper.offsetWidth,i=this._wrapper;0===t&&i.parentNode;)(i=i.parentNode).offsetWidth>0&&(t=e.default.findInnerDimensions(i).width);return t}},{key:"_responsiveCanvasHeight",value:function(){if(!this.settings.cropMode){var e=0;this._canvas.forEachObject(function(t){if(t.visible&&t._layer&&t._layer.params.responsive){var i=t.getBoundingRect(),r=i.top+i.height;r>e&&(e=r)}});var t=this.previewConfig.height*this._canvas.getZoom();e>0&&e<t?this._canvas.setHeight(e):this._canvas.setHeight(t)}}},{key:"_resizeCanvas",value:function(){var e=this._canvas.getWidth()/this._canvas.getHeight(),t=this._getContainerWidth(),i=t/this._canvas.getWidth(),r=this._canvas.getZoom()*i;1!==r&&(this._canvas.setDimensions({width:t,height:t/e}),this._canvas.setZoom(r)),this._highlightEl&&this._highlight(!0)}},{key:"_highlight",value:function(t){if(this._highlightEl&&(document.body.removeChild(this._highlightEl),delete this._highlightEl,document.body.classList.remove("cl-highlight")),t){this._highlightEl=document.createElement("div"),this._highlightEl.className="cl-po--preview-highlight";var i=e.default.getCalculatedPosition(this._wrapper),r=i.right-i.left+20,s=i.bottom-i.top+20;this._highlightEl.style.display="block",this._highlightEl.style.position="absolute",this._highlightEl.style.width="".concat(r,"px"),this._highlightEl.style.height="".concat(s,"px"),this._highlightEl.style.top="".concat(i.top-10,"px"),this._highlightEl.style.left="".concat(i.left-10,"px"),document.body.appendChild(this._highlightEl),document.body.classList.add("cl-highlight")}}},{key:"_stickyPreview",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=this._canvas.lowerCanvasEl,s=r.getBoundingClientRect(),a=this._stickyMaxTop||0;if(s.top>a||!this.active||this.settings.cropMode)this.settings.stickyMode&&(i.debug("----\x3e sticky end",r),this.element.removeEventListener("layer:changed",this._syncSticky),this.element.removeEventListener("preview:rendered",this._syncSticky),document.body.removeChild(this._stickyEl),delete this._stickyEl,delete this._stickyImgEl,delete this._stickyTarget,delete this._stickyMaxTop,this.settings.stickyMode=!1);else{var n,o,l=!1,h=window.clStickyMobileSize||25;this._stickyTarget=this._stickyTarget||document.querySelector("#"+this.config.uuid);var c=this._stickyTarget.getBoundingClientRect();if(c.top>s.bottom&&(l=!0,n=window.innerHeight/100*h,o="overlay"===this.settings.stickyMobile?n:0),this.settings.stickyMode){var d=this._stickyEl.getBoundingClientRect();if(c.bottom>0){var v=d.height-c.bottom;this._stickyEl.style.top=v>0?-1*v+"px":"0px"}else this._stickyEl.style.top=-1*(d.height+5)+"px";t&&(l?(this._stickyEl.classList.add("mobile"),this._stickyEl.classList.add(this.settings.stickyMobile),this._stickyEl.style.removeProperty("left"),this._stickyEl.style.removeProperty("width"),this._stickyImgEl.style.height=n+"px",this._stickyMaxTop=-1*(s.height-o)):(this._stickyEl.classList.remove("mobile"),this._stickyImgEl.style.removeProperty("height"),this._stickyEl.style.left=s.left+"px",this._stickyEl.style.width=s.width+"px"))}else if(i.trace("---\x3e sticky check"+c.bottom+" > "+s.bottom),c.bottom>s.bottom){if(l){if(s.bottom>o)return;this._stickyMaxTop=-1*(s.height-o)}this._stickyEl=document.createElement("div"),this._stickyEl.className="cl-po--preview-sticky",this._stickyEl.style.position="fixed",this._stickyImgEl=document.createElement("img"),l?(this._stickyEl.classList.add("mobile"),this._stickyEl.classList.add(this.settings.stickyMobile),this._stickyImgEl.style.height=n+"px"):(this._stickyEl.style.left=s.left+"px",this._stickyEl.style.width=s.width+"px"),this._stickyEl.style.top="0px",this._stickyEl.addEventListener("click",function(t){var i=e.default.getCalculatedPosition(r);window.scroll({top:i.top-50,behavior:"smooth"})}),this._stickyEl.appendChild(this._stickyImgEl),this._syncSticky(),document.body.appendChild(this._stickyEl),this.element.addEventListener("layer:changed",this._syncSticky),this.element.addEventListener("preview:rendered",this._syncSticky),this.settings.stickyMode=!0,i.debug("--\x3e sticky start",this._stickyEl,this._stickyTarget)}}}},{key:"_syncThemeGallery",value:function(){if(u.ThemeConfig.themeGallery)try{if(!1!==this._themeGalleryImgEl){if(this._themeGalleryVariant&&this.settings.variantId!==this._themeGalleryVariant)return void(this._themeGalleryVariant=this.settings.variantId);if(!this._themeGalleryImgEl)if(void 0===this.previewConfig.views||this.previewConfig.gallery&&!0!==this.config.previewConfig.galleryConfig.hideThumbnails)this._themeGalleryImgEl=!1;else{var t;if(this.settings.product.media&&this.settings.product.media.length){for(var r=0,s=0;s<this.previewConfig.layers.length;s++){var a=this.previewConfig.layers[s];if("product"===a.type){this._themeGalleryVariant=this.settings.variantId,a.params.imgPos?this.settings.product.media.length>a.params.imgPos-1&&(r=a.params.imgPos-1):a.params.variant&&delete this._themeGalleryVariant;break}}t=this.settings.product.media[r]}if(t){var n,o=e.default.pathBaseName(t.src,!1);if(this.settings.selectorThumbnail&&(n=document.querySelectorAll(this.settings.selectorThumbnail),i.debug("found "+n.length+" gallery thumbnails with selector: ",this.settings.selectorThumbnail,n)),!n||0===n.length){n=[];var l=document.querySelectorAll('img[src*="'+o+'"], img[data-src*="'+o+'"], img[data-srcset*="'+o+'"]');if(l.length>0)for(var h=0;h<l.length;h++){var c=l[h],d=e.default.findParent(c,"form");null!==d&&-1!==d.action.indexOf("cart")||n.push(c)}i.debug("found "+n.length+" gallery thumbnails with src: ",o,n)}if(n.length){for(var v=Number.MAX_VALUE,g=0;g<n.length;g++){var p=n[g],f=(p.src&&-1===p.src.indexOf("data:")?p.src:null)||p.dataset.src||p.dataset.srcset,y=e.default.pathBaseName(f,!1),_=(y=this.shopifyStore.stripImageDimension(y)).replace(o,"").length;_<v&&(v=_,this._themeGalleryImgEl=p)}i.debug("selected theme gallery thumbnail: ",this._themeGalleryImgEl)}}}if(this._themeGalleryImgEl&&this._themeGalleryImgEl.click){var m=e.default.isHidden(this._wrapper);this._themeGalleryImgEl.click(),m&&setTimeout(function(){return window.dispatchEvent(new Event("resize"))},500)}}}catch(w){i.error("error syncing theme gallery ",w)}}},{key:"_triggerEvent",value:function(e,t){var i=new CustomEvent(e,{detail:t,cancelable:!0,bubbles:!0});this.element.dispatchEvent(i)}}]),t}(),E=b;exports.default=E;
},{"./util":"zY0S","./translate":"IkY8","loglevel":"ohSP","./shopify-store":"cEki","lit-html":"KMqM","./font-loader":"G9B6","blueimp-canvas-to-blob":"XKb4","./template/product-preview.template":"K90H","./template/product-preview-crop.template":"z5P1","./conditions-engine":"Uk2d","./renderer/render-util":"fCYj","./renderer/renderer-registry":"izQH","./resource-loader":"U86w","./const":"QqYi"}],"Qfvf":[function(require,module,exports) {
"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=function(){function t(){e(this,t)}return r(t,null,[{key:"generateId",value:function(){return Date.now().toString()}},{key:"getItem",value:function(e){return t.storage.hasOwnProperty(e)||(t.storage[e]=t.parseItem(e)),t.storage[e]}},{key:"storeItem",value:function(e,r){t.storage[e]=r,window.localStorage&&localStorage.setItem(t.keyPrefix+e,JSON.stringify(r))}},{key:"parseItem",value:function(e){if(window.localStorage){var r=localStorage.getItem(t.keyPrefix+e);if(r)return JSON.parse(r)}return{}}}]),t}();n.storage={},n.keyPrefix="cl_";var o=n;exports.default=o;
},{}],"nk7O":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("./util")),t=require("./const"),n=a(require("loglevel"));function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function a(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function l(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}var u=function(){function n(t,i,a){o(this,n);this.settings=e.default.extend({product:{},variant:{},editorMode:!1},a||{}),this.config=t,this._productForm=i,this._init()}return l(n,[{key:"_init",value:function(){for(var n=this,i=[],a=function(a){for(var r=n.settings.product.options[a],o={name:r.name,label:r.name,type:"select",id:"option_"+n.settings.product.id+"_"+r.name.replace(/^[^a-zA-Z]+|[^\w]+/g,""),params:{name:"v_"+r.name},visible:!0,values:[],_variantOption:r,_themeEl:null},s=0;s<n.config.variantOptions.length;s++){var l=n.config.variantOptions[s];if(l.name===r.name){e.default.merge(o,l);break}}n.settings.variant.id?o.value=n.settings.variant["option"+r.position]:o.value=r.values[0];for(var u=o.values.length>0,v=[],f=0;f<r.values.length;f++){var p=r.values[f],h=null;if(u)for(var c=0;c<o.values.length;c++){var d=o.values[c];if(d&&d.value===p){h=d;break}}h||(h={text:p,value:p}),v.push(h)}if(o.values=v,i.push(o),!n.settings.editorMode){if(o._themeEl=n._productForm.querySelector('[data-live-variant-option="'+r.position+'"]'),!o._themeEl){for(var g=n._productForm.querySelectorAll("select"),m=function(e){if(e.length===r.values.length){for(var t=0;t<e.length;t++){var n=e[t];if(-1===r.values.indexOf(n))return!1}return!0}return!1},_=0;_<g.length;_++){var y=g[_];if(y.dataset.index&&-1!==y.dataset.index.indexOf(r.position.toString())){o._themeEl=y;break}for(var O=[],b=y.querySelectorAll("option"),E=0;E<b.length;E++){var k=b[E];O.push(k.value)}if(m(O)){o._themeEl=y;break}}if(!o._themeEl)for(var x=n._productForm.querySelectorAll("input[type=radio]"),w=[],S=0;S<x.length;S++){var q=x[S];if(-1===w.indexOf(q.name)){w.push(q.name);var j=n._productForm.querySelectorAll('input[name="'+q.name+'"]');if(q.dataset.index&&-1!==q.dataset.index.indexOf(r.position.toString())){o._themeEl=j;break}for(var M=[],P=0;P<j.length;P++){var V=j[P];M.push(V.value)}if(m(M)){o._themeEl=j;break}}}}if(o._themeEl&&t.ThemeConfig.productVariantHide){var F=o._themeEl;e.default.isNodeList(o._themeEl)&&(F=F[0]);for(var A=F;A.parentNode!==n._productForm&&-1===A.textContent.indexOf(r.name);)A=A.parentNode;A.style.display="none"}var C=n._productForm.querySelector("[data-live-variant-options]");null!=C&&(C.style.display="none")}},r=0;r<this.settings.product.options.length;r++)a(r);this.config.variantOptions=i}},{key:"syncVariantChanges",value:function(t){if(t._themeEl)if(e.default.isNodeList(t._themeEl))for(var n=0;n<t._themeEl.length;n++){var i=t._themeEl[n];i.value==t.value&&(i.checked=!0,i.dispatchEvent(new Event("change",{bubbles:!0})))}else if("SELECT"===t._themeEl.tagName){for(var a=0;a<t._themeEl.options.length;a++){if(t._themeEl.options[a].value==t.value){t._themeEl.selectedIndex=a;break}}t._themeEl.dispatchEvent(new Event("change",{bubbles:!0}))}}},{key:"syncAllVariantOptions",value:function(){for(var e=0;e<this.config.variantOptions.length;e++){var t=this.config.variantOptions[e];this.syncVariantChanges(t)}}},{key:"findSelectedVariant",value:function(){this.settings.variant=null;for(var e=0;e<this.settings.product.variants.length;e++){for(var t=this.settings.product.variants[e],n=!0,i=0;i<this.config.variantOptions.length;i++){var a=this.config.variantOptions[i];if(t["option"+a._variantOption.position]!=a.value){n=!1;break}}if(n){this.settings.variant=t;break}}return this.settings.variant}},{key:"resetVariant",value:function(){this.settings.variant=this.settings.product.variants[0];for(var e=0;e<this.config.variantOptions.length;e++){var t=this.config.variantOptions[e],n="option"+t._variantOption.position;t.value=this.settings.variant[n]}}},{key:"filterVariantValues",value:function(){var e={};if(this.config.variantOptions.length>1)for(var t=0;t<this.config.variantOptions.length;t++){var n=this.config.variantOptions[t],i="option"+n._variantOption.position;if(t>0){for(var a=n._values||n.values,r=[],o=0;o<a.length;o++){for(var s=a[o],l=!1,u=0;u<this.settings.product.variants.length;u++){var v=this.settings.product.variants[u],f=!0;for(var p in e)if(e.hasOwnProperty(p)&&e[p]!==v[p]){f=!1;break}if(f&&v[i]===s.value){l=!0;break}}l&&r.push(s)}a.length!==r.length&&(n._values=a,n.values=r)}e[i]=n.value}}}]),n}(),v=u;exports.default=v;
},{"./util":"zY0S","./const":"QqYi","loglevel":"ohSP"}],"vMGR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var i,e,l,s,n=require("lit-html"),t=require("lit-html/directives/repeat"),r=require("lit-html/directives/cache"),a=require("lit-transition"),d=require("lit-html/directives/class-map");function c(i,e){return e||(e=i.slice(0)),Object.freeze(Object.defineProperties(i,{raw:{value:Object.freeze(e)}}))}var o=function(r,a,o){return(0,n.html)(i||(i=c(['\n<div class="cl-po--gallery ','">\n\n    <div class="splide cl-po--gallery-main  ','">\n        <div class="splide__track">\n            <div class="splide__list">\n                ',"\n            </div>\n        </div>\n    </div>\n    ","\n</div>\n"])),a.layout,(0,d.classMap)({"hide-thumb-mobile":a.hideThumbnailsMobile}),(0,t.repeat)(r,function(i){return i.id},function(i,l){return(0,n.html)(e||(e=c(['\n                    <div class="splide__slide">\n                        <img class="cl-po--gallery-img" src='," data-media-position="," />\n                    </div>\n                "])),i.src,i.position)}),a.hideThumbnails?null:(0,n.html)(l||(l=c(['\n        <div class="splide cl-po--gallery-thumbnails ','">\n            <div class="splide__track">\n                <div class="splide__list">\n                    ',"\n                </div>\n            </div>\n        </div>\n    "])),(0,d.classMap)({"cl-hide-mobile":a.hideThumbnailsMobile}),(0,t.repeat)(r,function(i){return i.id},function(i,e){return(0,n.html)(s||(s=c(['\n                    <div class="splide__slide">\n                        <img class="cl-po--gallery-thumbnail" src='," data-media-position="," />\n                    </div>\n                "])),i.src,i.position)})))},u=o;exports.default=u;
},{"lit-html":"KMqM","lit-html/directives/repeat":"jBp4","lit-html/directives/cache":"LhRC","lit-transition":"Hfmq","lit-html/directives/class-map":"zFN9"}],"C7lD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=l(require("./util")),t=o(require("loglevel")),i=require("lit-html"),n=l(require("./template/product-gallery.template")),r=l(require("./resource-loader")),s=l(require("./product-preview"));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return(a=function(e){return e?i:t})(e)}function o(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var i=a(t);if(i&&i.has(e))return i.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}return n.default=e,i&&i.set(e,n),n}function l(e){return e&&e.__esModule?e:{default:e}}function h(e){return g(e)||d(e)||p(e)||u()}function u(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(e,t){if(e){if("string"==typeof e)return c(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?c(e,t):void 0}}function d(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function g(e){if(Array.isArray(e))return c(e)}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e,t,i){return t&&v(e.prototype,t),i&&v(e,i),e}var y=function(){function a(i,n,s,o){var l=this;f(this,a);this.config=i,this.settings=e.default.extend({api:"https://api.cloudlift.app",assets:"https://assets.cloudlift.app",queryParams:{},selector:".cl-gallery",position:"",sticky:!1,stickyMobile:"overlay",classNamePrefix:"cl-po",product:{},variantId:null,galleryConfig:{exclude:[],hideThumbnails:!1,hideThumbnailsMobile:!1,layout:"bottom",arrows:!1,arrowsThumbnails:!1,pagination:!1,paginationMobile:!1,paginationThumbnails:!1}},o||{}),window.clGallery&&(this.settings.galleryConfig=e.default.extend(this.settings.galleryConfig,window.clGallery)),this._previews=[],this.media=[],this._productForm=n,this.conditionsEngine=s,null!==this.settings.selector&&(e.default.isElement(this.settings.selector)?this.element=this.settings.selector:this.element=document.querySelector(this.settings.selector)),null!=this.element?(t.info("--\x3e new product-gallery: ",this.element),this.resources=[this.settings.assets+"/static/lib/splidejs/splide.min.js",this.settings.assets+"/static/lib/splidejs/splide.min.css"],this.ready=r.default.loadOnce(this.resources,"product-gallery",{async:!1}).then(function(){return l._init()})):t.warn("no elements with selector found: ",this.settings.selector)}return m(a,[{key:"destroy",value:function(){if(this._previews)for(var e=0;e<this._previews.length;e++){this._previews[e].destroy()}this.element.removeChild(this._wrapper)}},{key:"render",value:function(){(0,i.render)((0,n.default)(this.media,this.settings.galleryConfig),this._wrapper)}},{key:"selectPreview",value:function(e){this._splideThumbnails.go(this._getMediaIndex(e))}},{key:"_init",value:function(){var e=this;this._wrapper=document.createElement("div"),this._wrapper.className=this.settings.classNamePrefix+"--gallery-wrapper",this._wrapper.setAttribute("id",this.config.uuid+"_gallery"),this._wrapper.style.width="100%",this.settings.position?(this.element.insertAdjacentElement(this.settings.position,this._wrapper),this.element!==this._wrapper.parentNode&&(this.element=this._wrapper.parentNode)):this.element.appendChild(this._wrapper);var i=[this.config.previewConfig];if(this.config.previewConfig.views.length&&i.push.apply(i,h(this.config.previewConfig.views)),this._filterProductMedia(i),this.render(),this._splideMain=new Splide(this._wrapper.querySelector("."+this.settings.classNamePrefix+"--gallery-main"),{type:"fade",drag:!this.settings.editorMode&&!this.settings.galleryConfig.hideThumbnails&&this._isStatic(i),rewind:!0,arrows:this.settings.galleryConfig.arrows,pagination:this.settings.galleryConfig.pagination||this.settings.galleryConfig.paginationMobile,classes:{pagination:"splide__pagination"+(this.settings.galleryConfig.paginationMobile?" mobile":"")}}),this.settings.galleryConfig.hideThumbnails)this._splideThumbnails={go:function(t){e._splideMain.go(t),e._selectPreview(t)}},this._splideMain.mount();else{var n="left"===this.settings.galleryConfig.layout||"right"===this.settings.galleryConfig.layout?"ttb":"ltr";this._splideThumbnails=new Splide(this._wrapper.querySelector("."+this.settings.classNamePrefix+"--gallery-thumbnails"),{autoWidth:!0,fixedHeight:100,height:"ttb"===n?600:0,direction:n,rewind:!0,gap:3,arrows:this.settings.galleryConfig.arrowsThumbnails,pagination:this.settings.galleryConfig.paginationThumbnails,isNavigation:!0,breakpoints:{600:{fixedHeight:66}}}),this._splideThumbnails.mount(),this._splideMain.sync(this._splideThumbnails).mount(),this._splideThumbnails.on("moved",function(t,i){e._selectPreview(t)})}for(var r=[],a=0;a<i.length;a++){var o=i[a],l=this._wrapper.querySelector("."+this.settings.classNamePrefix+'--gallery-main [data-media-position="'+o.position+'"]');l?function(){var t=l.parentNode;t.removeChild(l);var i=new s.default(e.config,o,e._productForm,e.conditionsEngine,{api:e.settings.api,assets:e.settings.assets,selector:t,selectorThumbnail:e.settings.selectorThumbnail,sticky:e.settings.sticky,stickyMobile:e.settings.stickyMobile,product:e.settings.product,variantId:e.settings.variantId,editorMode:e.settings.editorMode});i.active=0===a,e.settings.galleryConfig.hideThumbnails||(i._thumbnailEl=e._wrapper.querySelector("."+e.settings.classNamePrefix+'--gallery-thumbnails [data-media-position="'+o.position+'"]')),r.push(i.ready.then(function(){if(i._thumbnailEl){var e=function(e){var t={format:"png",multiplier:200/i._canvas.getHeight()};i._thumbnailEl.src=i._canvas.toDataURL(t),i._canvas.requestRenderAll()};i.element.addEventListener("layer:changed",e),i.element.addEventListener("preview:rendered",e)}})),e._previews.push(i)}():t.warn("[live-options] gallery - missing media image for view: ",o)}return this._preview=this._previews[0],this._watchFormChanges(),this.settings.editorMode&&window.clProductGalleryPosition?(this.selectPreview(window.clProductGalleryPosition),delete window.clProductGalleryPosition):isNaN(this.settings.galleryConfig.position)?this._selectVariantThumbnail(this._getVariantById(this.settings.variantId)):this.selectPreview(this.settings.galleryConfig.position),Promise.all(r)}},{key:"_filterProductMedia",value:function(e){var t=this;this.media=this.settings.product.media.filter(function(e){return-1===t.settings.galleryConfig.exclude.indexOf(e.position)}),this.settings.galleryConfig.hideThumbnails&&(this.media=this.media.filter(function(t){for(var i=0;i<e.length;i++){if(e[i].position===t.position)return!0}return!1}))}},{key:"_getMediaIndex",value:function(e){for(var t=0;t<this.media.length;t++)if(this.media[t].position===e)return t;return-1}},{key:"_getMediaPosition",value:function(e){return e<this.media.length?this.media[e].position:-1}},{key:"_selectPreview",value:function(e){if(this.media.length>e)for(var t=this.media[e],i=0;i<this._previews.length;i++){var n=this._previews[i];if(n.previewConfig.position===t.position){this._preview&&(this._preview.active=!1),this._preview=n,this._preview.active=!0,this._triggerEvent("preview:active",{position:t.position});break}}}},{key:"_selectVariantThumbnail",value:function(e){if(e&&(e.featured_media||e.featured_image)){var t=e.featured_media||e.featured_image,i=this._getMediaIndex(t.position);if(-1!==i)this._splideThumbnails.go(i);else for(var n=0;n<this._previews.length;n++)for(var r=this._previews[n],s=0;s<r.previewConfig.layers.length;s++){var a=r.previewConfig.layers[s];if("product"===a.type&&a.params.variant&&-1!==(i=this._getMediaIndex(r.previewConfig.position)))return void this._splideThumbnails.go(i)}}}},{key:"_watchFormChanges",value:function(){var e=this;this._productForm&&(this._productForm.addEventListener("option:changed",function(t){return e._optionChanged(t)}),this._productForm.addEventListener("option:crop",function(t){return e._optionChanged(t)}),this._productForm.addEventListener("variant:changed",function(t){return e._variantChanged(t)}))}},{key:"_variantChanged",value:function(e){this.settings.variantId=e.detail.variantId,this._selectVariantThumbnail(this._getVariantById(this.settings.variantId))}},{key:"_optionChanged",value:function(e){for(var t=e.detail,i=-1,n=-1,r=this._getMediaPosition(this._splideMain.index),s=0;s<this._previews.length;s++){var a=this._previews[s];if(a._canvas)for(var o=a._canvas.getObjects(),l=0;l<o.length;l++){var h=o[l];if(h._layer&&h._layer.params.option===t.name){a.previewConfig.position!==i&&(i=a.previewConfig.position,-1===n&&(n=i));break}}if(-1===i)for(var u=0;u<a.previewConfig.layers.length;u++){if(a.previewConfig.layers[u].params.option===t.name){a.previewConfig.position!==i&&(i=a.previewConfig.position,-1===n&&(n=i));break}}if(i===r)return}-1!==n&&this.selectPreview(n)}},{key:"_getVariantById",value:function(e){if(this.settings.product.variants&&this.settings.product.variants.length>0)for(var t=0;t<this.settings.product.variants.length;t++){var i=this.settings.product.variants[t];if(i.id.toString()===e.toString())return i}return null}},{key:"_isStatic",value:function(e){for(var t=0;t<e.length;t++)for(var i=e[t],n=0;n<i.layers.length;n++){var r=i.layers[n];if(r.params.interactive||r.params.crop&&"upload"===r.type)return!1}return!0}},{key:"_triggerEvent",value:function(e,t){var i=new CustomEvent(e,{detail:t,cancelable:!0,bubbles:!0});this.element.dispatchEvent(i)}}]),a}(),_=y;exports.default=_;
},{"./util":"zY0S","loglevel":"ohSP","lit-html":"KMqM","./template/product-gallery.template":"vMGR","./resource-loader":"U86w","./product-preview":"wweK"}],"V7lU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=n(require("./translate")),e=r(require("loglevel"));function a(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return(a=function(t){return t?r:e})(t)}function r(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var r=a(e);if(r&&r.has(t))return r.get(t);var n={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&Object.prototype.hasOwnProperty.call(t,o)){var i=l?Object.getOwnPropertyDescriptor(t,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=t[o]}return n.default=t,r&&r.set(t,n),n}function n(t){return t&&t.__esModule?t:{default:t}}function l(t){return u(t)||s(t)||i(t)||o()}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(t,e){if(t){if("string"==typeof t)return f(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?f(t,e):void 0}}function s(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function u(t){if(Array.isArray(t))return f(t)}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,r=new Array(e);a<e;a++)r[a]=t[a];return r}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var a=0;a<e.length;a++){var r=e[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function v(t,e,a){return e&&c(t.prototype,e),a&&c(t,a),t}var d=function(){function a(t){p(this,a),this.config=t}return v(a,[{key:"translate",value:function(){try{var t=JSON.stringify(this.config.options),a=t.indexOf("#");if(-1!==a)for(var r=/^#[0-9A-F]{6}$/i;-1!==a;){var n=t.substr(a,7);if(!r.test(n))break;e.trace("[config-translate] skipping color:",n),a=t.indexOf("#",a+1)}-1!==a?(this._translateOptions(this.config.options),this.config.preview&&this._translatePreview(this.config.previewConfig),e.debug("[config-translate] translated options")):e.debug("[config-translate] skipped options translation")}catch(l){e.debug("[config-translate] error in translation",l)}}},{key:"_translateOptions",value:function(e){for(var a=0;a<e.length;a++){var r=e[a];if(r.name&&(r.name=t.default.translate(r.name)),r.label&&(r.label=t.default.translate(r.label)),r.value&&(r.value=t.default.translate(r.value)),r.params.info&&(r.params.info=t.default.translate(r.params.info)),r.params.help&&(r.params.help=t.default.translate(r.params.help)),r.params.placeholder&&(r.params.placeholder=t.default.translate(r.params.placeholder)),r.params.validationMsg&&(r.params.validationMsg=t.default.translate(r.params.validationMsg)),r.values)for(var n=0;n<r.values.length;n++){var l=r.values[n];l.value&&(l.value=t.default.translate(l.value)),l.text&&(l.text=t.default.translate(l.text))}r.conditions.length&&this._translateConditions(r.conditions),r.options&&r.options.length&&this._translateOptions(r.options)}}},{key:"_translatePreview",value:function(t){var e=[t];t.gallery&&e.push.apply(e,l(t.views));for(var a=0;a<e.length;a++){var r=e[a];this._translateLayers(r.layers)}}},{key:"_translateLayers",value:function(e){for(var a=0;a<e.length;a++){var r=e[a];for(var n in r.params)r.params.hasOwnProperty(n)&&-1!==n.indexOf("option")&&(r.params[n]=t.default.translate(r.params[n]));r.params.text&&(r.params.text=t.default.translate(r.params.text)),r.conditions.length&&this._translateConditions(r.conditions),r.layers&&r.layers.length&&this._translateOptions(r.layers)}}},{key:"_translateConditions",value:function(e){for(var a=0;a<e.length;a++){var r=e[a];if(r.field&&(r.field=t.default.translate(r.field)),r.value&&-1!==r.value.indexOf("#"))if(-1!==r.value.indexOf(",")){for(var n=r.value.split(","),l=0;l<n.length;l++)n[l]=t.default.translate(n[l]);r.value=n.join(",")}else r.value=t.default.translate(r.value)}}}]),a}(),y=d;exports.default=y;
},{"./translate":"IkY8","loglevel":"ohSP"}],"RI7z":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=w(require("./util")),e=w(require("./translate")),i=y(require("loglevel")),r=w(require("./shopify-store")),n=require("lit-html"),o=w(require("tippy.js"));require("tippy.js/dist/tippy.css"),require("./style/style.css");var s=w(require("./template/product-options.template")),a=w(require("./product-preview")),l=w(require("./conditions-engine")),p=w(require("./upload/upload")),h=w(require("./shopify-cart")),u=require("./const"),c=require("@shopify/theme-currency"),d=w(require("./cart-options-price")),v=w(require("./product-variant-options")),f=w(require("./resource-loader")),g=w(require("./product-gallery")),m=w(require("./config-translate"));function _(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,i=new WeakMap;return(_=function(t){return t?i:e})(t)}function y(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var i=_(e);if(i&&i.has(t))return i.get(t);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&Object.prototype.hasOwnProperty.call(t,o)){var s=n?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=t[o]}return r.default=t,i&&i.set(t,r),r}function w(t){return t&&t.__esModule?t:{default:t}}function P(t){return I(t)||O(t)||C(t)||b()}function b(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function C(t,e){if(t){if("string"==typeof t)return E(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?E(t,e):void 0}}function O(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function I(t){if(Array.isArray(t))return E(t)}function E(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function k(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function F(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function x(t,e,i){return e&&F(t.prototype,e),i&&F(t,i),t}var V=function(){function _(e,n){k(this,_);this.config=e,this.settings=t.default.extend({api:"https://api.cloudlift.app",assets:"https://assets.cloudlift.app",queryParams:{},selector:".cl-options",position:"",selectorPreview:".cl-preview",selectorThumbnail:"",positionPreview:"",stickyPreview:!1,stickyPreviewMobile:"overlay",selectorForm:'form[action*="/cart/add"]',classNamePrefix:"cl-po",product:{},priceDraft:!0,priceVariantId:"",priceVariantValue:.01,errorPrefix:"product.options.validity.",editorMode:!1,visible:{},visibleEditor:{}},n||{}),this.visible={},this.visibleEditor={},this.shopifyStore=r.default.getInstance(),this.shopifyCart=h.default.getInstance(),this.conditionsEngine=new l.default({},{product:this.settings.product,options:this.config.options}),this._upload=p.default.getInstance({api:this.settings.api,queryParams:this.settings.queryParams}),this.price={options:{},total:0,variants:[],variantTotal:0},t.default.isElement(this.settings.selector)?this.element=this.settings.selector:this.element=document.querySelector(this.settings.selector),null!=this.element?(i.info("--\x3e new product-options: ",this.element),this._init()):i.warn("no elements with selector found: ",this.settings.selector)}return x(_,[{key:"destroy",value:function(){this.removeCss(),this.element.removeChild(this._wrapper),this._destroyPreview()}},{key:"updateVariantOptions",value:function(t){this.config.variantOptions=t,this._variantOptions&&(this._variantOptions.settings.variant=this._getVariantById(this._variantId),this._variantOptions._init())}},{key:"updateOptions",value:function(t){var e,i,r,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];n&&(i=this.getValues()),o&&(r=this._getControllers()),this.config.options.length=0,(e=this.config.options).push.apply(e,P(t)),this._generateOptionIds(this.config.options,"option_"+this.settings.product.id+"_"),this._translate.translate(),n&&this.setValues(i),o&&this._setControllers(r),this._destroyTooltips(),this.render()}},{key:"updatePreview",value:function(t){var e=this;this.config.preview=!0,this._translate._translatePreview(t),this._preview?this._preview.updateConfig(t).then(function(){return e.render()}):(this.config.previewConfig=t,this._initPreview())}},{key:"updateCss",value:function(e){this.removeCss(),this._style=t.default.addStyleElement(e,this.settings.styleSelector)}},{key:"removeCss",value:function(){this._style&&this._style.parentNode.removeChild(this._style)}},{key:"validate",value:function(){var t=this._validateOptions(this.config.options);return i.debug("validated product-options: ",this.config,t),this.render(),t}},{key:"render",value:function(){this._evaluateOptionConditions(this.config.options),this._evaluateOptionPrice(this.config.options);var t=[];this._variantIdOption&&t.push(this._variantIdOption),this._variantOptions&&this.config.variantOptions.length&&t.push.apply(t,P(this.config.variantOptions)),t.push.apply(t,P(this.config.options)),(0,n.render)((0,s.default)(t,{uuid:this.config.uuid,editorMode:this.settings.editorMode,price:this.price,product:this.settings.product,productForm:this._productForm,productFormLink:this._productFormLink,assets:this.settings.assets},this._optionValueChanged.bind(this),this._clearOptionError.bind(this),this.validate.bind(this)),this._wrapper),this._triggerEvent("options:rendered",this),this._initTooltips()}},{key:"getValues",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.config.options,i=0;i<e.length;i++){var r=e[i];r.options&&r.options.length?this.getValues(t,r.options):t[r.name]=r.value}return t}},{key:"setValues",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.config.options,i=0;i<e.length;i++){var r=e[i];if(r.options&&r.options.length)this.setValues(t,r.options);else if(t.hasOwnProperty(r.name))r.value=t[r.name];else if("upload-lift"===r.type){var n=[];for(var o in t)t.hasOwnProperty(o)&&-1!==o.indexOf(r.name+"_")&&n.push(t[o]);n.length&&(r.value=n.join(","))}}}},{key:"_init",value:function(){var e=this;this.config.css&&this.updateCss(this.config.css),this._wrapper=document.createElement("div"),this._wrapper.className=this.settings.classNamePrefix+"--wrapper",this._wrapper.setAttribute("id",this.config.uuid),this.settings.position?(this.element.insertAdjacentElement(this.settings.position,this._wrapper),this.element!==this._wrapper.parentNode&&(this.element=this._wrapper.parentNode)):this.element.appendChild(this._wrapper),this._generateOptionIds(this.config.options,"option_"+this.settings.product.id+"_"),u.ThemeConfig.productOptionsClear&&(this._optionValuesClear=this.getValues()),this._findProductForm()?(this._translate=new m.default(this.config),this._translate.translate(),this._productForm.noValidate=!0,this._productForm.addEventListener("options:render",function(t){return e.render()}),this._watchFormSubmit(),this._watchVariantChanges(),this.config.preview&&this._initPreview(),t.default.hasQueryParam(window.location.href,"item")&&this._restoreCartItem()):i.warn("product-options no product form found for element: ",this.element,this.config)}},{key:"_validateOptions",value:function(r){for(var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=!0,s=0;s<r.length;s++){var a=r[s];if(a.visible)if(a.options&&a.options.length)this._validateOptions(a.options,n)||(o=!1);else if(a._controller&&"function"==typeof a._controller.onValidate){a.errors=[],a._controller.onValidate(a)||(o=!1)}else{var l=this.element.querySelector("#".concat(a.id));if(null==l&&(l=this.element.querySelector("#".concat(a.id,"-0"))),null!=l&&!l.checkValidity()){if(o=!1,n||!l.scrollIntoView||t.default.isScrolledIntoView(l)||(l.style.scrollMargin="50px",l.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"}),l.style.scrollMargin="",n=!0),a.errors=[],a.params.validationMsg){a.errors.push(a.params.validationMsg);continue}for(var p in l.validity)if(l.validity[p]){var h="";(h="tooLong"===p?e.default.get(this.settings.errorPrefix+p,{max:l.maxLength}):"tooShort"===p?e.default.get(this.settings.errorPrefix+p,{min:l.minLength}):"rangeOverflow"===p?e.default.get(this.settings.errorPrefix+p,{max:l.max}):"rangeUnderflow"===p?e.default.get(this.settings.errorPrefix+p,{min:l.min}):"patternMismatch"===p?e.default.get(this.settings.errorPrefix+p,{pattern:l.pattern}):e.default.get(this.settings.errorPrefix+p))&&(-1===h.indexOf(this.settings.errorPrefix)?a.errors.push(h):i.warn("missing translation for "+h))}}}}return o}},{key:"_findProductForm",value:function(){if(this._productForm=t.default.findParent(this.element,this.settings.selectorForm),!this._productForm){var e={srcEl:this.element};this._productForm=this.shopifyStore.findProductFormBestMatch(this.settings.product.id,e),e.parentEl&&(this._productFormParentEl=e.parentEl)}if(this._productFormParent=this._productForm.contains(this._wrapper),!this._productFormParent){var i=this._productForm.getAttribute("id");i&&(this._productFormLink=i)}return null!==this._productForm}},{key:"_initVariantOptions",value:function(){var t=this.shopifyStore.findProductFormVariantId(this._productForm);if(this.settings.product&&this.settings.product.variants&&(t||(t=this.settings.product.variants[0].id.toString()),this.config.variantOption&&this.settings.product.variants.length>1&&(this._variantOptions=new v.default(this.config,this._productFormParentEl||this._productForm,{product:this.settings.product,variant:this._getVariantById(t),editorMode:this.settings.editorMode}),u.ThemeConfig.productVariantFilter&&this._variantOptions.filterVariantValues()),this.settings.editorMode))if(this._variantIdOption={name:"id",id:"option_"+this.settings.product.id+"_id",value:t,params:{name:"id",info:"<b>Only shown in the App to test conditional options based on the selected variant.</b>"},visible:!0},1===this.settings.product.variants.length||this.config.variantOption)this._variantIdOption.type="hidden";else{this._variantIdOption.label="Variant",this._variantIdOption.type="select",this._variantIdOption.values=[];for(var e=0;e<this.settings.product.variants.length;e++){var i=this.settings.product.variants[e];this._variantIdOption.values.push({text:i.title,value:i.id.toString()})}}return t}},{key:"_watchVariantChanges",value:function(){var t=this,e=this._initVariantOptions();return this._onVariantChange(null,e),this._productForm.addEventListener("change",function(e){return t._onVariantChange(e)}),null!==this._variantId}},{key:"_onVariantChange",value:function(t,e){if(e||(e=this.shopifyStore.findProductFormVariantId(this._productForm)),e!==this._variantId){if(this._variantId=e,delete this.conditionsEngine.data.variant,this._variantId){var i=this._getVariantById(this._variantId);i&&(this.conditionsEngine.data.variant=i),this._clearVisibleEditor(),this._triggerEvent("variant:changed",{variantId:this._variantId})}this.render()}}},{key:"_getVariantById",value:function(t){if(this.settings.product.variants&&this.settings.product.variants.length>0)for(var e=0;e<this.settings.product.variants.length;e++){var i=this.settings.product.variants[e];if(i.id.toString()===t.toString())return i}return null}},{key:"_triggerEvent",value:function(t,e){var i=new CustomEvent(t,{detail:e,cancelable:!0,bubbles:!0});this.element.dispatchEvent(i),this._productFormParent||this._productForm.dispatchEvent(i)}},{key:"_optionValueChanged",value:function(t){t._variantOption&&this._variantOptions&&this._variantOptionValueChanged(t),this._clearVisibleEditor(),this._triggerEvent("option:changed",t),t.errors&&t.errors.length&&(t.errors.length=0),this.render()}},{key:"_variantOptionValueChanged",value:function(t){var e=this._variantOptions.findSelectedVariant();!e&&u.ThemeConfig.productVariantReset&&(this._variantOptions.resetVariant(),this._variantOptions.syncAllVariantOptions()),u.ThemeConfig.productVariantFilter&&this._variantOptions.filterVariantValues(),this._variantOptions.syncVariantChanges(t),this._variantIdOption&&e&&(this._variantIdOption.value=e.id.toString(),this._onVariantChange(null,this._variantIdOption.value))}},{key:"_clearVisibleEditor",value:function(){this.settings.editorMode&&(this.visibleEditor={})}},{key:"_clearOptionError",value:function(t,e,i){var r=e.errors.indexOf(i);r>-1&&e.errors.splice(r,1),this.render()}},{key:"_generateOptionIds",value:function(t,e){for(var i=0;i<t.length;i++){var r=t[i],n=r.name.replace(/^[^a-zA-Z]+|[^\w]+/g,"");r.id=e+n,r.options&&r.options.length&&this._generateOptionIds(r.options,e)}}},{key:"_evaluateOptionConditions",value:function(t){for(var e=0;e<t.length;e++){var i=t[e],r=!0;i.conditions&&i.conditions.length&&(r=this.conditionsEngine.evaluateConditions(i.conditions,l.default.MODE.AND,"option.name="+i.name)),this.settings.editorMode&&this.visibleEditor.hasOwnProperty(i.name)&&(r=this.visibleEditor[i.name]),this.visible[i.name]=r,i.visible=r,i.options&&i.options.length&&this._evaluateOptionConditions(i.options)}}},{key:"_evaluateOptionPrice",value:function(t){this.price.options={},this.price.total=0,this.price.variants=[],this.price.variantTotal=0,this._evaluateOptionPriceTotal(t),this._patchProductPriceTotal(t)}},{key:"_patchProductPriceTotal",value:function(e){var r=this;if(0!==this.price.total||this._priceElList&&this._priceElList.length){var n=this._variantPrice;if(this._variantId){var o=this._getVariantById(this._variantId);o&&(n=o.price,this._variantPrice=n)}if(!isNaN(n)){if(this._priceElList&&this._priceElList.length)for(var s=0;s<this._priceElList.length;s++)if(!t.default.isInPage(this._priceElList[s])){delete this._priceElList;break}if((!this._priceElList||0===this._priceElList.length)&&(this._priceElList=document.querySelectorAll('[data-live-price="'+this.settings.product.id+'"]'),0===this._priceElList.length&&u.ThemeConfig.productPrice)){var a=(0,c.formatMoney)(n,this.shopifyStore.trimMoneyFormatAmount(u.ThemeCurrency.moneyFormat)),l=t.default.findElementContainsRegex("*",new RegExp("^.{0,50}".concat(a,".{0,50}$"),"s"));if(l.length>0&&(l=l.filter(function(e){return!t.default.isHidden(e)&&!r._wrapper.contains(e)})),0===l.length&&(i.debug("no productPrice elements found for price:",a),u.ThemeConfig.amountNoDecimals&&(a=(0,c.formatMoney)(n,"{{ amount_no_decimals }}"),i.debug("trying fallback {{ amount_no_decimals }} price: ",a),(l=t.default.findElementContainsRegex("*",new RegExp("^.{0,50}".concat(a,".{0,50}$"),"s"))).length>0&&(l=l.filter(function(e){return!t.default.isHidden(e)&&!r._wrapper.contains(e)})))),l.length)if(i.debug("found "+l.length+" productPrice elements",l),u.ThemeConfig.productPriceAll)this._priceElList=l.filter(function(t){for(var e=0;e<l.length;e++){var i=l[e];if(i!==t&&t.contains(i))return!1}return!0});else{for(var p=null,h=-1,d=this._wrapper.getBoundingClientRect(),v=0;v<l.length;v++){var f=l[v],g=f.getBoundingClientRect(),m=Math.abs(d.top-g.top)+Math.abs(d.left-g.left);(!p||p.contains(f)||m<h)&&(p=f,h=m)}p&&(this._priceElList=[p])}}var _=function(){var t=n+100*r.price.total,e=(0,c.formatMoney)(t,u.ThemeCurrency.moneyFormat);if(r._priceElList&&r._priceElList.length)for(var i=0;i<r._priceElList.length;i++){r._priceElList[i].innerHTML=e}r._triggerEvent("options:price",{price:t,priceFormat:e})};_(),u.ThemeConfig.productPriceTimeout&&setTimeout(function(){return _()},1e3),u.ThemeConfig.productPriceObserver&&!this._priceElObserver&&"MutationObserver"in window&&(this._priceElObserver=new MutationObserver(function(t){if(r._priceElList&&r._priceElList.length){i.trace("observer priceEl for removed nodes",r._priceElList);for(var n=!1,o=0;o<t.length;o++){var s=t[o];if(s.removedNodes.length>0){if(1===s.removedNodes.length&&1!==s.removedNodes[0].nodeType)continue;for(var a=Array.from(s.removedNodes),l=function(t){var e=r._priceElList[t];if(a.indexOf(e)>-1||a.some(function(t){return t.contains(e)}))return i.debug("priceEl was removed:",e),n=!0,"break"},p=0;p<r._priceElList.length;p++){if("break"===l(p))break}}if(n)break}n&&(i.debug("-> triggering patchProductTotal"),r._patchProductPriceTotal(e))}}),this._priceElObserver.observe(document.body,{subtree:!0,childList:!0}))}if(!this._paymentBtns&&(this._paymentBtns=this.shopifyStore.findExpressPaymentButtons(),this._paymentBtns.length))for(var y=0;y<this._paymentBtns.length;y++){this._paymentBtns[y].style.display="none"}}}},{key:"_evaluateOptionPriceTotal",value:function(t){for(var e=0;e<t.length;e++){var i=t[e];if(i.visible){if(i._priceText&&delete i._priceText,i.value&&i.values)for(var r=0;r<i.values.length;r++){var n=i.values[r],o=n.value==i.value;if(!o&&i._controller&&i._controller.multiSelect&&i.value&&"string"==typeof i.value&&-1!==i.value.indexOf(n.value)&&(o=!0),o&&(n.priceVariant&&(this.price.variants.push(n.priceVariant),this.price.variantTotal+=n.price),n.price)){var s=void 0;this.price.options.hasOwnProperty(i.name)?(s=this.price.options[i.name]).price+=n.price:s={option:i,price:n.price},this.price.total+=n.price,s.priceText=(0,c.formatMoney)(100*s.price,u.ThemeCurrency.moneyFormat),i.label&&i.params.labelPriceText&&(i._priceText=s.priceText),n.priceVariant||(this.price.options[i.name]=s)}}i.options&&i.options.length&&this._evaluateOptionPriceTotal(i.options)}}}},{key:"_watchFormSubmit",value:function(){var t=this;this._productFormSubmit=!1,this.shopifyStore.onProductFormSubmit(this._productForm,function(e){return t._handleFormSubmit(e)},u.ThemeConfig.productFormCapture),this._productForm.addEventListener("keypress",function(t){t.target&&"INPUT"===t.target.tagName&&(13===(t.keyCode||t.which)&&(t.preventDefault(),t.target.blur()))})}},{key:"_handleFormSubmit",value:function(t){var r=this;if(!this._productFormSubmit){if(this._productFormSubmit=!0,!this.validate())return this._productFormSubmit=!1,t.preventDefault(),void t.stopImmediatePropagation();var n=this._hasExportPreviews(),o=0!==this.price.total||this.price.variants.length,s=n||o||this._itemKey;s&&(t.preventDefault(),t.stopImmediatePropagation(),this._productFormEvent=t);var a=[];if(n)for(var l=this._getPreviews(),p=0;p<l.length;p++){var h=l[p];this._isExportPreview(h)&&function(){var t=document.createElement("progress");t.max=100,t.value=0,t.className="cl-po--preview-progress",r._wrapper.appendChild(t),a.push(r._exportPreview(h,t).then(function(){r._wrapper.removeChild(t)}))}()}if(o){var c=d.default.generateId(),v=Promise.resolve();if(this.price.variants.length)for(var f=function(t){var e=r.price.variants[t],i=r.shopifyCart.toItem(e.id,e.quantity,{});v=v.then(function(){return r.shopifyCart.addItem(i)})},g=0;g<this.price.variants.length;g++)f(g);var m=this.price.total-this.price.variantTotal;if(m>0){var _=Math.round(100*m),y={};for(var w in y[u.CartItemProperties.ID]=c,this.price.options)if(this.price.options.hasOwnProperty(w)){var P=this.price.options[w],b=P.priceText.replace(/(<([^>]+)>)/gi,"");y[P.option.name]=b}if(this._setFormProperty(u.CartItemProperties.ID,c),this._setFormProperty(u.CartItemProperties.PRICE,_),this.settings.priceDraft)d.default.storeItem(c,{properties:y});else if(this.settings.priceVariantId){var C=m/this.settings.priceVariantValue,O=this._productForm.querySelector('[name="quantity"]');O&&O.value&&(C*=O.value),C=Math.round(C);var I=this.shopifyCart.toItem(this.settings.priceVariantId,C,y);u.CartItemProperties.VALIDATE=!1,v=v.then(function(){return r.shopifyCart.addItem(I)})}else i.warn("[live-options] missing price options product variant")}else o=!1;a.push(v)}if(o||(this._removeFormProperty(u.CartItemProperties.ID),this._removeFormProperty(u.CartItemProperties.PRICE)),s)return Promise.all(a).then(function(){var t=!0;if(r._itemKey&&-1!==r._itemKey.indexOf(r._variantId)){var i=function(){r.shopifyCart.updateItemById({id:r._itemKey,quantity:r.shopifyStore.findProductFormQuantity(r._productForm),properties:r._getFormProperties()}).then(function(){window.location.href="/cart"})};if(u.ThemeConfig.productItemModal){t=!1;var n="product.options.item.modal.",o=document.createElement("dialog");o.className="cl-po--dialog",o.innerHTML='\n                                  <form method="dialog">\n                                    <h4>'.concat(e.default.get(n+"title"),'</h4>\n                                    <div class="action">\n                                      <button class="cl-po--swatch cl-po--swatch-button cl-po--small" value="update">').concat(e.default.get(n+"update"),'</button>\n                                      <button class="cl-po--swatch cl-po--swatch-button cl-po--small" value="add">').concat(e.default.get(n+"add"),"</button>\n                                    </div>\n                                  </form>"),void 0!==window.dialogPolyfill&&(window.dialogPolyfill.registerDialog(o),o.style.height="auto"),r._wrapper.appendChild(o),o.showModal(),o.addEventListener("close",function(){"update"===o.returnValue?i():r._triggerFormEvent()})}else u.ThemeConfig.productItemUpdate&&(t=!1,i())}t&&(r._triggerFormEvent(),setTimeout(function(){u.CartItemProperties.VALIDATE=!0},5e3))}).catch(function(t){i.error("[live-options] submit handler error",t)});setTimeout(function(){return r._productFormSubmit=!1},300)}}},{key:"_setFormProperty",value:function(t,e){var i;this._formInputs?this._formInputs.hasOwnProperty(t)&&(i=this._formInputs[t]):this._formInputs={},i?i.value=e:((i=document.createElement("input")).type="hidden",i.name="properties["+t+"]",i.value=e,this._productForm.appendChild(i)),this._formInputs[t]=i}},{key:"_removeFormProperty",value:function(t){if(this._formInputs&&this._formInputs.hasOwnProperty(t)){var e=this._formInputs[t];e.parentNode.removeChild(e),delete this._formInputs[t]}}},{key:"_getFormProperties",value:function(){var t=new FormData(this._productForm);return Array.from(t.keys()).reduce(function(e,i){if(-1!==i.indexOf("properties")){var r=i.indexOf("["),n=i.indexOf("]");if(-1!==r&&-1!==n){var o=i.substring(r+1,n);if(e.hasOwnProperty(o)){var s=t.getAll(i);e[o]=s[s.length-1]}else e[o]=t.get(i)}}return e},{})}},{key:"_triggerFormEvent",value:function(){var t=this;if(this._productFormEvent){var e=this._productFormEvent;e.target||e.currentTarget?"click"===e.type?e.target&&e.target.click?e.target.click():e.currentTarget&&e.currentTarget.click?e.currentTarget.click():"BUTTON"===e.target.parentNode.tagName&&e.target.parentNode.click():"submit"===e.type&&e.target.submit():(i.error("missing event target - manual form submit"),this._productForm.submit()),this._productFormEvent=null,this._productFormSubmit=!1}this._optionValuesClear&&setTimeout(function(){t.setValues(t._optionValuesClear),t.render(),t._renderPreview()},1e3)}},{key:"_getControllers",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.config.options,i=0;i<e.length;i++){var r=e[i];r.options&&r.options.length?this._getControllers(t,r.options):r._controller&&(t[r.name+"_"+r.type]=r._controller)}return t}},{key:"_setControllers",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.config.options,i=0;i<e.length;i++){var r=e[i];r.options&&r.options.length?this._setControllers(t,r.options):t.hasOwnProperty(r.name+"_"+r.type)&&(r._controller=t[r.name+"_"+r.type])}}},{key:"_initPreview",value:function(){var t=this;this.config.previewConfig.gallery?(this._gallery=new g.default(this.config,this._productForm,this.conditionsEngine,{api:this.settings.api,assets:this.settings.assets,selector:this.settings.selectorPreview,selectorThumbnail:this.settings.selectorThumbnail,position:this.settings.positionPreview,sticky:this.settings.stickyPreview,stickyMobile:this.settings.stickyPreviewMobile,product:this.settings.product,variantId:this._variantId,editorMode:this.settings.editorMode,galleryConfig:this.config.previewConfig.galleryConfig}),this._gallery.ready.then(function(e){t._preview=t._gallery._preview}),this._gallery.element.addEventListener("preview:active",function(){t._preview=t._gallery._preview})):this._preview=new a.default(this.config,this.config.previewConfig,this._productForm,this.conditionsEngine,{api:this.settings.api,assets:this.settings.assets,selector:this.settings.selectorPreview,selectorThumbnail:this.settings.selectorThumbnail,position:this.settings.positionPreview,sticky:this.settings.stickyPreview,stickyMobile:this.settings.stickyPreviewMobile,product:this.settings.product,variantId:this._variantId,editorMode:this.settings.editorMode})}},{key:"_renderPreview",value:function(){var t=this;this.config.preview&&(this._gallery&&this._gallery.ready?this._gallery.ready.then(function(){return t._gallery._previews.forEach(function(t){return t.renderPreview()})}):this._preview&&this._preview.ready&&this._preview.ready.then(function(){return t._preview.renderPreview()}))}},{key:"_destroyPreview",value:function(){this._gallery?(this._gallery.destroy(),delete this._gallery):this._preview&&this._preview.destroy(),delete this._preview}},{key:"_getPreviews",value:function(){return this._gallery?this._gallery._previews:this._preview?[this._preview]:[]}},{key:"_isExportPreview",value:function(t){var e=t.previewConfig.export&&(t.previewConfig.exportConfig.thumbnail||t.previewConfig.exportConfig.original);if(!e)for(var i=0;i<t.previewConfig.layers.length;i++){var r=t.previewConfig.layers[i];if(r.params.crop&&"upload"===r.type)return!0}return e}},{key:"_hasExportPreviews",value:function(){for(var t=this._getPreviews(),e=0;e<t.length;e++)if(this._isExportPreview(t[e]))return!0;return!1}},{key:"_exportPreview",value:function(t,e){var r=this,n=[],o=t.previewConfig;if(o.export){if(o.exportConfig.original){e.value=5;var s=!(!o.exportConfig.crop||!o.exportConfig.cropConfig.width)&&o.exportConfig.cropConfig,a=t.export({width:o.width,height:o.height},s,!0,"excludeOriginal","png");if(a){var l=this._upload._fileMeta.fromBlob(a,"preview_original.png");l.meta.variant="original",l.meta.property=o.exportConfig.originalProperty,n.push(l)}e.value=10}if(o.exportConfig.thumbnail){e.value=10;var p=t.export({width:o.exportConfig.thumbnailWidth,height:o.exportConfig.thumbnailHeight},!1,!0,"excludeThumbnail","png",.8);if(p){var h=this._upload._fileMeta.fromBlob(p,"preview_thumbnail.png");h.meta.variant="thumbnail",h.meta.property=o.exportConfig.thumbnailProperty,n.push(h)}e.value=15}}for(var u=0;u<t.previewConfig.layers.length;u++){var c=t.previewConfig.layers[u];if(c.params.crop&&"upload"===c.type){var d="jpeg";c._url&&-1!==c._url.indexOf(".png")&&(d="png");var v=t.exportLayer(c.name,!0,d,.8);if(v){var f=c.params.option||c.name,g=this._upload._fileMeta.fromBlob(v,f+"_crop."+d);g.meta.variant="original",g.meta.property=f,n.push(g)}}}return n.length>0?this._upload.upload(n,function(t){if(t.lengthComputable){var i=t.loaded/t.total*100;i>e.value&&(e.value=i)}}).then(function(t){for(var e=0;e<t.length;e++){var n=t[e];r._setFormProperty(n.meta.property,n.url)}i.debug("export preview uploads:",t)}):(this._removeFormProperty(o.exportConfig.originalProperty),this._removeFormProperty(o.exportConfig.thumbnailProperty),Promise.resolve())}},{key:"_initTooltips",value:function(){var t=this._wrapper.querySelectorAll('[data-tippy-content]:not(.init):not([data-tippy-content=""])');if(t.length>0){this._tippyInstances||(this._tippyInstances=[]);for(var e=0;e<t.length;e++){var i=t[e],r=i.getAttribute("data-tippy-content"),n=-1!==r.indexOf("<")&&-1!==r.indexOf(">");this._tippyInstances.push((0,o.default)(i,{allowHTML:!0,maxWidth:350,interactive:n,appendTo:document.body})),i.classList.add("init")}}}},{key:"_destroyTooltips",value:function(){if(null!=this._tippyInstances)for(var t=0;t<this._tippyInstances.length;t++){var e=this._tippyInstances[t];e.reference.classList.remove("init"),e.destroy()}}},{key:"_restoreCartItem",value:function(){var e=this,r=t.default.getQueryParam(window.location.href,"item");this.shopifyCart.getCart(!0).then(function(t){for(var n=0;n<t.items.length;n++){var o=t.items[n];if(o.key===r&&o.properties){i.debug("restoring cart item values: ",o.properties),e.setValues(o.properties),e.render(),e._renderPreview(),u.ThemeConfig.productItemModal&&"function"!=typeof HTMLDialogElement&&(e._dialogPolyfill=f.default.loadOnce([e.settings.assets+"/static/lib/dialog/dialog-polyfill.min.js",e.settings.assets+"/static/lib/dialog/dialog-polyfill.min.css"],"dialog",{async:!1})),e._itemKey=r;break}}})}}]),_}(),T=V;exports.default=T;
},{"./util":"zY0S","./translate":"IkY8","loglevel":"ohSP","./shopify-store":"cEki","lit-html":"KMqM","tippy.js":"ndpH","tippy.js/dist/tippy.css":"T0Ik","./style/style.css":"T0Ik","./template/product-options.template":"kRzK","./product-preview":"wweK","./conditions-engine":"Uk2d","./upload/upload":"k2Pi","./shopify-cart":"ydp9","./const":"QqYi","@shopify/theme-currency":"jUSW","./cart-options-price":"Qfvf","./product-variant-options":"nk7O","./resource-loader":"U86w","./product-gallery":"C7lD","./config-translate":"V7lU"}],"Mrl1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n,t,e,l,c,s,i=require("lit-html"),o=require("lit-html/directives/live"),r=require("lit-html/directives/class-map"),u=require("../const");function p(n,t){return t||(t=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(t)}}))}var a=function(a,d,v,h,w){return(0,i.html)(n||(n=p(["\n    \n    ","\n"])),a.type!==u.DiscountType.AUTO?(0,i.html)(t||(t=p(['\n    <div class="cl-po--discount">\n        <div class="cl-po--discount-input">\n            <input type="text" placeholder=',' class="','" .value='," @input="," />\n            <button @click=",">\n                ","\n            </button>\n        </div>\n        ","\n       \n        ","\n    </div>\n    "])),d.placeholder,(0,r.classMap)({"cl-po--invalid":d.error}),(0,o.live)(d.code),function(n){return w(n)},function(n){return v(n)},d.loading?(0,i.html)(e||(e=p(['<svg class="cl-po--icon loading" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M20 10c0 5.523-4.477 10-10 10S0 15.523 0 10 4.477 0 10 0v2c-4.418 0-8 3.582-8 8s3.582 8 8 8 8-3.582 8-8h2z"></path></svg>']))):d.button,d.error?(0,i.html)(l||(l=p([' <p class="cl-po--discount-error">',"</p>"])),d.error):null,a.valid?(0,i.html)(c||(c=p(['\n        <div class="cl-po--discount-wrap">\n            <input type="hidden" name="discount" .value=',' />\n            \n            <div class="cl-po--discount-tag">\n                <svg class="cl-po--icon tag" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18"><path d="M17.78 3.09C17.45 2.443 16.778 2 16 2h-5.165c-.535 0-1.046.214-1.422.593l-6.82 6.89c0 .002 0 .003-.002.003-.245.253-.413.554-.5.874L.738 8.055c-.56-.953-.24-2.178.712-2.737L9.823.425C10.284.155 10.834.08 11.35.22l4.99 1.337c.755.203 1.293.814 1.44 1.533z" fill-opacity=".55"></path><path d="M10.835 2H16c1.105 0 2 .895 2 2v5.172c0 .53-.21 1.04-.586 1.414l-6.818 6.818c-.777.778-2.036.782-2.82.01l-5.166-5.1c-.786-.775-.794-2.04-.02-2.828.002 0 .003 0 .003-.002l6.82-6.89C9.79 2.214 10.3 2 10.835 2zM13.5 8c.828 0 1.5-.672 1.5-1.5S14.328 5 13.5 5 12 5.672 12 6.5 12.672 8 13.5 8z"></path></svg>\n                <span>',"</span>\n                <button @click=",'>\n                    <svg class="cl-po--icon remove" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 13 13"><path d="M1.5 1.5l10.05 10.05M11.5 1.5L1.45 11.55" stroke-width="2" fill="none" fill-rule="evenodd" stroke-linecap="round"></path></svg>\n                </button>\n            </div>\n    \n            ',"\n        </div>\n        "])),(0,o.live)(a.code),a.code,function(n){return h(n)},d.success?(0,i.html)(s||(s=p([' <p class="cl-po--discount-success">',"</p>"])),d.success):null):null):null)},d=a;exports.default=d;
},{"lit-html":"KMqM","lit-html/directives/live":"i5N8","lit-html/directives/class-map":"zFN9","../const":"QqYi"}],"XdHT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=v(require("./util")),t=v(require("./shopify-store")),r=v(require("./shopify-cart")),i=v(require("./ajax-watch")),o=v(require("./request")),n=g(require("loglevel")),a=v(require("./translate")),s=v(require("./product-options")),c=v(require("./conditions-engine")),u=v(require("./font-loader")),l=require("./const"),d=require("@shopify/theme-currency"),p=v(require("./cart-options-price")),f=require("lit-html"),h=v(require("./template/discount-code.template"));function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(m=function(e){return e?r:t})(e)}function g(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=m(t);if(r&&r.has(e))return r.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var a=o?Object.getOwnPropertyDescriptor(e,n):null;a&&(a.get||a.set)?Object.defineProperty(i,n,a):i[n]=e[n]}return i.default=e,r&&r.set(e,i),i}function v(e){return e&&e.__esModule?e:{default:e}}function y(e){return I(e)||w(e)||C(e)||_()}function _(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function C(e,t){if(e){if("string"==typeof e)return P(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?P(e,t):void 0}}function w(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function I(e){if(Array.isArray(e))return P(e)}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function k(e,t,r){return t&&b(e.prototype,t),r&&b(e,r),e}var O=function(){function u(i){var o=this;T(this,u),this.config=i,this.products=[],this.shopifyStore=t.default.getInstance();var s={};if(a.default.locale&&-1!==window.location.pathname.toLowerCase().indexOf("/"+a.default.locale.toLowerCase())&&(s.api="/"+a.default.locale.toLowerCase()),this.shopifyCart=r.default.getInstance(s),this.conditionsEngine=new c.default,this.currency=l.ThemeCurrency,this.config.theme)for(var d in this.config.theme)this.config.theme.hasOwnProperty(d)&&(l.ThemeConfig[d]=this.config.theme[d]);for(var p in this.shopifyStore.isTheme("Dawn")&&(l.ThemeConfig.productPriceObserver=!0),this.config.currencyFormats)if(this.config.currencyFormats.hasOwnProperty(p)){var f=this.config.currencyFormats[p];-1!==f.indexOf("&")&&(f=e.default.decodeHtml(this.config.currencyFormats[p])),"moneyWithCurrencyFormat"===p&&(p="moneyFormatWithCurrency"),l.ThemeCurrency[p]=f}if(window.theme)for(var h in l.ThemeCurrency)window.theme.hasOwnProperty(h)&&(l.ThemeCurrency[h]=window.theme[h]);void 0!==window.clPriceDraft&&(this.config.priceDraft=window.clPriceDraft),this.config.setup&&(/complete|interactive|loaded/.test(document.readyState)?this.setup():(n.debug("---\x3e document not ready ("+document.readyState+") => waiting for DOMContentLoaded"),document.addEventListener("DOMContentLoaded",function(){return o.setup()},!1)),this.shopifyStore.onThemeSectionEvent("load",function(e){o.setup()}))}return k(u,[{key:"setup",value:function(){var e=this;this.destroy(),this.shopifyStore.parseProductJsonElements(),this.shopifyStore.tryGetProductMap().then(function(t){for(var r=0;r<e.config.configs.length;r++){var i=e.config.configs[r];if(n.debug("-> evaluating options-config:",i.uuid),0===i.targetMode){var o=[{data:"product",field:"product",products:[i.product]}];for(var a in t)if(t.hasOwnProperty(a)){var s=t[a];e._evaluateProductTargeting(i,s,o,1)}}else if(0===i.conditionMode){if(e.shopifyStore.isProduct()){var c=t[e.shopifyStore.getHandleFromUrl()+".js"];c&&e._evaluateProductTargeting(i,c,[],0)}}else if(i.conditions.length>0)for(var u in t)if(t.hasOwnProperty(u)){var l=t[u];e._evaluateProductTargeting(i,l,i.conditions,i.conditionMode)}}}),this.config.setup&&this.config.configs.length>0&&(this._watchCartItems(),this._watchFormSubmit())}},{key:"destroy",value:function(){for(;this.products.length;){this.products.pop().destroy()}}},{key:"_evaluateProductTargeting",value:function(e,t,r,i){this.conditionsEngine.data.product=t;var o=this.conditionsEngine.evaluateConditions(r,i,"config.uuid="+e.uuid);if(o){var a="#product_form_"+t.id;a+=', [data-product-form="'+t.id+'"]',(o=this._createProductOptions(e,t,a))||(o=this._createProductOptions(e,t))}n.debug("--\x3e evaluated options-config:",e.uuid,t,o)}},{key:"_createProductOptions",value:function(t,r,i){for(var o=0;o<this.products.length;o++){var a,c=this.products[o];if(c.settings.product.id===r.id)return n.debug("-> MERGING options with existing productOptions for product.id: "+r.id,t.options),c._generateOptionIds(t.options,"option_"+r.id+"_"),c._translate&&(c._translate.config=t,c._translate.translate()),(a=c.config.options).push.apply(a,y(t.options)),c.render(),!0}i||(i='form[action*="/cart/add"]:not(#product-form-installment)');var u=1===this.config.locationMode?this.config.selector:"",l=1===this.config.locationMode?this.config.position:void 0,d=this._findOrCreateContainer(u,r,i);if(d){var p,f=JSON.parse(JSON.stringify(t)),h=1===this.config.previewLocationMode?this.config.previewSelector:"",m=1===this.config.previewLocationMode?this.config.previewPosition:void 0;p=e.default.isNodeList(d)?d:[d];for(var g=0;g<p.length;g++){var v=p[g],_=f.preview?this._findOrCreatePreviewContainer(h,r,f.previewConfig):void 0;this.products.push(new s.default(f,{api:this.config.api,assets:this.config.assets,queryParams:{shop:this.config.shop},selector:v,position:l,selectorPreview:_,positionPreview:m,selectorThumbnail:this.config.previewImgThumbnailSelector,stickyPreview:this.config.previewSticky,stickyPreviewMobile:this.config.previewStickyMobile,product:r,priceDraft:this.config.priceDraft,priceVariantId:this.config.priceVariantId,priceVariantValue:this.config.priceVariantValue}))}return!0}return!1}},{key:"_findOrCreateContainer",value:function(e,t,r){var i,o;if(r&&(o=document.querySelector(r)),e)return o&&(i=o.querySelectorAll(e)).length>0?(n.debug("using container in form with provided selector:",r,e,i),i):(i=document.querySelectorAll(e)).length>0?(n.debug("using container with provided selector:",e,i),i):(n.debug("no container found with selector:",e),null);if(null!=(i=document.querySelector('[data-live-options="'+t.id+'"]')))return n.debug("using default container with selector: [data-live-options]"),i;if(o){var a=o.querySelector("[type=submit],.add_to_cart,.btn.add-to-cart");return(i=document.createElement("div")).className="inject",i.style.width="100%",a?a.parentNode.insertBefore(i,a):o.insertBefore(i,o.firstChild),n.debug("injected container into form:",o),i}return null}},{key:"_findOrCreatePreviewContainer",value:function(t,r,i){var o;!t&&this.shopifyStore.isTheme("Dawn")&&(t=i.gallery?"slider-component":"slider-component ul li:first-child",n.debug("--\x3e Dawn theme auto updated preview selector to:",t));var a=!0;if(t||(t='[data-live-preview="'+r.id+'"]',a=!1),t){var s=document.querySelectorAll(t);if(s.length>0){if(s.length>1)for(var c=0;c<s.length&&(-1===(o=s[c]).className.indexOf(r.id)&&o.dataset.livePreview!=r.id);c++);else o=s[0];n.debug("using container preview with provided selector:",t,o)}if(a&&!o)return n.error("no container preview found with selector:",t),null}if(!o){var u;if(r.media&&r.media.length){var l=0;if(i&&i.layers.length)for(var d=0;d<i.layers.length;d++){var p=i.layers[d];if("product"===p.type){p.params.imgPos&&r.media.length>p.params.imgPos-1&&(l=p.params.imgPos-1);break}}u=r.media[l]}else r.featured_image&&(u={src:r.featured_image});if(u){var f=this.config.previewImgParent,h=this.config.previewImgParentSelector,m=e.default.pathBaseName(u.src,!1),g=[];if(this.config.previewImgMainSelector&&(g=document.querySelectorAll(this.config.previewImgMainSelector)),0===g.length&&(g=document.querySelectorAll('img[src*="'+m+'"], img[data-src*="'+m+'"], img[data-srcset*="'+m+'"]')),g.length>0){if(n.debug("found main product images:",g),1===g.length)o=g[0];else for(var v=Number.MAX_VALUE,y=-1,_=0;_<g.length;_++){var C=g[_],w=C.offsetWidth*C.offsetHeight;if(0===w&&C.src){var I=this.shopifyStore.parseImageDimension(C.src);w=I.x*I.y}var P=e.default.pathBaseName(C.src||C.dataset.src||C.dataset.srcset,!1),T=(P=this.shopifyStore.stripImageDimension(P)).replace(m,"").length;T<v?(v=T,y=w,o=C):T===v&&w>y&&(y=w,o=C)}var b;if(n.debug("selected auto preview img:",o),h&&(b=e.default.findParent(o,h)),null!=b)o=b,n.debug("using auto preview container with parent selector:",h,o);else if(o){1===f&&(o.parentElement&&null!==o.parentElement.getAttribute("data-zoom")||-1!==o.parentElement.id.indexOf("Zoom")||-1!==o.parentElement.className.indexOf("modal"))&&(f=2);for(var k=0;k<f;k++)o=o.parentElement;n.debug("using auto preview container with parent:",f,o)}}else n.debug("failed to find main product image:",m)}}if(o)for(o.style.minHeight||(o.style.minHeight="1px");o.firstChild;)o.removeChild(o.lastChild);else n.warn("[live-options] no preview container found");return o}},{key:"_watchFormSubmit",value:function(){var e=this;this.config.priceDraft&&this.shopifyStore.onCartFormSubmit(function(t){return e._handleFormSubmit(t)},l.ThemeConfig.cartFormCapture);var t=document.querySelectorAll("[data-live-enabled]");if(t.length)for(var r=0;r<t.length;r++){var i=t[r];!0===i.disabled&&(i.disabled=!1),"none"===i.style.display&&(i.style.display="block")}}},{key:"_handleFormSubmit",value:function(e){var t=this;if(this._cartTotalDiff){if(e.submitter&&e.submitter.name&&"update"===e.submitter.name)return;if(e.preventDefault(),e.stopImmediatePropagation(),this._checkoutRequest)return void n.warn("checkout is processing");try{var r=this._getCheckout(e.target);return this._checkoutRequest=new o.default(this.config.api+"/api/checkout",{method:"POST",data:{checkout:r},responseType:"json",headers:{"Content-type":"application/json"},queryParams:{shop:this.config.shop}}),this._checkoutRequest.then(function(e){n.debug("[live-options-api] checkout response",e.data),window.location.href=e.data.url}).catch(function(e){e.xhr&&0===e.xhr.status||(n.error("[live-options-api] checkout error",e),window.location.href="/checkout")}).finally(function(){delete t._checkoutRequest})}catch(i){n.error("[live-options] checkout error",i),window.location.href="/checkout"}}}},{key:"_getCheckout",value:function(e){for(var t=[],r={},i=0;i<this._cart.items.length;i++){var o=this._cart.items[i];if(o.properties&&o.properties.hasOwnProperty(l.CartItemProperties.PRICE)&&o.properties.hasOwnProperty(l.CartItemProperties.ID)){var n=o.properties[l.CartItemProperties.ID],a=p.default.getItem(n);a&&(r[n]=a.properties)}var s=this.shopifyCart.toItem(o.id,o.quantity,o.properties);s.productTitle=o.product_title,s.productId=o.product_id,t.push(s)}this._discount||(this._discount=this._getDiscount());var c,u={};if(e){var d=e.querySelectorAll('[name*="attributes"]');if(d.length)for(var f=0;f<d.length;f++){var h=d[f],m=h.getAttribute("name");u[m=(m=m.replace("attributes","")).substr(1,m.length-2)]=h.value}var g=e.querySelector('[name="note"]');g&&(c=g.value)}return{items:t,options:r,optionsTitle:this.config.priceDraftTitle,optionsShipping:!0===this.config.priceDraftShipping,optionsTaxable:!0!==this.config.priceDraftTaxFree,note:c,attributes:u,discount:0!==this._discount.type?this._discount:null,currency:this._cart.currency,total:this._cartTotal}}},{key:"_getDiscount",value:function(){for(var e={type:l.DiscountType.NONE},t=0;t<this._cart.items.length;t++){var r=this._cart.items[t];r.discounts&&r.discounts.length&&(e.type=l.DiscountType.AUTO,e.code=r.discounts[0].title)}if(0===e.type){var i=this.shopifyStore.getDiscountCode();i&&(e.type=l.DiscountType.CODE,e.code=i)}return e}},{key:"_watchCartItems",value:function(){var t=this;if(window.theme&&window.theme.Cart&&window.theme.Cart.prototype&&window.theme.Cart.prototype._setProductDetailsList){var r=window.theme.Cart.prototype._setProductDetailsList;window.theme.Cart.prototype._setProductDetailsList=function(e,t){r(e,t.filter(function(e){return e}))}}this._processCartItems();var o=e.default.debounced(1e3,function(){return t._processCartItems()});i.default.register(function(e){/.*cart.*/.test(e.url)&&((e.method&&"POST"===e.method.toString().toUpperCase()||-1!==e.url.indexOf("/cart/add.js")||-1!==e.url.indexOf("/cart/change.js"))&&delete t.shopifyCart.cache,o())});setTimeout(function(){return o()},2e3)}},{key:"_processCartItems",value:function(){var e=this;this.shopifyCart.getCart(!0).then(function(t){e._cart=t,e._cartCount=0,e._cartTotal=0;for(var r=0;r<t.items.length;r++){var i=t.items[r];if(!e._processCartItem(t,i,r))return}e._patchCartCount(t),e._patchCartTotal(t),e._checkDiscount(t),-1!==l.ThemeCurrency.moneyFormat.indexOf("class")&&window.dispatchEvent(new Event("resize"))})}},{key:"_processCartItem",value:function(t,r,i){var o=this,s=r.quantity,c=r.original_line_price;if(r.properties){var u=!1;if((r.properties.hasOwnProperty(l.CartItemProperties.OPTIONS)||r.properties.hasOwnProperty(l.CartItemProperties.ID))&&(u=!0),u){if(!this.config.priceDraft&&r.properties.hasOwnProperty(l.CartItemProperties.ID)&&l.CartItemProperties.VALIDATE&&!this._validateCartItemOptionsPrice(t,r))return!1;for(var f=this._resolveCartItemEl(t,r),h=function(i){var u=f[i];if(r.properties.hasOwnProperty(l.CartItemProperties.OPTIONS)||(s=0),u){if(r.properties._preview){var h=u.querySelector("[data-live-item-image]");if(!h&&l.ThemeConfig.cartItemPreview){var m=e.default.pathBaseName(r.image,!1);h=u.querySelector('img[src*="'+m+'"], img[data-src*="'+m+'"], img[data-srcset*="'+m+'"]')}h&&(h.src=r.properties._preview,h.hasAttribute("srcset")&&h.removeAttribute("srcset"))}if(!window.Cloudlift.upload)for(var g in r.properties)if(r.properties.hasOwnProperty(g)){var v=r.properties[g];if("string"==typeof v&&-1!==v.indexOf("cloudlift.app")){var y=e.default.findElementContainsText("*",v,u);if(y.length>0){var _=y[y.length-1],C=document.createElement("span");C.className="cl-prop",C.innerHTML=_.textContent.replace(v,'<a href="'+v+'" target="_blank" style="cursor:pointer;border:0;">'+a.default.get("product.options.file.link")+"</a>"),_.parentNode.replaceChild(C,_)}}}var w=u.querySelector("[data-live-item-edit]");if(!w&&l.ThemeConfig.cartItemEdit){var I=u.querySelector('a[href*="/cart/change"]');if(null!=I){(w=document.createElement("a")).style.padding="5px 10px",w.style.border="1px solid #d1d5db",w.style.borderRadius="3px",w.innerText=a.default.get("product.options.item.edit"),w.dataset.liveItemEdit="1";var P=document.createElement("div");P.style.padding="10px 0",P.appendChild(w),I.parentNode.insertBefore(P,I)}}if(w){var T=r.url+"&item="+r.key;"A"===w.tagName?w.href=T:w.addEventListener("click",function(){return window.location.href=T})}if(l.ThemeConfig.cartItemClOptions)for(var b in r.properties)if(r.properties.hasOwnProperty(b)&&b.startsWith(l.CartItemProperties.OPTIONS)&&-1!==u.innerHTML.indexOf(b)){var k=e.default.findElementContainsRegex("*",new RegExp("".concat(b,".*").concat(r.properties[b]),"s"),u);if(k.length>0){var O=k[k.length-1],S=!0;for(var D in r.properties)if(r.properties.hasOwnProperty(D)&&-1!==O.innerHTML.indexOf(D)){S=!1;break}if(S)O.parentNode.removeChild(O);else{var x=String(r.properties[b]),E=O.innerHTML.indexOf(b),M=O.innerHTML.indexOf(x)+x.length;O.innerHTML=O.innerHTML.replace(O.innerHTML.slice(E,M),"")}}}if(r.properties[l.CartItemProperties.ID])if(r.properties.hasOwnProperty(l.CartItemProperties.OPTIONS)){if(r.properties[l.CartItemProperties.PRICE]){var q=l.ThemeCurrency.moneyFormat,N=o.shopifyStore.trimMoneyFormatAmount(l.ThemeCurrency.moneyFormat),L=parseInt(r.properties[l.CartItemProperties.PRICE]);o.config.priceDraft&&(c=r.original_line_price+L*r.quantity);var A=function(t){var r=(0,d.formatMoney)(t,N),i=e.default.findElementContainsText("*",r,u);return 0===i.length&&(n.debug("no itemPrice elements found for price:",r),l.ThemeConfig.amountNoDecimals&&(r=(0,d.formatMoney)(t,"{{ amount_no_decimals }}"),n.debug("fallback {{ amount_no_decimals }} price: ",r),i=e.default.findElementContainsText("*",r,u))),i.length?i[i.length-1]:null},H=u.querySelector("[data-live-item-final-price]");!H&&l.ThemeConfig.cartItemPrice&&(H=A(r.final_price)),H&&(n.debug("---\x3e found item.final_price element",H),H.innerHTML=(0,d.formatMoney)(r.final_price+L,q)),!(H=u.querySelector("[data-live-item-original-price]"))&&l.ThemeConfig.cartItemPrice&&(H=A(r.original_price)),H&&(n.debug("---\x3e found item.original_price element",H),H.innerHTML=(0,d.formatMoney)(r.original_price+L,q)),!(H=u.querySelector("[data-live-item-final-line-price]"))&&l.ThemeConfig.cartItemPrice&&(H=A(r.final_line_price)),H&&(n.debug("---\x3e found item.final_line_price element",H),H.innerHTML=(0,d.formatMoney)(r.final_line_price+L*r.quantity,q)),!(H=u.querySelector("[data-live-item-original-line-price]"))&&l.ThemeConfig.cartItemPrice&&(H=A(r.original_line_price)),H&&(n.debug("---\x3e found item.line_price element",H),H.innerHTML=(0,d.formatMoney)(r.original_line_price+L*r.quantity,q))}var F;if(l.ThemeConfig.cartItemPriceOptions)if(null!=(F=o.config.priceDraft?p.default.getItem(r.properties[l.CartItemProperties.ID]):o._findCartItemByProperty(t,l.CartItemProperties.ID,r.properties[l.CartItemProperties.ID],r.key))&&F.properties)for(var j in F.properties)if("_"!==j.charAt(0)&&F.properties.hasOwnProperty(j)&&r.properties.hasOwnProperty(j)){var R=e.default.findElementContainsRegex("*",new RegExp("".concat(e.default.escapeRegex(j),".*").concat(e.default.escapeRegex(r.properties[j])),"s"),u);if(R.length>0){var B=R[R.length-1],V=j.replace(/^[^a-zA-Z]+|[^\w]+/g,""),W="p"+V.charAt(0).toUpperCase()+V.slice(1);B.dataset[W]||(n.debug("--\x3e found element to display options price for property: "+j,B),B.innerHTML=B.innerHTML.replace(r.properties[j],r.properties[j]+" | "+F.properties[j]),B.dataset[W]="1")}}}else u.parentNode&&u.parentNode.removeChild(u)}else r.properties.hasOwnProperty(l.CartItemProperties.OPTIONS)&&n.debug("--\x3e no cart item node found for item: ",r)},m=0;m<f.length;m++)h(m)}}return this._cartCount+=s,this._cartTotal+=c,!0}},{key:"_findCartItemByProperty",value:function(e,t,r,i){for(var o=0;o<e.items.length;o++){var n=e.items[o];if((!i||n.key!==i)&&(n.properties&&n.properties.hasOwnProperty(t)&&n.properties[t]===r))return n}return null}},{key:"_validateCartItemOptionsPrice",value:function(e,t){var r=this,i=this._findCartItemByProperty(e,l.CartItemProperties.ID,t.properties[l.CartItemProperties.ID],t.key);if(!i)return n.warn("[live-options] missing cart item options_id : "+t.properties[l.CartItemProperties.ID]+" => removing cartItem",t),this.shopifyCart.removeItem(this.shopifyCart.getItemLine(e,t)).then(function(){return window.location.reload()}),!1;if(t.properties.hasOwnProperty(l.CartItemProperties.PRICE)){var o=parseInt(t.properties[l.CartItemProperties.PRICE]),a=o*t.quantity;if(a!==i.original_line_price){var s=Math.round(a/i.original_price),c=Math.round(i.original_price*s/t.quantity),u=Promise.resolve();return c!==o&&(t.properties[l.CartItemProperties.PRICE]=c,u=this.shopifyCart.updateItem(this.shopifyCart.getItemLine(e,i),{quantity:t.quantity,properties:t.properties})),u.then(function(){return r.shopifyCart.updateItem(r.shopifyCart.getItemLine(e,i),{quantity:s})}).finally(function(){window.location.reload()}),!1}}return!0}},{key:"_resolveCartItemEl",value:function(t,r){for(var i=[],o=['[data-live-item-key="'+r.key+'"]','[data-cart-item-key="'+r.key+'"]','[data-key="'+r.key+'"]',".cart_item_"+r.id],a=0;a<o.length;a++){var s=o[a];if((i=document.querySelectorAll(s)).length)return i}if(r.image&&l.ThemeConfig.cartItem){var c;n.debug("--\x3e [cart-item] image fallback ",r);var u=e.default.pathBaseName(r.image,!1),d=document.querySelectorAll('img[src*="'+u+'"], img[data-src*="'+u+'"], img[data-srcset*="'+u+'"]');if(d.length>0){for(var p=0;p<d.length;p++){var f=d[p],h=e.default.findParent(f,"form");if(h)for(var m=f;m!==h;){if(-1!==m.innerHTML.indexOf(r.key)){var g=!0;if(t.items.length>1)for(var v=0;v<t.items.length;v++){var y=t.items[v];if(y!==r&&-1!==m.innerHTML.indexOf(y.key)){g=!1;break}}if(g)return m.dataset.liveItemKey=r.key,n.debug("auto resolved cart item node ",m),[m];break}m=m.parentElement}else if(1===d.length)return[f.parentNode]}c=d[0].parentNode,n.debug("fallback cart item parent ",c)}return[c]}return i}},{key:"_patchCartCount",value:function(t){for(var r=t.item_count,i=[],o=["[data-live-cart-count]","[data-cart-count]"],a=0;a<o.length;a++){var s=o[a],c=document.querySelectorAll(s);c.length&&i.push.apply(i,y(c))}for(var u=0;u<i.length;u++){var d=i[u];n.debug("--\x3e found cart count element to patch count: "+r+"  => "+this._cartCount,d),d.innerText=this._cartCount}if(l.ThemeConfig.cartCount&&r!==this._cartCount)for(var p=e.default.findElementContainsRegex("*",new RegExp("^.{0,3}".concat(r,".{0,3}$"),"s")),f=0;f<p.length;f++){var h=p[f];n.debug("--\x3e found cart count element to replace path count: "+r+"  => "+this._cartCount,h),h.innerHTML=h.innerHTML.replace(r,this._cartCount)}}},{key:"_patchCartTotal",value:function(t){if(this.config.priceDraft){var r=t.total_price,i=[];this._cartTotalDiff=t.original_total_price!==this._cartTotal,this._cartTotal-=t.total_discount;for(var o=(0,d.formatMoney)(this._cartTotal,l.ThemeCurrency.moneyFormatWithCurrency),a=["[data-live-cart-total]",".totals__subtotal-value"],s=0;s<a.length;s++){var c=a[s],u=document.querySelectorAll(c);u.length&&i.push.apply(i,y(u))}for(var p=0;p<i.length;p++){var f=i[p];n.debug("--\x3e found cart total element to patch total: "+r+" => "+this._cartTotal,f),f.innerHTML=o}if(l.ThemeConfig.cartTotal&&this._cartTotalDiff){var h=this.shopifyStore.trimMoneyFormatAmount(l.ThemeCurrency.moneyFormat),m=(0,d.formatMoney)(r,h),g=e.default.findElementContainsText('form[action*="/cart"]:not(form[action*="/cart/add"]) *, form[action*="/checkout"] *',m);if(0===g.length&&(n.debug("no priceTotal elements found for price:",m),l.ThemeConfig.amountNoDecimals&&(m=(0,d.formatMoney)(r,"{{ amount_no_decimals }}"),n.debug("fallback {{ amount_no_decimals }} price: ",m),g=e.default.findElementContainsText('form[action*="/cart"]:not(form[action*="/cart/add"]) *, form[action*="/checkout"] *',m))),g.length){var v=g[g.length-1];n.debug("---\x3e found cart.total_price element",v),v.innerHTML=o}}if(this._cartTotalDiff&&(this._checkoutBtns=this.shopifyStore.findExpressDynamicCheckoutCart(),this._checkoutBtns.length))for(var _=0;_<this._checkoutBtns.length;_++){this._checkoutBtns[_].style.display="none"}}}},{key:"_checkDiscount",value:function(){if(this._discountEl=document.querySelector("[data-live-discount]"),!this._discountEl&&l.ThemeConfig.cartDiscount){var t=this.shopifyStore.trimMoneyFormatAmount(l.ThemeCurrency.moneyFormat),r=(0,d.formatMoney)(this._cartTotal,t),i=e.default.findElementContainsText('form[action*="/cart"]:not(form[action*="/cart/add"]) *, form[action*="/checkout"] *',r);if(i.length)for(var o=i[i.length-1].parentNode;o;){if("P"!==o.tagName){var n=getComputedStyle(o).display;if("block"===n||"flex"===n){this._discountEl=document.createElement("div"),this._discountEl.dataset.liveDiscount="1",o.insertBefore(this._discountEl,o.firstChild);break}}o=o.parentNode}}if(null!=this._discountEl){var s=this._getDiscount();if(s.type===l.DiscountType.AUTO&&(s.valid=!0,delete this._discount),(!this._discount||this._discount.code!==s.code)&&(this._discount=s,this._discountInput={code:"",loading:!1,button:a.default.get("product.options.discount.button"),placeholder:a.default.get("product.options.discount.placeholder")},this._discount.type!==l.DiscountType.NONE)){if(window.localStorage){var c=localStorage.getItem("cl_discount");if(c){var u=JSON.parse(c);u.code===this._discount.code&&(this._discount=u)}}this._discount.valid||(this._discountInput.code=this._discount.code,this._applyDiscount())}this._renderDiscount()}}},{key:"_removeDiscount",value:function(e){e&&(e.preventDefault(),e.stopImmediatePropagation()),this._discount.type=l.DiscountType.NONE,this._discount.code="",this._discount.valid=!1,this.shopifyStore.removeDiscountCode(),this._renderDiscount()}},{key:"_applyDiscount",value:function(e){var t=this;if(e&&(e.preventDefault(),e.stopImmediatePropagation()),this._discountInput.code){this._discount.type=l.DiscountType.CODE,this._discount.code=this._discountInput.code,this._discount.valid=!1,this._discountInput.loading=!0,this._discountInput.error="",this._discountInput.success="";var r=this._getCheckout(),i=new o.default(this.config.api+"/api/checkout/discount",{method:"POST",data:{checkout:r},responseType:"json",headers:{"Content-type":"application/json"},queryParams:{shop:this.config.shop}});return this._renderDiscount(),i.then(function(e){t._discountInput.loading=!1,e.data?(t._discount=e.data,t._discount.valid=!0,t._discountInput.code="",window.localStorage&&localStorage.setItem("cl_discount",JSON.stringify(t._discount)),t.shopifyStore.saveDiscountCode(t._discount.code),t._discountInput.success=a.default.get("product.options.discount.valid")):t._discountInput.error=a.default.get("product.options.discount.invalid"),t._renderDiscount(),n.debug("[live-options-api] checkout discount response",e.data)}).catch(function(e){t._discountInput.loading=!1,t._discountInput.error="Please try again",t._renderDiscount(),n.error("[live-options-api] checkout discount error",e)})}}},{key:"_renderDiscount",value:function(){var e=this;(0,f.render)((0,h.default)(this._discount,this._discountInput,this._applyDiscount.bind(this),this._removeDiscount.bind(this),function(t){e._discountInput.code=t.target.value,e._discountInput.error&&(e._discountInput.error="",e._renderDiscount())}),this._discountEl)}},{key:"_findPriceEl",value:function(t,r,i){var o=(0,d.formatMoney)(t,i),n=e.default.findElementContainsText("*",o,r);return n.length?n[n.length-1]:null}}]),u}(),S=O;exports.default=S;
},{"./util":"zY0S","./shopify-store":"cEki","./shopify-cart":"ydp9","./ajax-watch":"XoAR","./request":"mx8w","loglevel":"ohSP","./translate":"IkY8","./product-options":"RI7z","./conditions-engine":"Uk2d","./font-loader":"G9B6","./const":"QqYi","@shopify/theme-currency":"jUSW","./cart-options-price":"Qfvf","lit-html":"KMqM","./template/discount-code.template":"Mrl1"}],"Mv9D":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.initTemplatePolyfill=void 0;var e=require("../lib/dom.js"),t=function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0]||!("content"in document.createElement("template"))){var t=document.implementation.createHTMLDocument("template"),n=t.body,i={enumerable:!0,configurable:!0},r=Document.prototype.createElement;Document.prototype.createElement=function(o,c){var a,l,s=r.call(this,o,c);return"TEMPLATE"===s.tagName&&(a=s,l=t.createDocumentFragment(),Object.defineProperties(a,{content:Object.assign(Object.assign({},i),{get:function(){return l}}),innerHTML:Object.assign(Object.assign({},i),{set:function(t){n.innerHTML=t,(0,e.removeNodes)(l,l.firstChild),(0,e.reparentNodes)(l,n.firstChild)}})})),s}}};exports.initTemplatePolyfill=t;
},{"../lib/dom.js":"JQ4u"}],"Focm":[function(require,module,exports) {
"use strict";var e=p(require("./scripts/util")),t=p(require("./scripts/translate")),o=p(require("./scripts/font-loader")),r=p(require("./scripts/options-app")),l=p(require("./scripts/product-options")),a=p(require("./scripts/product-preview")),i=require("lit-html/polyfills/template_polyfill"),n=f(require("loglevel")),s=p(require("loadjs"));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,o=new WeakMap;return(u=function(e){return e?o:t})(e)}function f(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var o=u(t);if(o&&o.has(e))return o.get(e);var r={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=l?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}return r.default=e,o&&o.set(e,r),r}function p(e){return e&&e.__esModule?e:{default:e}}var d=function(){return!("Promise"in window&&"assign"in Object&&String.prototype.startsWith&&Array.prototype.flat)},c=function(){(0,i.initTemplatePolyfill)();var s=window.Cloudlift.options.config;n.setDefaultLevel(n.levels.ERROR);var u=n.getLevel();n.setLevel(void 0!==s.log?s.log:u),n.debug("got config",s),window.addEventListener("cloudlift.options.ready",function(e){n.debug("resources loaded")});var f=-1===s.api.indexOf("local")?s.api.replace("api.","assets."):s.api;o.default.fonts=s.fonts,o.default.api=f+"/api/font",o.default.apiParams.shop=s.shop,t.default.translations=s.i18n||{},s.setup?window.clTranslate?t.default.translations=e.default.extend(t.default.translations,window.clTranslate):(t.default.api=f+"/api/assets/"+s.app+"/translate/{locale}?shop="+s.shop,t.default.event+="."+s.app,t.default.locale&&s.locale&&t.default.locale!=s.locale&&t.default.fetch(t.default.locale)):(window.Translate=t.default,window.FontLoader=o.default),window.Cloudlift.options.lib={ProductOptions:l.default,ProductPreview:a.default},t.default.ready.then(function(){window.Cloudlift.options.App=new r.default(s)})};d()?(0,s.default)(window.Cloudlift.options.config.assets+"/static/lib/core-js/core-js.min.js",c):c();
},{"./scripts/util":"zY0S","./scripts/translate":"IkY8","./scripts/font-loader":"G9B6","./scripts/options-app":"XdHT","./scripts/product-options":"RI7z","./scripts/product-preview":"wweK","lit-html/polyfills/template_polyfill":"Mv9D","loglevel":"ohSP","loadjs":"xAgl"}]},{},["Focm"], null)